<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>8 Explorer R | Analyse et mod√©lisation d‚Äôagro√©cosyst√®mes</title>
  <meta name="description" content="Ce cours a pour objectif de former les √©tudiants gradu√©s en g√©nie agroenvironnemental, g√©nie civil, g√©nie √©cologique, agronomie, biologie, foresterie et √©cologie en analyse et mod√©lisation de syst√®mes vivants. Les sujets trait√©s sont l‚Äôintroduction au langage de programmation R, l‚Äôanalyse statistique descriptive, la visualisation, la mod√©lisation inf√©rentielle, pr√©dictive et d√©terministe." />
  <meta name="generator" content="bookdown 0.18 and GitBook 2.6.7" />

  <meta property="og:title" content="8 Explorer R | Analyse et mod√©lisation d‚Äôagro√©cosyst√®mes" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="Ce cours a pour objectif de former les √©tudiants gradu√©s en g√©nie agroenvironnemental, g√©nie civil, g√©nie √©cologique, agronomie, biologie, foresterie et √©cologie en analyse et mod√©lisation de syst√®mes vivants. Les sujets trait√©s sont l‚Äôintroduction au langage de programmation R, l‚Äôanalyse statistique descriptive, la visualisation, la mod√©lisation inf√©rentielle, pr√©dictive et d√©terministe." />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="8 Explorer R | Analyse et mod√©lisation d‚Äôagro√©cosyst√®mes" />
  
  <meta name="twitter:description" content="Ce cours a pour objectif de former les √©tudiants gradu√©s en g√©nie agroenvironnemental, g√©nie civil, g√©nie √©cologique, agronomie, biologie, foresterie et √©cologie en analyse et mod√©lisation de syst√®mes vivants. Les sujets trait√©s sont l‚Äôintroduction au langage de programmation R, l‚Äôanalyse statistique descriptive, la visualisation, la mod√©lisation inf√©rentielle, pr√©dictive et d√©terministe." />
  

<meta name="author" content="Serge-√âtienne Parent" />


<meta name="date" content="2020-04-30" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="chapitre-biostats-bayes.html"/>
<link rel="next" href="chapitre-ordination.html"/>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<script src="libs/htmlwidgets-1.5.1/htmlwidgets.js"></script>
<script src="libs/plotly-binding-4.9.2.1/plotly.js"></script>
<script src="libs/typedarray-0.1/typedarray.min.js"></script>
<link href="libs/crosstalk-1.1.0.1/css/crosstalk.css" rel="stylesheet" />
<script src="libs/crosstalk-1.1.0.1/js/crosstalk.min.js"></script>
<link href="libs/plotly-htmlwidgets-css-1.52.2/plotly-htmlwidgets.css" rel="stylesheet" />
<script src="libs/plotly-main-1.52.2/plotly-latest.min.js"></script>
<script src="libs/viz-1.8.2/viz.js"></script>
<link href="libs/DiagrammeR-styles-0.2/styles.css" rel="stylesheet" />
<script src="libs/grViz-binding-1.0.5/grViz.js"></script>
<link href="libs/leaflet-1.3.1/leaflet.css" rel="stylesheet" />
<script src="libs/leaflet-1.3.1/leaflet.js"></script>
<link href="libs/leafletfix-1.0.0/leafletfix.css" rel="stylesheet" />
<script src="libs/Proj4Leaflet-1.0.1/proj4-compressed.js"></script>
<script src="libs/Proj4Leaflet-1.0.1/proj4leaflet.js"></script>
<link href="libs/rstudio_leaflet-1.3.1/rstudio_leaflet.css" rel="stylesheet" />
<script src="libs/leaflet-binding-2.0.3/leaflet.js"></script>
<script src="libs/leaflet-providers-1.9.0/leaflet-providers_1.9.0.js"></script>
<script src="libs/leaflet-providers-plugin-2.0.3/leaflet-providers-plugin.js"></script>
<script src="libs/Leaflet.Sync-0.0.5/L.Map.Sync.js"></script>


<style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(title);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Introduction</a><ul>
<li class="chapter" data-level="1.1" data-path="index.html"><a href="index.html#d√©finitions"><i class="fa fa-check"></i><b>1.1</b> D√©finitions</a></li>
<li class="chapter" data-level="1.2" data-path="index.html"><a href="index.html#√†-qui-sadresse-ce-manuel"><i class="fa fa-check"></i><b>1.2</b> √Ä qui s‚Äôadresse ce manuel?</a></li>
<li class="chapter" data-level="1.3" data-path="index.html"><a href="index.html#les-logiciels-libres"><i class="fa fa-check"></i><b>1.3</b> Les logiciels libres</a></li>
<li class="chapter" data-level="1.4" data-path="index.html"><a href="index.html#langage-de-programmation"><i class="fa fa-check"></i><b>1.4</b> Langage de programmation</a><ul>
<li class="chapter" data-level="1.4.1" data-path="index.html"><a href="index.html#r"><i class="fa fa-check"></i><b>1.4.1</b> R</a></li>
<li class="chapter" data-level="1.4.2" data-path="index.html"><a href="index.html#pourquoi-pas-python"><i class="fa fa-check"></i><b>1.4.2</b> Pourquoi pas Python?</a></li>
<li class="chapter" data-level="1.4.3" data-path="index.html"><a href="index.html#pourquoi-pas-matlab"><i class="fa fa-check"></i><b>1.4.3</b> Pourquoi pas Matlab?</a></li>
<li class="chapter" data-level="1.4.4" data-path="index.html"><a href="index.html#et-sas"><i class="fa fa-check"></i><b>1.4.4</b> Et‚Ä¶ SAS?</a></li>
<li class="chapter" data-level="1.4.5" data-path="index.html"><a href="index.html#mais-pourquoi-pas-______"><i class="fa fa-check"></i><b>1.4.5</b> Mais pourquoi pas ______ ?</a></li>
</ul></li>
<li class="chapter" data-level="1.5" data-path="index.html"><a href="index.html#contenu-du-manuel"><i class="fa fa-check"></i><b>1.5</b> Contenu du manuel</a></li>
<li class="chapter" data-level="1.6" data-path="index.html"><a href="index.html#objectifs-g√©n√©raux"><i class="fa fa-check"></i><b>1.6</b> Objectifs g√©n√©raux</a></li>
<li class="chapter" data-level="1.7" data-path="index.html"><a href="index.html#lectures-compl√©mentaires"><i class="fa fa-check"></i><b>1.7</b> Lectures compl√©mentaires</a><ul>
<li class="chapter" data-level="1.7.1" data-path="index.html"><a href="index.html#√©cologie-math√©matique"><i class="fa fa-check"></i><b>1.7.1</b> √âcologie math√©matique</a></li>
<li class="chapter" data-level="1.7.2" data-path="index.html"><a href="index.html#programmation"><i class="fa fa-check"></i><b>1.7.2</b> Programmation</a></li>
<li class="chapter" data-level="1.7.3" data-path="index.html"><a href="index.html#divers"><i class="fa fa-check"></i><b>1.7.3</b> Divers</a></li>
</ul></li>
<li class="chapter" data-level="1.8" data-path="index.html"><a href="index.html#besoin-daide"><i class="fa fa-check"></i><b>1.8</b> Besoin d‚Äôaide?</a></li>
<li class="chapter" data-level="1.9" data-path="index.html"><a href="index.html#√†-propos-de-lauteur"><i class="fa fa-check"></i><b>1.9</b> √Ä propos de l‚Äôauteur</a></li>
<li class="chapter" data-level="1.10" data-path="index.html"><a href="index.html#un-cours-compl√©mentaire-√†-dautres-cours"><i class="fa fa-check"></i><b>1.10</b> Un cours compl√©mentaire √† d‚Äôautres cours</a></li>
<li class="chapter" data-level="1.11" data-path="index.html"><a href="index.html#contribuer-au-manuel"><i class="fa fa-check"></i><b>1.11</b> Contribuer au manuel</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="chapitre-intro-a-R.html"><a href="chapitre-intro-a-R.html"><i class="fa fa-check"></i><b>2</b> La science des donn√©es avec R</a><ul>
<li class="chapter" data-level="2.1" data-path="chapitre-intro-a-R.html"><a href="chapitre-intro-a-R.html#statistiques-ou-science-des-donn√©es"><i class="fa fa-check"></i><b>2.1</b> Statistiques ou science des donn√©es?</a></li>
<li class="chapter" data-level="2.2" data-path="chapitre-intro-a-R.html"><a href="chapitre-intro-a-R.html#d√©buter-en-r"><i class="fa fa-check"></i><b>2.2</b> D√©buter en R</a></li>
<li class="chapter" data-level="2.3" data-path="chapitre-intro-a-R.html"><a href="chapitre-intro-a-R.html#pr√©parer-son-flux-de-travail"><i class="fa fa-check"></i><b>2.3</b> Pr√©parer son flux de travail</a><ul>
<li class="chapter" data-level="2.3.1" data-path="chapitre-intro-a-R.html"><a href="chapitre-intro-a-R.html#installation-classique"><i class="fa fa-check"></i><b>2.3.1</b> Installation classique</a></li>
<li class="chapter" data-level="2.3.2" data-path="chapitre-intro-a-R.html"><a href="chapitre-intro-a-R.html#installation-avec-anaconda"><i class="fa fa-check"></i><b>2.3.2</b> Installation avec Anaconda</a></li>
<li class="chapter" data-level="2.3.3" data-path="chapitre-intro-a-R.html"><a href="chapitre-intro-a-R.html#utilisation-infonuagique"><i class="fa fa-check"></i><b>2.3.3</b> Utilisation infonuagique</a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="chapitre-intro-a-R.html"><a href="chapitre-intro-a-R.html#premiers-pas-avec-r"><i class="fa fa-check"></i><b>2.4</b> Premiers pas avec R</a><ul>
<li class="chapter" data-level="2.4.1" data-path="chapitre-intro-a-R.html"><a href="chapitre-intro-a-R.html#types-de-donn√©es"><i class="fa fa-check"></i><b>2.4.1</b> Types de donn√©es</a></li>
<li class="chapter" data-level="2.4.2" data-path="chapitre-intro-a-R.html"><a href="chapitre-intro-a-R.html#les-collections-de-donn√©es"><i class="fa fa-check"></i><b>2.4.2</b> Les collections de donn√©es</a></li>
<li class="chapter" data-level="2.4.3" data-path="chapitre-intro-a-R.html"><a href="chapitre-intro-a-R.html#les-fonctions"><i class="fa fa-check"></i><b>2.4.3</b> Les fonctions</a></li>
<li class="chapter" data-level="2.4.4" data-path="chapitre-intro-a-R.html"><a href="chapitre-intro-a-R.html#les-boucles"><i class="fa fa-check"></i><b>2.4.4</b> Les boucles</a></li>
<li class="chapter" data-level="2.4.5" data-path="chapitre-intro-a-R.html"><a href="chapitre-intro-a-R.html#conditions-if-else-if-else"><i class="fa fa-check"></i><b>2.4.5</b> Conditions: <code>if</code>, <code>else if</code>, <code>else</code></a></li>
<li class="chapter" data-level="2.4.6" data-path="chapitre-intro-a-R.html"><a href="chapitre-intro-a-R.html#installer-et-charger-un-module"><i class="fa fa-check"></i><b>2.4.6</b> Installer et charger un module</a></li>
</ul></li>
<li class="chapter" data-level="2.5" data-path="chapitre-intro-a-R.html"><a href="chapitre-intro-a-R.html#enfin"><i class="fa fa-check"></i><b>2.5</b> Enfin‚Ä¶</a></li>
<li class="chapter" data-level="2.6" data-path="chapitre-intro-a-R.html"><a href="chapitre-intro-a-R.html#petit-truc"><i class="fa fa-check"></i><b>2.6</b> Petit truc!</a></li>
<li class="chapter" data-level="2.7" data-path="chapitre-intro-a-R.html"><a href="chapitre-intro-a-R.html#extra-jupyter"><i class="fa fa-check"></i><b>2.7</b> Extra: Utiliser R avec Jupyter</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="chapitre-tableaux.html"><a href="chapitre-tableaux.html"><i class="fa fa-check"></i><b>3</b> Organisation des donn√©es et op√©rations sur des tableaux</a><ul>
<li class="chapter" data-level="3.1" data-path="chapitre-tableaux.html"><a href="chapitre-tableaux.html#les-collections-de-donn√©es-1"><i class="fa fa-check"></i><b>3.1</b> Les collections de donn√©es</a></li>
<li class="chapter" data-level="3.2" data-path="chapitre-tableaux.html"><a href="chapitre-tableaux.html#organiser-un-tableau-de-donn√©es"><i class="fa fa-check"></i><b>3.2</b> Organiser un tableau de donn√©es</a></li>
<li class="chapter" data-level="3.3" data-path="chapitre-tableaux.html"><a href="chapitre-tableaux.html#formats-de-tableau"><i class="fa fa-check"></i><b>3.3</b> Formats de tableau</a><ul>
<li class="chapter" data-level="3.3.1" data-path="chapitre-tableaux.html"><a href="chapitre-tableaux.html#xls-ou-xlsx"><i class="fa fa-check"></i><b>3.3.1</b> <em>xls</em> ou <em>xlsx</em></a></li>
<li class="chapter" data-level="3.3.2" data-path="chapitre-tableaux.html"><a href="chapitre-tableaux.html#csv"><i class="fa fa-check"></i><b>3.3.2</b> <em>csv</em></a></li>
<li class="chapter" data-level="3.3.3" data-path="chapitre-tableaux.html"><a href="chapitre-tableaux.html#json"><i class="fa fa-check"></i><b>3.3.3</b> <em>json</em></a></li>
<li class="chapter" data-level="3.3.4" data-path="chapitre-tableaux.html"><a href="chapitre-tableaux.html#sqlite"><i class="fa fa-check"></i><b>3.3.4</b> SQLite</a></li>
<li class="chapter" data-level="3.3.5" data-path="chapitre-tableaux.html"><a href="chapitre-tableaux.html#suggestion"><i class="fa fa-check"></i><b>3.3.5</b> Suggestion</a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="chapitre-tableaux.html"><a href="chapitre-tableaux.html#entreposer-ses-donn√©es"><i class="fa fa-check"></i><b>3.4</b> Entreposer ses donn√©es</a></li>
<li class="chapter" data-level="3.5" data-path="chapitre-tableaux.html"><a href="chapitre-tableaux.html#manipuler-des-donn√©es-en-mode-tidyverse"><i class="fa fa-check"></i><b>3.5</b> Manipuler des donn√©es en mode tidyverse</a><ul>
<li class="chapter" data-level="3.5.1" data-path="chapitre-tableaux.html"><a href="chapitre-tableaux.html#importer-vos-donn√©es-dans-votre-session-de-travail"><i class="fa fa-check"></i><b>3.5.1</b> Importer vos donn√©es dans votre session de travail</a></li>
<li class="chapter" data-level="3.5.2" data-path="chapitre-tableaux.html"><a href="chapitre-tableaux.html#comment-s√©lectionner-et-filtrer-des-donn√©es"><i class="fa fa-check"></i><b>3.5.2</b> Comment s√©lectionner et filtrer des donn√©es ?</a></li>
<li class="chapter" data-level="3.5.3" data-path="chapitre-tableaux.html"><a href="chapitre-tableaux.html#le-format-long-et-le-format-large"><i class="fa fa-check"></i><b>3.5.3</b> Le format long et le format large</a></li>
<li class="chapter" data-level="3.5.4" data-path="chapitre-tableaux.html"><a href="chapitre-tableaux.html#combiner-des-tableaux"><i class="fa fa-check"></i><b>3.5.4</b> Combiner des tableaux</a></li>
<li class="chapter" data-level="3.5.5" data-path="chapitre-tableaux.html"><a href="chapitre-tableaux.html#op√©rations-sur-les-tableaux"><i class="fa fa-check"></i><b>3.5.5</b> Op√©rations sur les tableaux</a></li>
<li class="chapter" data-level="3.5.6" data-path="chapitre-tableaux.html"><a href="chapitre-tableaux.html#exemple-difficile"><i class="fa fa-check"></i><b>3.5.6</b> Exemple (difficile)</a></li>
<li class="chapter" data-level="3.5.7" data-path="chapitre-tableaux.html"><a href="chapitre-tableaux.html#exporter-un-tableau"><i class="fa fa-check"></i><b>3.5.7</b> Exporter un tableau</a></li>
<li class="chapter" data-level="3.5.8" data-path="chapitre-tableaux.html"><a href="chapitre-tableaux.html#aller-plus-loin-dans-le-tidyverse"><i class="fa fa-check"></i><b>3.5.8</b> Aller plus loin dans le tidyverse</a></li>
</ul></li>
<li class="chapter" data-level="3.6" data-path="chapitre-tableaux.html"><a href="chapitre-tableaux.html#r√©f√©rences"><i class="fa fa-check"></i><b>3.6</b> R√©f√©rences</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="chapitre-visualisation.html"><a href="chapitre-visualisation.html"><i class="fa fa-check"></i><b>4</b> Visualisation</a><ul>
<li class="chapter" data-level="4.1" data-path="chapitre-visualisation.html"><a href="chapitre-visualisation.html#pourquoi-explorer-graphiquement"><i class="fa fa-check"></i><b>4.1</b> Pourquoi explorer graphiquement?</a></li>
<li class="chapter" data-level="4.2" data-path="chapitre-visualisation.html"><a href="chapitre-visualisation.html#publier-un-graphique"><i class="fa fa-check"></i><b>4.2</b> Publier un graphique</a><ul>
<li class="chapter" data-level="4.2.1" data-path="chapitre-visualisation.html"><a href="chapitre-visualisation.html#cinq-qualit√©s-dun-bon-graphique"><i class="fa fa-check"></i><b>4.2.1</b> Cinq qualit√©s d‚Äôun bon graphique</a></li>
</ul></li>
<li class="chapter" data-level="4.3" data-path="chapitre-visualisation.html"><a href="chapitre-visualisation.html#choisir-le-type-de-graphique-le-plus-appropri√©"><i class="fa fa-check"></i><b>4.3</b> Choisir le type de graphique le plus appropri√©</a></li>
<li class="chapter" data-level="4.4" data-path="chapitre-visualisation.html"><a href="chapitre-visualisation.html#choisir-son-outil-de-visualisation"><i class="fa fa-check"></i><b>4.4</b> Choisir son outil de visualisation</a><ul>
<li class="chapter" data-level="4.4.1" data-path="chapitre-visualisation.html"><a href="chapitre-visualisation.html#approche-imp√©rative"><i class="fa fa-check"></i><b>4.4.1</b> Approche imp√©rative</a></li>
<li class="chapter" data-level="4.4.2" data-path="chapitre-visualisation.html"><a href="chapitre-visualisation.html#approche-d√©clarative"><i class="fa fa-check"></i><b>4.4.2</b> Approche d√©clarative</a></li>
</ul></li>
<li class="chapter" data-level="4.5" data-path="chapitre-visualisation.html"><a href="chapitre-visualisation.html#visualisation-en-r"><i class="fa fa-check"></i><b>4.5</b> Visualisation en R</a></li>
<li class="chapter" data-level="4.6" data-path="chapitre-visualisation.html"><a href="chapitre-visualisation.html#module-de-base-pour-les-graphiques"><i class="fa fa-check"></i><b>4.6</b> Module de base pour les graphiques</a></li>
<li class="chapter" data-level="4.7" data-path="chapitre-visualisation.html"><a href="chapitre-visualisation.html#la-grammaire-graphique-ggplot2"><i class="fa fa-check"></i><b>4.7</b> La grammaire graphique <strong><code>ggplot2</code></strong></a></li>
<li class="chapter" data-level="4.8" data-path="chapitre-visualisation.html"><a href="chapitre-visualisation.html#mon-premier-ggplot"><i class="fa fa-check"></i><b>4.8</b> Mon premier ggplot</a><ul>
<li class="chapter" data-level="4.8.1" data-path="chapitre-visualisation.html"><a href="chapitre-visualisation.html#plusieurs-sources-de-donn√©es"><i class="fa fa-check"></i><b>4.8.1</b> Plusieurs sources de donn√©es</a></li>
<li class="chapter" data-level="4.8.2" data-path="chapitre-visualisation.html"><a href="chapitre-visualisation.html#exporter-avec-style"><i class="fa fa-check"></i><b>4.8.2</b> Exporter avec style</a></li>
<li class="chapter" data-level="4.8.3" data-path="chapitre-visualisation.html"><a href="chapitre-visualisation.html#nuages-de-points"><i class="fa fa-check"></i><b>4.8.3</b> Nuages de points</a></li>
<li class="chapter" data-level="4.8.4" data-path="chapitre-visualisation.html"><a href="chapitre-visualisation.html#diagrammes-en-lignes"><i class="fa fa-check"></i><b>4.8.4</b> Diagrammes en lignes</a></li>
<li class="chapter" data-level="4.8.5" data-path="chapitre-visualisation.html"><a href="chapitre-visualisation.html#les-histogrammes"><i class="fa fa-check"></i><b>4.8.5</b> Les histogrammes</a></li>
<li class="chapter" data-level="4.8.6" data-path="chapitre-visualisation.html"><a href="chapitre-visualisation.html#boxplots"><i class="fa fa-check"></i><b>4.8.6</b> Boxplots</a></li>
<li class="chapter" data-level="4.8.7" data-path="chapitre-visualisation.html"><a href="chapitre-visualisation.html#les-diagrammes-en-barre"><i class="fa fa-check"></i><b>4.8.7</b> Les diagrammes en barre</a></li>
<li class="chapter" data-level="4.8.8" data-path="chapitre-visualisation.html"><a href="chapitre-visualisation.html#exporter-un-graphique"><i class="fa fa-check"></i><b>4.8.8</b> Exporter un graphique</a></li>
</ul></li>
<li class="chapter" data-level="4.9" data-path="chapitre-visualisation.html"><a href="chapitre-visualisation.html#les-graphiques-comme-outil-dexploration-des-donn√©es"><i class="fa fa-check"></i><b>4.9</b> Les graphiques comme outil d‚Äôexploration des donn√©es</a><ul>
<li class="chapter" data-level="4.9.1" data-path="chapitre-visualisation.html"><a href="chapitre-visualisation.html#des-graphiques-interactifs"><i class="fa fa-check"></i><b>4.9.1</b> Des graphiques interactifs!</a></li>
<li class="chapter" data-level="4.9.2" data-path="chapitre-visualisation.html"><a href="chapitre-visualisation.html#des-extensions-de-ggplot2"><i class="fa fa-check"></i><b>4.9.2</b> Des extensions de <strong><code>ggplot2</code></strong></a></li>
<li class="chapter" data-level="4.9.3" data-path="chapitre-visualisation.html"><a href="chapitre-visualisation.html#aller-plus-loin-avec-ggplot2"><i class="fa fa-check"></i><b>4.9.3</b> Aller plus loin avec <strong><code>ggplot2</code></strong></a></li>
</ul></li>
<li class="chapter" data-level="4.10" data-path="chapitre-visualisation.html"><a href="chapitre-visualisation.html#extra-r√®gles-particuli√®res"><i class="fa fa-check"></i><b>4.10</b> Extra: R√®gles particuli√®res</a><ul>
<li class="chapter" data-level="4.10.1" data-path="chapitre-visualisation.html"><a href="chapitre-visualisation.html#ne-tronquez-pas-inutilement-laxe-des-y"><i class="fa fa-check"></i><b>4.10.1</b> Ne tronquez pas inutilement l‚Äôaxe des <span class="math inline">\(y\)</span></a></li>
<li class="chapter" data-level="4.10.2" data-path="chapitre-visualisation.html"><a href="chapitre-visualisation.html#utilisez-un-encrage-proportionnel"><i class="fa fa-check"></i><b>4.10.2</b> Utilisez un encrage proportionnel</a></li>
<li class="chapter" data-level="4.10.3" data-path="chapitre-visualisation.html"><a href="chapitre-visualisation.html#publiez-vos-donn√©es"><i class="fa fa-check"></i><b>4.10.3</b> Publiez vos donn√©es</a></li>
<li class="chapter" data-level="4.10.4" data-path="chapitre-visualisation.html"><a href="chapitre-visualisation.html#visitez-www.junkcharts.typepad.com-de-temps-√†-autre"><i class="fa fa-check"></i><b>4.10.4</b> Visitez www.junkcharts.typepad.com de temps √† autre</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="chapitre-git.html"><a href="chapitre-git.html"><i class="fa fa-check"></i><b>5</b> Science ouverte et reproductibilit√©</a><ul>
<li class="chapter" data-level="5.1" data-path="chapitre-git.html"><a href="chapitre-git.html#un-code-reproductible"><i class="fa fa-check"></i><b>5.1</b> Un code reproductible</a><ul>
<li class="chapter" data-level="5.1.1" data-path="chapitre-git.html"><a href="chapitre-git.html#structure-dun-projet"><i class="fa fa-check"></i><b>5.1.1</b> Structure d‚Äôun projet</a></li>
<li class="chapter" data-level="5.1.2" data-path="chapitre-git.html"><a href="chapitre-git.html#le-format-r-markdown"><i class="fa fa-check"></i><b>5.1.2</b> Le format <span>R markdown</span></a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="chapitre-git.html"><a href="chapitre-git.html#introduction-√†-github"><i class="fa fa-check"></i><b>5.2</b> Introduction √† GitHub</a></li>
<li class="chapter" data-level="5.3" data-path="chapitre-git.html"><a href="chapitre-git.html#introduction-√†-pakrat"><i class="fa fa-check"></i><b>5.3</b> Introduction √† Pakrat üì¶üêÄ</a></li>
<li class="chapter" data-level="5.4" data-path="chapitre-git.html"><a href="chapitre-git.html#pour-terminer-le-reprex"><i class="fa fa-check"></i><b>5.4</b> Pour terminer, le <strong>reprex</strong></a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="chapitre-biostats.html"><a href="chapitre-biostats.html"><i class="fa fa-check"></i><b>6</b> Biostatistiques</a><ul>
<li class="chapter" data-level="6.1" data-path="chapitre-biostats.html"><a href="chapitre-biostats.html#populations-et-√©chantillons"><i class="fa fa-check"></i><b>6.1</b> Populations et √©chantillons</a></li>
<li class="chapter" data-level="6.2" data-path="chapitre-biostats.html"><a href="chapitre-biostats.html#les-variables"><i class="fa fa-check"></i><b>6.2</b> Les variables</a><ul>
<li class="chapter" data-level="6.2.1" data-path="chapitre-biostats.html"><a href="chapitre-biostats.html#variables-quantitatives"><i class="fa fa-check"></i><b>6.2.1</b> Variables quantitatives</a></li>
<li class="chapter" data-level="6.2.2" data-path="chapitre-biostats.html"><a href="chapitre-biostats.html#variables-qualitatives"><i class="fa fa-check"></i><b>6.2.2</b> Variables qualitatives</a></li>
</ul></li>
<li class="chapter" data-level="6.3" data-path="chapitre-biostats.html"><a href="chapitre-biostats.html#les-probabilit√©s"><i class="fa fa-check"></i><b>6.3</b> Les probabilit√©s</a></li>
<li class="chapter" data-level="6.4" data-path="chapitre-biostats.html"><a href="chapitre-biostats.html#les-distributions"><i class="fa fa-check"></i><b>6.4</b> Les distributions</a><ul>
<li class="chapter" data-level="6.4.1" data-path="chapitre-biostats.html"><a href="chapitre-biostats.html#distribution-binomiale"><i class="fa fa-check"></i><b>6.4.1</b> Distribution binomiale</a></li>
<li class="chapter" data-level="6.4.2" data-path="chapitre-biostats.html"><a href="chapitre-biostats.html#distribution-de-poisson"><i class="fa fa-check"></i><b>6.4.2</b> Distribution de Poisson</a></li>
<li class="chapter" data-level="6.4.3" data-path="chapitre-biostats.html"><a href="chapitre-biostats.html#distribution-uniforme"><i class="fa fa-check"></i><b>6.4.3</b> Distribution uniforme</a></li>
<li class="chapter" data-level="6.4.4" data-path="chapitre-biostats.html"><a href="chapitre-biostats.html#distribution-normale"><i class="fa fa-check"></i><b>6.4.4</b> Distribution normale</a></li>
</ul></li>
<li class="chapter" data-level="6.5" data-path="chapitre-biostats.html"><a href="chapitre-biostats.html#statistiques-descriptives"><i class="fa fa-check"></i><b>6.5</b> Statistiques descriptives</a></li>
<li class="chapter" data-level="6.6" data-path="chapitre-biostats.html"><a href="chapitre-biostats.html#tests-dhypoth√®ses-√†-un-et-deux-√©chantillons"><i class="fa fa-check"></i><b>6.6</b> Tests d‚Äôhypoth√®ses √† un et deux √©chantillons</a><ul>
<li class="chapter" data-level="6.6.1" data-path="chapitre-biostats.html"><a href="chapitre-biostats.html#test-de-t-√†-un-seul-√©chantillon"><i class="fa fa-check"></i><b>6.6.1</b> Test de t √† un seul √©chantillon</a></li>
<li class="chapter" data-level="6.6.2" data-path="chapitre-biostats.html"><a href="chapitre-biostats.html#attention-mauvaises-interpr√©tations-des-p-values"><i class="fa fa-check"></i><b>6.6.2</b> Attention: mauvaises interpr√©tations des <em>p-values</em></a></li>
<li class="chapter" data-level="6.6.3" data-path="chapitre-biostats.html"><a href="chapitre-biostats.html#test-de-wilcoxon-√†-un-seul-√©chantillon"><i class="fa fa-check"></i><b>6.6.3</b> Test de Wilcoxon √† un seul √©chantillon</a></li>
<li class="chapter" data-level="6.6.4" data-path="chapitre-biostats.html"><a href="chapitre-biostats.html#tests-de-t-√†-deux-√©chantillons"><i class="fa fa-check"></i><b>6.6.4</b> Tests de t √† deux √©chantillons</a></li>
<li class="chapter" data-level="6.6.5" data-path="chapitre-biostats.html"><a href="chapitre-biostats.html#comparaison-des-variances"><i class="fa fa-check"></i><b>6.6.5</b> Comparaison des variances</a></li>
<li class="chapter" data-level="6.6.6" data-path="chapitre-biostats.html"><a href="chapitre-biostats.html#tests-de-wilcoxon-√†-deux-√©chantillons"><i class="fa fa-check"></i><b>6.6.6</b> Tests de Wilcoxon √† deux √©chantillons</a></li>
<li class="chapter" data-level="6.6.7" data-path="chapitre-biostats.html"><a href="chapitre-biostats.html#les-tests-pair√©s"><i class="fa fa-check"></i><b>6.6.7</b> Les tests pair√©s</a></li>
</ul></li>
<li class="chapter" data-level="6.7" data-path="chapitre-biostats.html"><a href="chapitre-biostats.html#lanalyse-de-variance"><i class="fa fa-check"></i><b>6.7</b> L‚Äôanalyse de variance</a></li>
<li class="chapter" data-level="6.8" data-path="chapitre-biostats.html"><a href="chapitre-biostats.html#les-mod√®les-statistiques"><i class="fa fa-check"></i><b>6.8</b> Les mod√®les statistiques</a><ul>
<li class="chapter" data-level="6.8.1" data-path="chapitre-biostats.html"><a href="chapitre-biostats.html#mod√®les-√†-effets-fixes"><i class="fa fa-check"></i><b>6.8.1</b> Mod√®les √† effets fixes</a></li>
<li class="chapter" data-level="6.8.2" data-path="chapitre-biostats.html"><a href="chapitre-biostats.html#mod√®les-√†-effets-mixtes"><i class="fa fa-check"></i><b>6.8.2</b> Mod√®les √† effets mixtes</a></li>
<li class="chapter" data-level="6.8.3" data-path="chapitre-biostats.html"><a href="chapitre-biostats.html#aller-plus-loin"><i class="fa fa-check"></i><b>6.8.3</b> Aller plus loin</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="7" data-path="chapitre-biostats-bayes.html"><a href="chapitre-biostats-bayes.html"><i class="fa fa-check"></i><b>7</b> Introduction √† l‚Äôanalyse bay√©sienne en √©cologie</a><ul>
<li class="chapter" data-level="7.1" data-path="chapitre-biostats-bayes.html"><a href="chapitre-biostats-bayes.html#quest-ce-que-cest"><i class="fa fa-check"></i><b>7.1</b> Qu‚Äôest-ce que c‚Äôest?</a></li>
<li class="chapter" data-level="7.2" data-path="chapitre-biostats-bayes.html"><a href="chapitre-biostats-bayes.html#pourquoi-lutiliser"><i class="fa fa-check"></i><b>7.2</b> Pourquoi l‚Äôutiliser?</a></li>
<li class="chapter" data-level="7.3" data-path="chapitre-biostats-bayes.html"><a href="chapitre-biostats-bayes.html#comment-lutiliser"><i class="fa fa-check"></i><b>7.3</b> Comment l‚Äôutiliser?</a></li>
<li class="chapter" data-level="7.4" data-path="chapitre-biostats-bayes.html"><a href="chapitre-biostats-bayes.html#faucons-p√©lerins"><i class="fa fa-check"></i><b>7.4</b> Faucons p√©lerins</a></li>
<li class="chapter" data-level="7.5" data-path="chapitre-biostats-bayes.html"><a href="chapitre-biostats-bayes.html#statistiques-dune-population"><i class="fa fa-check"></i><b>7.5</b> Statistiques d‚Äôune population</a><ul>
<li class="chapter" data-level="7.5.1" data-path="chapitre-biostats-bayes.html"><a href="chapitre-biostats-bayes.html#calcul-analytique"><i class="fa fa-check"></i><b>7.5.1</b> Calcul analytique</a></li>
<li class="chapter" data-level="7.5.2" data-path="chapitre-biostats-bayes.html"><a href="chapitre-biostats-bayes.html#greta"><i class="fa fa-check"></i><b>7.5.2</b> greta</a></li>
</ul></li>
<li class="chapter" data-level="7.6" data-path="chapitre-biostats-bayes.html"><a href="chapitre-biostats-bayes.html#test-de-t-diff√©rence-entre-des-groupes"><i class="fa fa-check"></i><b>7.6</b> Test de t: Diff√©rence entre des groupes</a></li>
<li class="chapter" data-level="7.7" data-path="chapitre-biostats-bayes.html"><a href="chapitre-biostats-bayes.html#mod√©lisation-multiniveau"><i class="fa fa-check"></i><b>7.7</b> Mod√©lisation multiniveau</a></li>
<li class="chapter" data-level="7.8" data-path="chapitre-biostats-bayes.html"><a href="chapitre-biostats-bayes.html#pour-aller-plus-loin"><i class="fa fa-check"></i><b>7.8</b> Pour aller plus loin</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="chapitre-explorer.html"><a href="chapitre-explorer.html"><i class="fa fa-check"></i><b>8</b> Explorer R</a><ul>
<li class="chapter" data-level="8.1" data-path="chapitre-explorer.html"><a href="chapitre-explorer.html#r-sur-le-web"><i class="fa fa-check"></i><b>8.1</b> R sur le web</a><ul>
<li class="chapter" data-level="8.1.1" data-path="chapitre-explorer.html"><a href="chapitre-explorer.html#github"><i class="fa fa-check"></i><b>8.1.1</b> GitHub</a></li>
<li class="chapter" data-level="8.1.2" data-path="chapitre-explorer.html"><a href="chapitre-explorer.html#twitter"><i class="fa fa-check"></i><b>8.1.2</b> Twitter</a></li>
<li class="chapter" data-level="8.1.3" data-path="chapitre-explorer.html"><a href="chapitre-explorer.html#nouvelles"><i class="fa fa-check"></i><b>8.1.3</b> Nouvelles</a></li>
<li class="chapter" data-level="8.1.4" data-path="chapitre-explorer.html"><a href="chapitre-explorer.html#des-questions"><i class="fa fa-check"></i><b>8.1.4</b> Des questions?</a></li>
<li class="chapter" data-level="8.1.5" data-path="chapitre-explorer.html"><a href="chapitre-explorer.html#participer"><i class="fa fa-check"></i><b>8.1.5</b> Participer</a></li>
<li class="chapter" data-level="8.1.6" data-path="chapitre-explorer.html"><a href="chapitre-explorer.html#mise-en-garde"><i class="fa fa-check"></i><b>8.1.6</b> Mise en garde</a></li>
<li class="chapter" data-level="8.1.7" data-path="chapitre-explorer.html"><a href="chapitre-explorer.html#prendre-tout-√ßa-en-note"><i class="fa fa-check"></i><b>8.1.7</b> Prendre tout √ßa en note</a></li>
</ul></li>
<li class="chapter" data-level="8.2" data-path="chapitre-explorer.html"><a href="chapitre-explorer.html#r-en-chaire-et-en-os"><i class="fa fa-check"></i><b>8.2</b> R en chaire et en os</a></li>
<li class="chapter" data-level="8.3" data-path="chapitre-explorer.html"><a href="chapitre-explorer.html#quelques-outils-en-√©cologie-math√©matique-avec-r"><i class="fa fa-check"></i><b>8.3</b> Quelques outils en √©cologie math√©matique avec R</a><ul>
<li class="chapter" data-level="8.3.1" data-path="chapitre-explorer.html"><a href="chapitre-explorer.html#pr√©traitement-des-donn√©es"><i class="fa fa-check"></i><b>8.3.1</b> Pr√©traitement des donn√©es</a></li>
<li class="chapter" data-level="8.3.2" data-path="chapitre-explorer.html"><a href="chapitre-explorer.html#acqu√©rir-des-donn√©es-m√©t√©o"><i class="fa fa-check"></i><b>8.3.2</b> Acqu√©rir des donn√©es m√©t√©o</a></li>
<li class="chapter" data-level="8.3.3" data-path="chapitre-explorer.html"><a href="chapitre-explorer.html#p√©dom√©trie-avec-r"><i class="fa fa-check"></i><b>8.3.3</b> P√©dom√©trie avec R</a></li>
<li class="chapter" data-level="8.3.4" data-path="chapitre-explorer.html"><a href="chapitre-explorer.html#m√©ta-analyses-en-r"><i class="fa fa-check"></i><b>8.3.4</b> M√©ta-analyses en R</a></li>
<li class="chapter" data-level="8.3.5" data-path="chapitre-explorer.html"><a href="chapitre-explorer.html#cr√©er-des-applications-avec-r"><i class="fa fa-check"></i><b>8.3.5</b> Cr√©er des applications avec R</a></li>
<li class="chapter" data-level="8.3.6" data-path="chapitre-explorer.html"><a href="chapitre-explorer.html#travailler-en-python"><i class="fa fa-check"></i><b>8.3.6</b> Travailler en Python</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="9" data-path="chapitre-ordination.html"><a href="chapitre-ordination.html"><i class="fa fa-check"></i><b>9</b> Association, partitionnement et ordination</a><ul>
<li class="chapter" data-level="9.1" data-path="chapitre-ordination.html"><a href="chapitre-ordination.html#espaces-danalyse"><i class="fa fa-check"></i><b>9.1</b> Espaces d‚Äôanalyse</a><ul>
<li class="chapter" data-level="9.1.1" data-path="chapitre-ordination.html"><a href="chapitre-ordination.html#abondance-et-occurence"><i class="fa fa-check"></i><b>9.1.1</b> Abondance et occurence</a></li>
<li class="chapter" data-level="9.1.2" data-path="chapitre-ordination.html"><a href="chapitre-ordination.html#environnement"><i class="fa fa-check"></i><b>9.1.2</b> Environnement</a></li>
</ul></li>
<li class="chapter" data-level="9.2" data-path="chapitre-ordination.html"><a href="chapitre-ordination.html#analyse-dassociation"><i class="fa fa-check"></i><b>9.2</b> Analyse d‚Äôassociation</a><ul>
<li class="chapter" data-level="9.2.1" data-path="chapitre-ordination.html"><a href="chapitre-ordination.html#association-entre-objets-mode-q"><i class="fa fa-check"></i><b>9.2.1</b> Association entre objets (mode Q)</a></li>
<li class="chapter" data-level="9.2.2" data-path="chapitre-ordination.html"><a href="chapitre-ordination.html#associations-entre-variables-mode-r"><i class="fa fa-check"></i><b>9.2.2</b> Associations entre variables (mode R)</a></li>
<li class="chapter" data-level="9.2.3" data-path="chapitre-ordination.html"><a href="chapitre-ordination.html#conclusion-sur-les-associations"><i class="fa fa-check"></i><b>9.2.3</b> Conclusion sur les associations</a></li>
</ul></li>
<li class="chapter" data-level="9.3" data-path="chapitre-ordination.html"><a href="chapitre-ordination.html#partitionnement"><i class="fa fa-check"></i><b>9.3</b> Partitionnement</a><ul>
<li class="chapter" data-level="9.3.1" data-path="chapitre-ordination.html"><a href="chapitre-ordination.html#√©valuation-dun-partitionnement"><i class="fa fa-check"></i><b>9.3.1</b> √âvaluation d‚Äôun partitionnement</a></li>
<li class="chapter" data-level="9.3.2" data-path="chapitre-ordination.html"><a href="chapitre-ordination.html#partitionnement-non-hi√©rarchique"><i class="fa fa-check"></i><b>9.3.2</b> Partitionnement non hi√©rarchique</a></li>
<li class="chapter" data-level="9.3.3" data-path="chapitre-ordination.html"><a href="chapitre-ordination.html#partitionnement-hi√©rarchique"><i class="fa fa-check"></i><b>9.3.3</b> Partitionnement hi√©rarchique</a></li>
<li class="chapter" data-level="9.3.4" data-path="chapitre-ordination.html"><a href="chapitre-ordination.html#partitionnement-hi√©rarchique-bas√©e-sur-la-densit√©-des-points"><i class="fa fa-check"></i><b>9.3.4</b> Partitionnement hi√©rarchique bas√©e sur la densit√© des points</a></li>
<li class="chapter" data-level="9.3.5" data-path="chapitre-ordination.html"><a href="chapitre-ordination.html#conclusion-sur-le-partitionnement"><i class="fa fa-check"></i><b>9.3.5</b> Conclusion sur le partitionnement</a></li>
</ul></li>
<li class="chapter" data-level="9.4" data-path="chapitre-ordination.html"><a href="chapitre-ordination.html#ordination"><i class="fa fa-check"></i><b>9.4</b> Ordination</a><ul>
<li class="chapter" data-level="9.4.1" data-path="chapitre-ordination.html"><a href="chapitre-ordination.html#ordination-non-contraignante"><i class="fa fa-check"></i><b>9.4.1</b> Ordination non contraignante</a></li>
<li class="chapter" data-level="9.4.2" data-path="chapitre-ordination.html"><a href="chapitre-ordination.html#ordination-contraignante"><i class="fa fa-check"></i><b>9.4.2</b> Ordination contraignante</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="10" data-path="chapitre-outliers.html"><a href="chapitre-outliers.html"><i class="fa fa-check"></i><b>10</b> D√©tection de valeurs aberrantes et imputation de donn√©es manquantes</a><ul>
<li class="chapter" data-level="10.1" data-path="chapitre-outliers.html"><a href="chapitre-outliers.html#donn√©es-manquantes-d√©finition-origine-typologie-et-traitement"><i class="fa fa-check"></i><b>10.1</b> Donn√©es manquantes: d√©finition, origine, typologie et traitement</a><ul>
<li class="chapter" data-level="10.1.1" data-path="chapitre-outliers.html"><a href="chapitre-outliers.html#d√©finition"><i class="fa fa-check"></i><b>10.1.1</b> D√©finition</a></li>
<li class="chapter" data-level="10.1.2" data-path="chapitre-outliers.html"><a href="chapitre-outliers.html#origines-des-donn√©es-manquantes"><i class="fa fa-check"></i><b>10.1.2</b> Origines des donn√©es manquantes</a></li>
<li class="chapter" data-level="10.1.3" data-path="chapitre-outliers.html"><a href="chapitre-outliers.html#profils-des-donn√©es-manquantes"><i class="fa fa-check"></i><b>10.1.3</b> Profils des donn√©es manquantes</a></li>
<li class="chapter" data-level="10.1.4" data-path="chapitre-outliers.html"><a href="chapitre-outliers.html#traitement-des-donn√©es-manquantes"><i class="fa fa-check"></i><b>10.1.4</b> Traitement des donn√©es manquantes</a></li>
</ul></li>
<li class="chapter" data-level="10.2" data-path="chapitre-outliers.html"><a href="chapitre-outliers.html#valeurs-et-√©chantillons-aberrants-d√©finition-origines-m√©thodes-de-d√©tection-et-traitement"><i class="fa fa-check"></i><b>10.2</b> Valeurs et √©chantillons aberrants: d√©finition, origines, m√©thodes de d√©tection et traitement</a><ul>
<li class="chapter" data-level="10.2.1" data-path="chapitre-outliers.html"><a href="chapitre-outliers.html#d√©finitions-1"><i class="fa fa-check"></i><b>10.2.1</b> D√©finitions</a></li>
<li class="chapter" data-level="10.2.2" data-path="chapitre-outliers.html"><a href="chapitre-outliers.html#origines"><i class="fa fa-check"></i><b>10.2.2</b> Origines</a></li>
<li class="chapter" data-level="10.2.3" data-path="chapitre-outliers.html"><a href="chapitre-outliers.html#d√©tection-et-traitement-des-valeurs-aberrantes-univari√©s"><i class="fa fa-check"></i><b>10.2.3</b> D√©tection et traitement des valeurs aberrantes univari√©s</a></li>
<li class="chapter" data-level="10.2.4" data-path="chapitre-outliers.html"><a href="chapitre-outliers.html#d√©tection-et-traitement-des-√©chantillons-aberrants-multivari√©s"><i class="fa fa-check"></i><b>10.2.4</b> D√©tection et traitement des √©chantillons aberrants multivari√©s</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="11" data-path="chapitre-ml.html"><a href="chapitre-ml.html"><i class="fa fa-check"></i><b>11</b> Introduction √† l‚Äôautoapprentissage</a><ul>
<li class="chapter" data-level="11.1" data-path="chapitre-ml.html"><a href="chapitre-ml.html#lexique"><i class="fa fa-check"></i><b>11.1</b> Lexique</a></li>
<li class="chapter" data-level="11.2" data-path="chapitre-ml.html"><a href="chapitre-ml.html#d√©marche"><i class="fa fa-check"></i><b>11.2</b> D√©marche</a><ul>
<li class="chapter" data-level="11.2.1" data-path="chapitre-ml.html"><a href="chapitre-ml.html#pr√©traitement"><i class="fa fa-check"></i><b>11.2.1</b> Pr√©traitement</a></li>
<li class="chapter" data-level="11.2.2" data-path="chapitre-ml.html"><a href="chapitre-ml.html#entra√Ænement-et-test"><i class="fa fa-check"></i><b>11.2.2</b> Entra√Ænement et test</a></li>
<li class="chapter" data-level="11.2.3" data-path="chapitre-ml.html"><a href="chapitre-ml.html#sousapprentissage-et-surapprentissage"><i class="fa fa-check"></i><b>11.2.3</b> Sousapprentissage et surapprentissage</a></li>
<li class="chapter" data-level="11.2.4" data-path="chapitre-ml.html"><a href="chapitre-ml.html#validation-crois√©e"><i class="fa fa-check"></i><b>11.2.4</b> Validation crois√©e</a></li>
<li class="chapter" data-level="11.2.5" data-path="chapitre-ml.html"><a href="chapitre-ml.html#choix-de-lalgorithme-dapprentissage"><i class="fa fa-check"></i><b>11.2.5</b> Choix de l‚Äôalgorithme d‚Äôapprentissage</a></li>
<li class="chapter" data-level="11.2.6" data-path="chapitre-ml.html"><a href="chapitre-ml.html#d√©ploiement"><i class="fa fa-check"></i><b>11.2.6</b> D√©ploiement</a></li>
</ul></li>
<li class="chapter" data-level="11.3" data-path="chapitre-ml.html"><a href="chapitre-ml.html#lautoapprentissage-en-r"><i class="fa fa-check"></i><b>11.3</b> L‚Äôautoapprentissage en R</a></li>
<li class="chapter" data-level="11.4" data-path="chapitre-ml.html"><a href="chapitre-ml.html#algorithmes"><i class="fa fa-check"></i><b>11.4</b> Algorithmes</a><ul>
<li class="chapter" data-level="11.4.1" data-path="chapitre-ml.html"><a href="chapitre-ml.html#les-k-plus-proches-voisins"><i class="fa fa-check"></i><b>11.4.1</b> Les <em>k</em> plus proches voisins</a></li>
<li class="chapter" data-level="11.4.2" data-path="chapitre-ml.html"><a href="chapitre-ml.html#les-arbres-d√©cisionnels"><i class="fa fa-check"></i><b>11.4.2</b> Les arbres d√©cisionnels</a></li>
<li class="chapter" data-level="11.4.3" data-path="chapitre-ml.html"><a href="chapitre-ml.html#les-r√©seaux-neuronaux"><i class="fa fa-check"></i><b>11.4.3</b> Les r√©seaux neuronaux</a></li>
<li class="chapter" data-level="11.4.4" data-path="chapitre-ml.html"><a href="chapitre-ml.html#les-processus-gaussiens"><i class="fa fa-check"></i><b>11.4.4</b> Les processus gaussiens</a></li>
<li class="chapter" data-level="11.4.5" data-path="chapitre-ml.html"><a href="chapitre-ml.html#les-processus-gaussiens-en-r"><i class="fa fa-check"></i><b>11.4.5</b> Les processus gaussiens en <code>R</code></a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="12" data-path="chapitre-temps.html"><a href="chapitre-temps.html"><i class="fa fa-check"></i><b>12</b> Les s√©ries temporelles</a><ul>
<li class="chapter" data-level="12.1" data-path="chapitre-temps.html"><a href="chapitre-temps.html#op√©rations-sur-les-donn√©es-temporelles"><i class="fa fa-check"></i><b>12.1</b> Op√©rations sur les donn√©es temporelles</a></li>
<li class="chapter" data-level="12.2" data-path="chapitre-temps.html"><a href="chapitre-temps.html#analyse-de-s√©ries-temporelles"><i class="fa fa-check"></i><b>12.2</b> Analyse de s√©ries temporelles</a><ul>
<li class="chapter" data-level="12.2.1" data-path="chapitre-temps.html"><a href="chapitre-temps.html#cr√©er-et-visualiser-des-s√©ries-temporelles"><i class="fa fa-check"></i><b>12.2.1</b> Cr√©er et visualiser des s√©ries temporelles</a></li>
<li class="chapter" data-level="12.2.2" data-path="chapitre-temps.html"><a href="chapitre-temps.html#structures-dans-les-s√©ries-temporelles"><i class="fa fa-check"></i><b>12.2.2</b> Structures dans les s√©ries temporelles</a></li>
<li class="chapter" data-level="12.2.3" data-path="chapitre-temps.html"><a href="chapitre-temps.html#lautocorr√©lation"><i class="fa fa-check"></i><b>12.2.3</b> L‚Äôautocorr√©lation</a></li>
<li class="chapter" data-level="12.2.4" data-path="chapitre-temps.html"><a href="chapitre-temps.html#signification-statistique-dune-s√©rie-temporelle"><i class="fa fa-check"></i><b>12.2.4</b> Signification statistique d‚Äôune s√©rie temporelle</a></li>
</ul></li>
<li class="chapter" data-level="12.3" data-path="chapitre-temps.html"><a href="chapitre-temps.html#mod√©lisation-de-s√©ries-temporelles"><i class="fa fa-check"></i><b>12.3</b> Mod√©lisation de s√©ries temporelles</a><ul>
<li class="chapter" data-level="12.3.1" data-path="chapitre-temps.html"><a href="chapitre-temps.html#m√©thode-na√Øve"><i class="fa fa-check"></i><b>12.3.1</b> M√©thode na√Øve</a></li>
<li class="chapter" data-level="12.3.2" data-path="chapitre-temps.html"><a href="chapitre-temps.html#m√©thode-ses"><i class="fa fa-check"></i><b>12.3.2</b> M√©thode SES</a></li>
<li class="chapter" data-level="12.3.3" data-path="chapitre-temps.html"><a href="chapitre-temps.html#la-m√©thode-arima"><i class="fa fa-check"></i><b>12.3.3</b> La m√©thode ARIMA</a></li>
<li class="chapter" data-level="12.3.4" data-path="chapitre-temps.html"><a href="chapitre-temps.html#les-mod√®les-dynamiques"><i class="fa fa-check"></i><b>12.3.4</b> Les mod√®les dynamiques</a></li>
<li class="chapter" data-level="12.3.5" data-path="chapitre-temps.html"><a href="chapitre-temps.html#les-mod√®les-tbats"><i class="fa fa-check"></i><b>12.3.5</b> Les mod√®les TBATS</a></li>
</ul></li>
<li class="chapter" data-level="12.4" data-path="chapitre-temps.html"><a href="chapitre-temps.html#pour-terminer"><i class="fa fa-check"></i><b>12.4</b> Pour terminer‚Ä¶</a></li>
</ul></li>
<li class="chapter" data-level="13" data-path="chapitre-geo.html"><a href="chapitre-geo.html"><i class="fa fa-check"></i><b>13</b> Les donn√©es g√©ospatiales</a><ul>
<li class="chapter" data-level="13.1" data-path="chapitre-geo.html"><a href="chapitre-geo.html#les-donn√©es-spatiales"><i class="fa fa-check"></i><b>13.1</b> Les donn√©es spatiales</a></li>
<li class="chapter" data-level="13.2" data-path="chapitre-geo.html"><a href="chapitre-geo.html#cartographier-avec-le-module-ggmap"><i class="fa fa-check"></i><b>13.2</b> Cartographier avec le module <strong><code>ggmap</code></strong></a></li>
<li class="chapter" data-level="13.3" data-path="chapitre-geo.html"><a href="chapitre-geo.html#types-g√©n√©riques-de-donn√©es-spatiales"><i class="fa fa-check"></i><b>13.3</b> Types g√©n√©riques de donn√©es spatiales</a></li>
<li class="chapter" data-level="13.4" data-path="chapitre-geo.html"><a href="chapitre-geo.html#les-choropl√®the"><i class="fa fa-check"></i><b>13.4</b> Les choropl√®the</a></li>
<li class="chapter" data-level="13.5" data-path="chapitre-geo.html"><a href="chapitre-geo.html#les-rasters"><i class="fa fa-check"></i><b>13.5</b> Les rasters</a></li>
<li class="chapter" data-level="13.6" data-path="chapitre-geo.html"><a href="chapitre-geo.html#autoapprentissage-spatial"><i class="fa fa-check"></i><b>13.6</b> Autoapprentissage spatial</a></li>
<li class="chapter" data-level="13.7" data-path="chapitre-geo.html"><a href="chapitre-geo.html#les-objets-spatialis√©s-en-r"><i class="fa fa-check"></i><b>13.7</b> Les objets spatialis√©s en R</a><ul>
<li class="chapter" data-level="13.7.1" data-path="chapitre-geo.html"><a href="chapitre-geo.html#donn√©es-vectorielles-points-lignes-et-polygones"><i class="fa fa-check"></i><b>13.7.1</b> Donn√©es vectorielles (points, lignes et polygones)</a></li>
<li class="chapter" data-level="13.7.2" data-path="chapitre-geo.html"><a href="chapitre-geo.html#donn√©es-raster"><i class="fa fa-check"></i><b>13.7.2</b> Donn√©es raster</a></li>
</ul></li>
<li class="chapter" data-level="13.8" data-path="chapitre-geo.html"><a href="chapitre-geo.html#section-systeme-coord"><i class="fa fa-check"></i><b>13.8</b> Les syst√®mes de coordonn√©es</a></li>
<li class="chapter" data-level="13.9" data-path="chapitre-geo.html"><a href="chapitre-geo.html#manipuler-des-tableaux-sf"><i class="fa fa-check"></i><b>13.9</b> Manipuler des tableaux <code>sf</code></a></li>
<li class="chapter" data-level="13.10" data-path="chapitre-geo.html"><a href="chapitre-geo.html#manipuler-des-objets-raster"><i class="fa fa-check"></i><b>13.10</b> Manipuler des objets raster</a></li>
<li class="chapter" data-level="13.11" data-path="chapitre-geo.html"><a href="chapitre-geo.html#graphiques-dobjets-spatialis√©s"><i class="fa fa-check"></i><b>13.11</b> Graphiques d‚Äôobjets spatialis√©s</a></li>
<li class="chapter" data-level="13.12" data-path="chapitre-geo.html"><a href="chapitre-geo.html#ressources-compl√©mentaires"><i class="fa fa-check"></i><b>13.12</b> Ressources compl√©mentaires</a></li>
</ul></li>
<li class="chapter" data-level="14" data-path="chapitre-ode.html"><a href="chapitre-ode.html"><i class="fa fa-check"></i><b>14</b> Mod√©lisation de m√©canismes √©cologiques</a><ul>
<li class="chapter" data-level="14.1" data-path="chapitre-ode.html"><a href="chapitre-ode.html#√©quations-diff√©rentielles"><i class="fa fa-check"></i><b>14.1</b> √âquations diff√©rentielles</a></li>
<li class="chapter" data-level="14.2" data-path="chapitre-ode.html"><a href="chapitre-ode.html#les-√©quations-diff√©rentielles-ordinaires-en-mod√©lisation-√©cologique"><i class="fa fa-check"></i><b>14.2</b> Les √©quations diff√©rentielles ordinaires en mod√©lisation √©cologique</a><ul>
<li class="chapter" data-level="14.2.1" data-path="chapitre-ode.html"><a href="chapitre-ode.html#√©volution-dune-seule-population-en-fonction-du-temps"><i class="fa fa-check"></i><b>14.2.1</b> √âvolution d‚Äôune seule population en fonction du temps</a></li>
<li class="chapter" data-level="14.2.2" data-path="chapitre-ode.html"><a href="chapitre-ode.html#population-exploit√©e"><i class="fa fa-check"></i><b>14.2.2</b> Population exploit√©e</a></li>
<li class="chapter" data-level="14.2.3" data-path="chapitre-ode.html"><a href="chapitre-ode.html#interactions-biologiques"><i class="fa fa-check"></i><b>14.2.3</b> Interactions biologiques</a></li>
</ul></li>
</ul></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Analyse et mod√©lisation d‚Äôagro√©cosyst√®mes</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="chapitre-explorer" class="section level1">
<h1><span class="header-section-number">8</span> Explorer R</h1>
<p>L‚Äôapprentissage de R peut √™tre √©tourdissant. Cette section est une petite pause fourre-tout qui vous introduira aux nombreuses possibilit√©s de R.</p>
<hr />
<p>Ô∏è¬†<strong>Objectifs sp√©cifiques</strong>:</p>
<p>√Ä la fin de ce chapitre, vous</p>
<ul>
<li>serez en mesure d‚Äôidentifier les sources d‚Äôinformation principales sur le d√©veloppement de R et de ses modules</li>
<li>comprendrez l‚Äôimportance du pr√©traitement des donn√©es, en particulier dans le cadre de l‚Äôanalyse de donn√©es compositionnelles, et saurez effectuer un pr√©traitement ad√©quat</li>
<li>saurez comment acqu√©rir des donn√©es m√©t√©o d‚ÄôEnvironnement Canada avec le module <a href="http://ropensci.github.io/weathercan/">weathercan</a></li>
<li>saurez identifier les modules d‚Äôanalyse de sols (<a href="https://github.com/julienmoeys/soiltexture">soiltexture</a> et <a href="http://ncss-tech.github.io/aqp/docs/">aqp</a>)</li>
<li>saurez comment d√©buter un projet de m√©ta-analyse et de d√©ploiement d‚Äôun logiciel sur R</li>
</ul>
<hr />
<p>Pour certains, le langage R est un labyrinthe. Pour d‚Äôautres, c‚Äôest une myriade de portes ouvertes. Si vous lisez ce manuel, vous vous √™tes peut-√™tre engag√© dans un labyrinthe dans l‚Äôobjectif d‚Äôy trouver la cl√© qui d√©v√©rouillera une porte bien pr√©cise qui m√®ne √† un tr√©sor, un objet magique‚Ä¶ ou un dipl√¥me. Peut-√™tre aussi prendrez-vous le go√ªt d‚Äôerrer dans ce labyrinthe, explorant ses d√©bouch√©s, pour y d√©nicher au hasard des petits outils et des d√©bouch√©s.</p>
<div class="figure" style="text-align: center"><span id="fig:expl-zelda"></span>
<img src="images/06_zelda.gif" alt="S√©quence du jeu vid√©o *The legend of Zelda*, source inconnue." width="50%" />
<p class="caption">
Figure 8.1: S√©quence du jeu vid√©o <em>The legend of Zelda</em>, source inconnue.
</p>
</div>
<p>Cette section est un amalgame de plusieurs outils de R pertinents en analyse √©cologique.</p>
<div id="r-sur-le-web" class="section level2">
<h2><span class="header-section-number">8.1</span> R sur le web</h2>
<p>Dans un environnement de travail en √©volution rapide et constante, il est difficile de consid√©rer que ses comp√©tences sont abouties. Rester inform√© sur le d√©veloppement de R vous permettra de d√©nicher de r√©soudre des probl√®mes persistants de mani√®re plus efficace ou par de nouvelles avenues, et vous offrira m√™me l‚Äôoccasion de d√©nicher des probl√®mes dont vous ne soup√ßonniez pas l‚Äôexistance. Plusieurs sources d‚Äôinformation vous permettront de vous tenir √† jour sur le d√©veloppement de R, de ses environnement de travail (RStudio, Jupyter, Atom, etc.) et des nouveaux modules qui s‚Äôy greffent. Plus largement, vous gagnerez √† vous informer sur les derni√®res tendances en calcul scientifique sur d‚Äôautres plate-forme que R (Python, Javascript, Julia, etc.). √âvidemment, nos t√¢ches quotidiennes ne nous permettent pas de tout suivre. M√™me si vous pouviez n‚Äôattrapper qu‚Äô1% du d√©filement, ce sera d√©j√† 1% de plus que rien du tout.</p>
<blockquote>
<p>√âvidemment, rester au courant aide parce que vous en apprenez davantage sur les outils et leurs applications. Mais √ßa aide aussi parce que √ßa vous permet de conna√Ætre des gens et des organisations! Il est tr√®s utile de savoir qui travaille sur quoi et o√π se d√©roulent les d√©veloppements sur un sujet donn√©, car si vous cherchez consciemment quelque chose plus tard, √ßa vous aidera √† trouver votre chemin plus facilement. - Ma√´lle Salmon, <a href="https://masalmon.eu/2019/01/25/uptodate/">Keeping up to date with R news</a> (ma traduction)</p>
</blockquote>
<p>Je vous propose une liste de ressources. Ne vous y tenez surtout pas: discartez ce qui ne vous convient pas, et partez √† l‚Äôaventure!</p>
<div class="figure" style="text-align: center"><span id="fig:expl-hobbit"></span>
<img src="images/06_hobbit.gif" alt="Tir√© du film *The Hobbit: An Unexpected Journey*, de Peter Jackson (2012)." width="70%" />
<p class="caption">
Figure 8.2: Tir√© du film <em>The Hobbit: An Unexpected Journey</em>, de Peter Jackson (2012).
</p>
</div>
<div id="github" class="section level3">
<h3><span class="header-section-number">8.1.1</span> GitHub</h3>
<p>Nous avons vu chapitre <a href="chapitre-git.html#chapitre-git">5</a> l‚Äôimportance d‚Äôutilser des outils d‚Äôarchivage et de suivi de version, comme <em>git</em>, dans le d√©ploiement de la <em>science ouverte</em>. En effet, <a href="https://www.github.com">GitHub</a> est une plate-forme <em>git</em> sur Internet, acquise par Microsoft, qui est devenue un r√©seau social de d√©veloppement informatique. <a href="https://github.com/topics/r">De nombreux modules de R y sont d√©velopp√©s</a>. Au chapitre <a href="chapitre-git.html#chapitre-git">5</a>, vous avez appris √† y ouvrir un compte et √† y archiver du contenu. Vous pourrez alors <strong>suivre</strong> (dans le m√™me sens que sur d‚Äôautres r√©seaux sociaux) le d√©veloppement de projets et suivre les travaux des personnes qui vous semblent d‚Äôint√©r√™t.</p>
</div>
<div id="twitter" class="section level3">
<h3><span class="header-section-number">8.1.2</span> Twitter</h3>
<p>Le <em>hashtag</em> <code>#rstats</code> rassemble sur <a href="https://twitter.com/hashtag/rstats?src=hash">Twitter</a> ce qui se tweete sur le sujet. On y retrouve les comptes de <a href="https://twitter.com/Rbloggers">R-bloggers</a>, <a href="https://twitter.com/rstudio">RStudio</a> et <a href="https://twitter.com/rOpenSci">rOpenSci</a>. Certaines communaut√©s y sont aussi actives, comme <a href="https://twitter.com/R4DScommunity">R4DS online learning community</a>, qui partage des nouvelles sur R, et <a href="https://twitter.com/RLadiesGlobal">R-Ladies Global</a>, qui vise √† amener davantage de diversit√© √† la communaut√© de R. Des comptes th√©matiques comme <a href="https://twitter.com/daily_r_sheets">Daily R Cheatsheets</a>, <a href="https://twitter.com/rfortherest">R for the Rest of Us</a> et <a href="https://twitter.com/RLangPackage">One R Package a Day</a> permettent de d√©couvrir quotidiennement de nouvelles possibilit√©s. Enfin, plusieurs personnes contribuent positivement √† la communaut√© R. <a href="https://twitter.com/hadleywickham">Hadley Wickham</a> brille parmi les √©toiles de R. Les comptes de <a href="https://twitter.com/dataandme">Mara Averick</a>, <a href="https://twitter.com/ClausWilke">Claus Wilke</a> et <a href="https://twitter.com/drob">David Robinson</a> sont aussi int√©ressants. Enfin, <a href="https://twitter.com/thomasp85">Thomas Lin Pedersen</a>, qui travaille en visualisation chez RStudio, cr√©e des oeuvres d‚Äôart g√©n√©ratif avec R et <strong><code>ggplot2</code></strong>.</p>
<div class="figure" style="text-align: center"><span id="fig:expl-thomas-lin-pedersen"></span>
<img src="https://www.data-imaginist.com/art/005_genesis/genesis338.png" alt="genesis338, une oeuvre de [Thomas Lin Pedersen](https://www.data-imaginist.com/art) cr√©√©e avec **`ggplot2`**." width="70%" />
<p class="caption">
Figure 8.3: genesis338, une oeuvre de <a href="https://www.data-imaginist.com/art">Thomas Lin Pedersen</a> cr√©√©e avec <strong><code>ggplot2</code></strong>.
</p>
</div>
</div>
<div id="nouvelles" class="section level3">
<h3><span class="header-section-number">8.1.3</span> Nouvelles</h3>
<p>Le site d‚Äôaggr√©gation <a href="https://www.r-bloggers.com/">R-bloggers</a>, mis √† jour quotidiennement, republie des articles en anglais tir√©s d‚Äôun peu partout sur la toile. On y trouve principalement des tutoriels et des annonces de nouveaux d√©veloppement. Deux fois par mois, l‚Äôorganisation <a href="https://news.ropensci.org/">rOpenSci</a> offre un portrait de l‚Äôuniv-R (#dadjoke), ce que <a href="https://rweekly.org/">R Weekely</a> offre de mani√®re hebdomadaire (l‚Äôinformation sera probablement redondante). Le tidyverse a quant √† lui son propre <a href="https://www.tidyverse.org/articles/">blogue</a>.</p>
</div>
<div id="des-questions" class="section level3">
<h3><span class="header-section-number">8.1.4</span> Des questions?</h3>
<p>Bien que davantage vou√©s √† la r√©solution de probl√®me qu‚Äô √† l‚Äôexploration de nouvelles opportunit√©s, <a href="https://stackoverflow.com/questions/tagged/r">Stackoverflow</a> et <a href="https://stats.stackexchange.com/questions/tagged/r">Cross Validated</a> sont des plate-forme pris√©es. De plus, la liste de courriels <a href="https://www.mail-archive.com/r-sig-ecology@r-project.org/info.html">r-sig-ecology</a> permet des √©changes entre professionnels et novices en analyse de donn√©es √©cologiques avec R.</p>
</div>
<div id="participer" class="section level3">
<h3><span class="header-section-number">8.1.5</span> Participer</h3>
<p>R est un logiciel bas√© sur une communaut√© de d√©veloppement, d‚Äôutilisation et de vulgarisation. Des personnes offrent g√©n√©reusement du temps de support. Si vous vous sentez √† l‚Äôaise, offrez aussi le v√¥tre!</p>
</div>
<div id="mise-en-garde" class="section level3">
<h3><span class="header-section-number">8.1.6</span> Mise en garde</h3>
<p>Les modules de R sont d√©velopp√©s par quiconque le veut bien: leur qualit√© n‚Äôest pas n√©cessairement audit√©e. Souvent, ils ne sont v√©rifi√©s que par une vigilance communautaire: dans ce cas, vous √™tes les cobailles. Ce qui n‚Äôest pas n√©cessairement une mauvaise chose, mais cela n√©cessite de prendre ses pr√©cautions. Dans sa conf√©rence <a href="https://maelle.github.io/fluctuat_nec_mergitur">How to be a resilient R user</a>, <a href="https://twitter.com/ma_salmon">Ma√´lle Salmon</a> propose quelques guides pour juger de la qualit√© d‚Äôun module.</p>
<p><strong>1. Le module est-il activement d√©velopp√©?</strong></p>
<p>Bien!</p>
<p><img src="images/06_2019-01-14-facebook-prophet.png" /></p>
<p>Attention!</p>
<p><img src="images/06_2019-01-14_mlammens_meteR.png" /></p>
<p><strong>2. Le module est-il bien test√©?</strong></p>
<p>V√©rifiez si le module a fait l‚Äôobjet d‚Äôune publication scientifique, s‚Äôil a √©t√© utilis√© avec succ√®s dans la litt√©rature ou dans des documents cr√©dibles.</p>
<p><strong>3. Le module est-il bien document√©?</strong></p>
<p>Un site internet d√©di√© est-il utilis√© pour documenter l‚Äôutilisation du module? Les fichiers d‚Äôaide sont-ils complets, et sont-ils de bonne qualit√©?</p>
<p><strong>4. Le module est-il largement utilis√©?</strong></p>
<p>Un module peu populaire n‚Äôest pas n√©cessessairement de mauvaise qualit√©: peut-√™tre est-il seulement destin√© √† des applications de niche. S‚Äôil n‚Äôest pas un indicateur √† lui seul de la solidit√© ou la validit√© d‚Äôun module, une masse critique indique que le module a pass√© sous la surveillance de plusieurs utilisateurs. Dans GitHub, ceci peut √™tre √©valu√© par le nombre d‚Äô√©toiles attribu√© au module (√©quivalent √† un J‚Äôaime).</p>
<p><img src="images/06_peu-etoiles.png" /> <img src="images/06_bcp-etoiles.png" /></p>
<p><strong>5. Le module est-il d√©velopp√© par une personne ou une organisation cr√©dible?</strong></p>
<p>On peut affirmer sans trop se compromettre que l‚Äô√©quipe de RStudio d√©veloppe des modules de confiance. Tout comme il faudrait se m√©fier d‚Äôun module d√©velopp√© par une personne anonyme.</p>
<p>Le module <a href="https://github.com/ropenscilabs/packagemetrics">packagemetrics</a> permet d‚Äô√©valuer ces crit√®res.</p>
<div class="sourceCode" id="cb487"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb487-1" title="1"><span class="co"># devtools::install_github(&quot;ropenscilabs/packagemetrics&quot;)</span></a>
<a class="sourceLine" id="cb487-2" title="2"><span class="kw">library</span>(<span class="st">&quot;packagemetrics&quot;</span>)</a>
<a class="sourceLine" id="cb487-3" title="3">pm &lt;-<span class="st"> </span><span class="kw">package_list_metrics</span>(<span class="kw">c</span>(<span class="st">&quot;dplyr&quot;</span>, <span class="st">&quot;ggplot2&quot;</span>, <span class="st">&quot;vegan&quot;</span>, <span class="st">&quot;greta&quot;</span>))</a>
<a class="sourceLine" id="cb487-4" title="4"><span class="kw">metrics_table</span>(pm)</a></code></pre></div>
</div>
<div id="prendre-tout-√ßa-en-note" class="section level3">
<h3><span class="header-section-number">8.1.7</span> Prendre tout √ßa en note</h3>
<p>Un logiciel de prise de notes (il en existe plein, mais je vous sugg√®re d‚Äôopter pour les options encrypt√©es) pourrait vous √™tre utile pour retrouver l‚Äôinformation soutir√©e de vos flux d‚Äôinformation. Mais certaines personnes consignent simplement leurs informations dans un carnet ou un document de traitement de texte.</p>
</div>
</div>
<div id="r-en-chaire-et-en-os" class="section level2">
<h2><span class="header-section-number">8.2</span> R en chaire et en os</h2>
<p>L‚ÄôUniversit√© Laval (institution aupr√®s de laquelle ce manuel est d√©velopp√©) est h√¥te √† tous les 2 ans de la conf√©rence <a href="http://raquebec.ulaval.ca">R √† Qu√©bec</a>. La prochaine conf√©rence aura lieu en 2021.</p>
</div>
<div id="quelques-outils-en-√©cologie-math√©matique-avec-r" class="section level2">
<h2><span class="header-section-number">8.3</span> Quelques outils en √©cologie math√©matique avec R</h2>
<div id="pr√©traitement-des-donn√©es" class="section level3">
<h3><span class="header-section-number">8.3.1</span> Pr√©traitement des donn√©es</h3>
<p>Il arrive souvent ques les donn√©es brutes ne soient pas exprim√©es de mani√®re appropri√©e ou optimale pour l‚Äôanalyse statistique ou la mod√©lisation. Vous devrez alors effectuer un pr√©traitement sur ces donn√©es. Lors du chapitre <a href="chapitre-biostats.html#chapitre-biostats">6</a>, nous avons abord√© la mise √† l‚Äô√©chelle, o√π des variables num√©riques √©taient transform√©es pour avoir une moyenne de z√©ro et un √©cart-type de 1. Cette op√©ration permettait d‚Äôappr√©cier les coefficients et leur incertitude sur une m√™me √©chelle. L‚Äôencodage cat√©gorielle a quant √† lui permi d‚Äôutiliser des m√©thodes quantitatives sur des donn√©es qualitatives. Dans les deux cas, nous n‚Äôavons pas utilis√© le terme, mais il s‚Äôagissait d‚Äôun <strong>pr√©traitement</strong>, c‚Äôest-√†-dire une transformation des donn√©es pr√©alable √† l‚Äôanalyse ou la mod√©lisation.</p>
<p>Un pr√©traitement peut consister simplement en une transformation logarithmique ou exponentielle. Nous verrons les transformations les plus communes comme la standardisation, la mise √† l‚Äô√©chelle sur une √©tendue et la normalisation. Puis nous verrons comment ces op√©rations de pr√©traitement sont offertes dans le module <a href="https://tidymodels.github.io/recipes/"><strong><code>recipes</code></strong></a>.</p>
<p><strong><code>recipes</code></strong> n‚Äôest pas en mesure d‚Äôeffectuer toutes les transformations imaginables. Pour des op√©rations plus sp√©cialis√©es, si vos donn√©es forment une partie d‚Äôun tout (exprim√©es en pourcentages ou fractions), vous devriez probablement utiliser un pr√©traitement gr√¢ce aux outils de l‚Äô<strong>analyse compositionnelle</strong>. Avant de les aborder, nous allons traiter des transformations de base.</p>
<div id="standardisation" class="section level4">
<h4><span class="header-section-number">8.3.1.1</span> Standardisation</h4>
<p>La standardisation consiste √† centrer vos donn√©es √† une moyenne de 0 et √† les √©chelonner √† une variance de 1, c‚Äôest-√†-dire</p>
<p><span class="math display">\[x_{standard} = \frac{x - \bar{x}}{\sigma}\]</span></p>
<p>o√π <span class="math inline">\(\bar{x}\)</span> est la moyenne du vecteur <span class="math inline">\(x\)</span> et o√π <span class="math inline">\(\sigma\)</span> est son √©cart-type.</p>
<p>Ce pr√©traitement des donn√©es peut s‚Äôav√©r√©r utile lorsque la mod√©lisation tient compte de l‚Äô√©chelle de vos mesures (par exemple, les param√®tres de r√©gression vus au chapitre <a href="chapitre-biostats.html#chapitre-biostats">6</a> ou les distances que nous verrons au chapitre <a href="chapitre-ordination.html#chapitre-ordination">9</a>). En effet, les pentes d‚Äôune r√©gression lin√©aire multiple ne pourront √™tre compar√©es entre elles que si elles sont une m√™me √©chelle. Par exemple, on veut mod√©liser la consommation en miles au gallon (<code>mpg</code>) de voitures en fonction de leur puissance (<code>hp</code>), le temps en secondes pour parcourir un quart de mile (<code>qsec</code>) et le nombre de cylindre.</p>
<div class="sourceCode" id="cb488"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb488-1" title="1"><span class="kw">data</span>(<span class="st">&quot;mtcars&quot;</span>)</a>
<a class="sourceLine" id="cb488-2" title="2">modl &lt;-<span class="st"> </span><span class="kw">lm</span>(mpg <span class="op">~</span><span class="st"> </span>hp <span class="op">+</span><span class="st"> </span>qsec <span class="op">+</span><span class="st"> </span>cyl, mtcars)</a>
<a class="sourceLine" id="cb488-3" title="3"><span class="kw">summary</span>(modl)</a></code></pre></div>
<pre><code>## 
## Call:
## lm(formula = mpg ~ hp + qsec + cyl, data = mtcars)
## 
## Residuals:
##     Min      1Q  Median      3Q     Max 
## -4.3223 -1.9483 -0.5656  1.5452  7.7773 
## 
## Coefficients:
##             Estimate Std. Error t value Pr(&gt;|t|)    
## (Intercept) 55.30540    9.03697   6.120 1.33e-06 ***
## hp          -0.03552    0.01622  -2.190  0.03700 *  
## qsec        -0.89424    0.42755  -2.092  0.04567 *  
## cyl         -2.26960    0.54505  -4.164  0.00027 ***
## ---
## Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1
## 
## Residual standard error: 3.003 on 28 degrees of freedom
## Multiple R-squared:  0.7757, Adjusted R-squared:  0.7517 
## F-statistic: 32.29 on 3 and 28 DF,  p-value: 3.135e-09</code></pre>
<p>Les pentes signifient que la distance parcourue par gallon d‚Äôessence diminue de 0.03552 miles au gallon pour chaque HP, de 0.89242 par seconde au quart de mile et de 2.2696 par cyclindre additionnel. L‚Äôinterpr√©tation est conviviale √† cette √©chelle. Mais lequel de ces effets est le plus important? L <code>t value</code> indique que ce seraient les cylindres. Mais pour juger l‚Äôimportance en terme de pente, il vaudrait mieux standardiser.</p>
<div class="sourceCode" id="cb490"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb490-1" title="1"><span class="kw">library</span>(<span class="st">&quot;tidyverse&quot;</span>)</a>
<a class="sourceLine" id="cb490-2" title="2">standardise &lt;-<span class="st"> </span><span class="cf">function</span>(x) (x<span class="op">-</span><span class="kw">mean</span>(x))<span class="op">/</span><span class="kw">sd</span>(x)</a>
<a class="sourceLine" id="cb490-3" title="3">mtcars_sc &lt;-<span class="st"> </span>mtcars <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb490-4" title="4"><span class="st">  </span><span class="kw">mutate_if</span>(is.numeric, standardise) <span class="co"># ou bien scale(mtcars, center = TRUE, scale = TRUE)</span></a>
<a class="sourceLine" id="cb490-5" title="5">modl_sc &lt;-<span class="st"> </span><span class="kw">lm</span>(mpg <span class="op">~</span><span class="st"> </span>hp <span class="op">+</span><span class="st"> </span>qsec <span class="op">+</span><span class="st"> </span>cyl, mtcars_sc)</a>
<a class="sourceLine" id="cb490-6" title="6"><span class="kw">summary</span>(modl_sc)</a></code></pre></div>
<pre><code>## 
## Call:
## lm(formula = mpg ~ hp + qsec + cyl, data = mtcars_sc)
## 
## Residuals:
##      Min       1Q   Median       3Q      Max 
## -0.71716 -0.32326 -0.09384  0.25639  1.29042 
## 
## Coefficients:
##               Estimate Std. Error t value Pr(&gt;|t|)    
## (Intercept)  1.061e-16  8.808e-02   0.000  1.00000    
## hp          -4.041e-01  1.845e-01  -2.190  0.03700 *  
## qsec        -2.651e-01  1.268e-01  -2.092  0.04567 *  
## cyl         -6.725e-01  1.615e-01  -4.164  0.00027 ***
## ---
## Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1
## 
## Residual standard error: 0.4983 on 28 degrees of freedom
## Multiple R-squared:  0.7757, Adjusted R-squared:  0.7517 
## F-statistic: 32.29 on 3 and 28 DF,  p-value: 3.135e-09</code></pre>
<p>Les valeurs des pentes ne peuvent plus √™tre interpr√©t√©es directement, mais peuvent maintenant √™tre compar√©es entre elles. Dans ce cas, le nombre de cilyndres a en effet une importance plus grande que la puissance et le temps pour parcourir un 1/4 de mile.</p>
<p>Les algorithmes bas√©s sur des distances auront, de m√™me, avantage √† √™tre standardis√©s.</p>
</div>
<div id="√†-l√©chelle-de-la-plage" class="section level4">
<h4><span class="header-section-number">8.3.1.2</span> √Ä l‚Äô√©chelle de la plage</h4>
<p>Si vous d√©sirez pr√©server le z√©ro dans le cas de donn√©es positives ou plus g√©n√©ralement vous voulez que vos donn√©es pr√©trait√©es soient positives, vous pouvez les transformer √† l‚Äô√©chelle de la plage, c‚Äôest-√†-dire les forcer √† s‚Äô√©taler de 0 √† 1:</p>
<p><span class="math display">\[ x_{range01} = \frac{x - x_{min}}{x_{max} - x_{min}}  \]</span></p>
<p>Cette transformation est sensible aux valeurs aberrantes, et une fois le vecteur transform√© les valeurs aberrantes seront toutefois plus difficiles √† d√©tecter.</p>
<div class="sourceCode" id="cb492"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb492-1" title="1">range_<span class="dv">01</span> &lt;-<span class="st"> </span><span class="cf">function</span>(x) (x<span class="op">-</span><span class="kw">min</span>(x))<span class="op">/</span>(<span class="kw">max</span>(x) <span class="op">-</span><span class="st"> </span><span class="kw">min</span>(x))</a>
<a class="sourceLine" id="cb492-2" title="2">mtcars <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb492-3" title="3"><span class="st">  </span><span class="kw">mutate_if</span>(is.numeric, range_<span class="dv">01</span>) <span class="op">%&gt;%</span><span class="st"> </span><span class="co"># en fait, toutes les colonnes sont num√©riques, alors mutate_all aurait pu √™tre utilis√© au lieu de mutate_if</span></a>
<a class="sourceLine" id="cb492-4" title="4"><span class="st">  </span><span class="kw">sample_n</span>(<span class="dv">4</span>)</a></code></pre></div>
<pre><code>##         mpg cyl      disp        hp      drat        wt      qsec vs am gear      carb
## 1 0.3744681   1 0.8204041 0.4346290 0.1474654 0.5962669 0.3035714  0  0  0.0 0.1428571
## 2 0.8510638   0 0.0598653 0.2155477 0.4654378 0.0000000 0.2857143  1  1  1.0 0.1428571
## 3 0.5276596   0 0.0920429 0.1448763 0.5023041 0.2063411 0.4892857  1  1  0.5 0.0000000
## 4 0.0000000   1 0.9700673 0.5759717 0.1105991 1.0000000 0.3952381  0  0  0.0 0.4285714</code></pre>
</div>
<div id="normaliser" class="section level4">
<h4><span class="header-section-number">8.3.1.3</span> Normaliser</h4>
<p>Le terme <em>normaliser</em> est associer √† des op√©rations diff√©rentes dans la litt√©rature. Nous prendrons la nomenclature de <a href="https://scikit-learn.org/stable/modules/preprocessing.html#normalization">scikit-learn</a>, pour qui la normalisation consiste √† faire en sorte que la longueur du vecteur (sa norme, d‚Äôo√π <em>normaliser</em>) soit unitaire. Cette op√©ration est le plus souvent utilis√©e par observation (ligne), non pas par variable (colonne). Il existe plusieurs mani√®res de mesures la distance d‚Äôun vecteur, mais la plus commune est la distance euclidienne. La seule fois que j‚Äôai eu √† utiliser ce pr√©traitement √©tait en analyse spectrale (<a href="https://www.springer.com/us/book/9783642178405#otherversion=9783642178412">Chemometrics with R, Ron Wehrens, 2011, chapitre 3.5</a>). En R,</p>
<div class="sourceCode" id="cb494"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb494-1" title="1"><span class="kw">library</span>(<span class="st">&quot;pls&quot;</span>)</a></code></pre></div>
<pre><code>## 
## Attaching package: &#39;pls&#39;</code></pre>
<pre><code>## The following object is masked from &#39;package:vegan&#39;:
## 
##     scores</code></pre>
<pre><code>## The following object is masked from &#39;package:stats&#39;:
## 
##     loadings</code></pre>
<div class="sourceCode" id="cb498"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb498-1" title="1"><span class="kw">data</span>(<span class="st">&quot;gasoline&quot;</span>)</a>
<a class="sourceLine" id="cb498-2" title="2">spectro &lt;-<span class="st"> </span>gasoline<span class="op">$</span>NIR <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">unclass</span>() <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">as_tibble</span>()</a>
<a class="sourceLine" id="cb498-3" title="3"></a>
<a class="sourceLine" id="cb498-4" title="4">normalise &lt;-<span class="st"> </span><span class="cf">function</span>(x) x<span class="op">/</span><span class="kw">sqrt</span>(<span class="kw">sum</span>(x<span class="op">^</span><span class="dv">2</span>))</a>
<a class="sourceLine" id="cb498-5" title="5">spectro_norm &lt;-<span class="st"> </span>spectro <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb498-6" title="6"><span class="st">  </span><span class="kw">rowwise</span>() <span class="op">%&gt;%</span><span class="st"> </span><span class="co"># diff√©rentes approches possibles pour les op√©rations sur les lignes</span></a>
<a class="sourceLine" id="cb498-7" title="7"><span class="st">  </span><span class="kw">normalise</span>()</a>
<a class="sourceLine" id="cb498-8" title="8">spectro_norm[<span class="dv">1</span><span class="op">:</span><span class="dv">4</span>, <span class="dv">1</span><span class="op">:</span><span class="dv">4</span>]</a></code></pre></div>
<pre><code>##          900 nm        902 nm        904 nm        906 nm
## 1 -0.0011224834 -0.0010265446 -0.0009434425 -0.0008314021
## 2 -0.0009890637 -0.0008856332 -0.0007977676 -0.0006912734
## 3 -0.0010481029 -0.0009227116 -0.0008269742 -0.0007035061
## 4 -0.0010444801 -0.0009446277 -0.0008623530 -0.0007718261</code></pre>
</div>
<div id="le-module-recipes" class="section level4">
<h4><span class="header-section-number">8.3.1.4</span> Le module <strong><code>recipes</code></strong></h4>
<p>Nous avons vu comment standardiser avec notre propre fonction. Certaines personnes pr√©f√®rent utiliser la fonction <code>scale()</code>. Mais une nouvelle approche est en train de s‚Äôinstaller, avec le module <strong><code>recipes</code></strong>, un module de l‚Äôombrelle <strong><code>tidymodels</code></strong>, un m√©ta module en d√©veloppement visant √† faire de R un outil de mod√©lisation plus convivial.</p>
<p><strong><code>recipes</code></strong> fonctionne en mode <em>tidyverse</em>, c‚Äôest-√†-dire en suites d‚Äôop√©rations. <a href="https://tidymodels.github.io/recipes/reference/index.html">De nombreuses fonctions</a> sont offertes, dont des fonctions d‚Äôimputation, que nous verrons au chapitre <a href="chapitre-outliers.html#chapitre-outliers">10</a>. Nous couvrirons ici la standardisation et la mise √† l‚Äô√©chelle, juste pour l‚Äôap√©ro üç≥.</p>
<p>Le module ne s‚Äôappelle pas <em>recette</em> pour rien. Il fonctionne en trois √©tapes:</p>
<ol style="list-style-type: decimal">
<li>Monter la liste des ingr√©dients: sp√©cifier ce qu‚Äôil faut faire</li>
<li>M√©langer les ingr√©dients: transformer tout ce qu‚Äôil faut faire en une proc√©dure</li>
<li>Cuire les ingr√©dients: appliquer la proc√©dure √† un tableau.</li>
</ol>
<p>Voici une petite application sur le tableau <code>lasrosas.corn</code>.</p>
<div class="sourceCode" id="cb500"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb500-1" title="1"><span class="kw">library</span>(<span class="st">&quot;tidymodels&quot;</span>)</a></code></pre></div>
<pre><code>## Registered S3 method overwritten by &#39;parsnip&#39;:
##   method          from 
##   print.nullmodel vegan</code></pre>
<pre><code>## -- Attaching packages -------------------------------------- tidymodels 0.1.0 --</code></pre>
<pre><code>## v broom     0.5.6      v rsample   0.0.6 
## v dials     0.0.6      v tune      0.1.0 
## v infer     0.5.1      v workflows 0.1.1 
## v parsnip   0.1.0      v yardstick 0.0.6 
## v recipes   0.1.11</code></pre>
<pre><code>## -- Conflicts ----------------------------------------- tidymodels_conflicts() --
## x infer::calculate()   masks greta::calculate()
## x recipes::check()     masks permute::check()
## x nlme::collapse()     masks dplyr::collapse()
## x scales::discard()    masks purrr::discard()
## x plotly::filter()     masks dplyr::filter(), stats::filter()
## x recipes::fixed()     masks stringr::fixed()
## x dplyr::lag()         masks stats::lag()
## x dials::margin()      masks ggplot2::margin()
## x dials::mixture()     masks greta::mixture()
## x parsnip::nullmodel() masks vegan::nullmodel()
## x tune::parameters()   masks dials::parameters(), tidybayes::parameters()
## x greta::slice()       masks plotly::slice(), dplyr::slice()
## x yardstick::spec()    masks readr::spec()
## x recipes::step()      masks stats::step()</code></pre>
<div class="sourceCode" id="cb505"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb505-1" title="1"><span class="kw">data</span>(lasrosas.corn, <span class="dt">package =</span> <span class="st">&quot;agridat&quot;</span>)</a>
<a class="sourceLine" id="cb505-2" title="2">lasrosas.corn <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb505-3" title="3"><span class="st">  </span><span class="kw">head</span>()</a></code></pre></div>
<pre><code>##   year       lat      long yield nitro topo     bv rep nf
## 1 1999 -33.05113 -63.84886 72.14 131.5    W 162.60  R1 N5
## 2 1999 -33.05115 -63.84879 73.79 131.5    W 170.49  R1 N5
## 3 1999 -33.05116 -63.84872 77.25 131.5    W 168.39  R1 N5
## 4 1999 -33.05117 -63.84865 76.35 131.5    W 176.68  R1 N5
## 5 1999 -33.05118 -63.84858 75.55 131.5    W 171.46  R1 N5
## 6 1999 -33.05120 -63.84851 70.24 131.5    W 170.56  R1 N5</code></pre>
<p>Disons que pour mon mod√®le statistique, ma variable de sortie est le rendement (<code>yield</code>), que je d√©sire lier √† la dose d‚Äôazote (<code>nitro</code>), √† un indicateur de la teneur en mati√®re organique du sol (<code>bv</code>) et √† la topographie (<code>topo</code>).</p>
<p>Mais pour rendre le mod√®le pr√©dictif (et non pas seulement descriptif), je dois l‚Äô√©valuer sur des donn√©es qui n‚Äôont pas servies √† lisser le mod√®le (nous verrons en plus de d√©tails √ßa au chapitre <a href="chapitre-ml.html#chapitre-ml">11</a>). Je vais donc s√©parer mon tableau au hasard en un tableau d‚Äôentra√Ænement comprenant 70% des observations et un autre pour tester le mod√®le comprenant le 30% restant.</p>
<div class="sourceCode" id="cb507"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb507-1" title="1">train_test_split &lt;-<span class="st"> </span>lasrosas.corn <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb507-2" title="2"><span class="st">  </span><span class="kw">select</span>(yield, nitro, bv, topo) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb507-3" title="3"><span class="st">  </span><span class="kw">initial_split</span>(<span class="dt">prop =</span> <span class="fl">0.7</span>)</a>
<a class="sourceLine" id="cb507-4" title="4">train_df &lt;-<span class="st"> </span><span class="kw">training</span>(train_test_split)</a>
<a class="sourceLine" id="cb507-5" title="5">test_df &lt;-<span class="st"> </span><span class="kw">testing</span>(train_test_split)</a></code></pre></div>
<p>Voici ma recette. Je l‚Äôexpliquerai tout de suite apr√®s.</p>
<div class="sourceCode" id="cb508"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb508-1" title="1">recette &lt;-<span class="st"> </span><span class="kw">recipe</span>(yield <span class="op">~</span><span class="st"> </span>., <span class="dt">data =</span> train_df) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb508-2" title="2"><span class="st">  </span><span class="kw">step_zv</span>(<span class="kw">all_numeric</span>()) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb508-3" title="3"><span class="st">  </span><span class="kw">step_normalize</span>(<span class="kw">all_numeric</span>(), <span class="op">-</span><span class="kw">all_outcomes</span>()) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb508-4" title="4"><span class="st">  </span><span class="kw">step_downsample</span>(topo) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb508-5" title="5"><span class="st">  </span><span class="kw">step_dummy</span>(topo) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb508-6" title="6"><span class="st">  </span><span class="kw">prep</span>()</a></code></pre></div>
<p>La recette peut se baser sur l‚Äôinterface formule - souvenez-vous que le <code>.</code> signifie ‚Äútoutes les autres variables du tableau‚Äù. Elle se base toujours sur le jeu d‚Äôentra√Ænement. La prochaine √©tape (souvenez-vous que <code>%&gt;%</code> signifie ‚Äúpuis‚Äù ou ‚Äúensuite‚Äù) consiste √† retirer les variables dont la variance est non-nulle, ce qui est pratique pour √©viter que la standardisation divise par <span class="math inline">\(0\)</span>. Cette √©tape est appliqu√©e √† toutes les variables num√©riques <code>all_numeric()</code>. Ensuite, je standardise avec la fonction <code>step_normalize()</code> - il y a beaucoup de confusion entre la notion de standardisation et de normalisation dans les fonctions comme dans la litt√©rature. Dans cette fonction, je sp√©cifie que la standardisation n‚Äôest applicable que sur les entr√©es num√©riques du mod√®le (<code>all_numeric(), -all_outcomes()</code>). L‚Äô√©tape <code>step_downsample()</code> retire des obsservations pour faire en sorte que les cat√©gories d‚Äôune variable apparaissent toutes en m√™me nombre. Bien que l‚Äôinterface-formule de R s‚Äôen occupe automatiquement, je sp√©cifie ensuite que je d√©sire que la variable <code>topo</code> subisse un enodage cat√©goriel. Puis je m√©lange mes ingr√©dients avec la fonction <code>prep()</code>. J‚Äôobtiens un objet de type recette.</p>
<div class="sourceCode" id="cb509"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb509-1" title="1">recette</a></code></pre></div>
<pre><code>## Data Recipe
## 
## Inputs:
## 
##       role #variables
##    outcome          1
##  predictor          3
## 
## Training data contained 2411 data points and no missing data.
## 
## Operations:
## 
## Zero variance filter removed no terms [trained]
## Centering and scaling for nitro, bv [trained]
## Down-sampling based on topo [trained]
## Dummy variables from topo [trained]</code></pre>
<p>La recette √©tant bien m√©lang√©e, on peut en extraire le jus avec la fonction <code>bake()</code>, qui permet de g√©n√©rer le tableau transform√©.</p>
<div class="sourceCode" id="cb511"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb511-1" title="1">test_proc &lt;-<span class="st"> </span><span class="kw">bake</span>(recette, test_df)</a>
<a class="sourceLine" id="cb511-2" title="2">test_proc <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">sample_n</span>(<span class="dv">5</span>)</a></code></pre></div>
<pre><code>## # A tibble: 5 x 6
##       bv   nitro topo_HT topo_LO topo_W yield
##    &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;  &lt;dbl&gt; &lt;dbl&gt;
## 1 -0.194  0.0471       0       1      0  78.0
## 2 -0.854 -0.317        0       1      0 100. 
## 3  0.893  0.847        0       0      1  55.0
## 4  0.209 -0.260        0       0      1  59.2
## 5 -0.729 -0.592        0       1      0  94.9</code></pre>
<p>La fonction <code>bake()</code> peut aussi √™tre appliqu√©e au donn√©es d‚Äôentra√Ænement, mais certaines √©tapes de recette doivent passer par des op√©rations particuli√®res, comme <code>step_downsample()</code> Il est donc pr√©f√©rable, pour les donn√©es d‚Äôentr√¢inement, d‚Äôen extraire le jus avec la fonction <code>juice()</code>.</p>
<div class="sourceCode" id="cb513"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb513-1" title="1">train_proc &lt;-<span class="st"> </span><span class="kw">bake</span>(recette, train_df)</a>
<a class="sourceLine" id="cb513-2" title="2">train_proc <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">sample_n</span>(<span class="dv">5</span>)</a></code></pre></div>
<pre><code>## # A tibble: 5 x 6
##        bv  nitro topo_HT topo_LO topo_W yield
##     &lt;dbl&gt;  &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;  &lt;dbl&gt; &lt;dbl&gt;
## 1 -0.189  1.60         0       1      0  71.0
## 2 -0.0664 0.270        0       0      1  69.2
## 3 -0.318  0.0471       0       0      0  75.5
## 4  1.18   1.60         1       0      0  64.7
## 5  1.87   0.0471       1       0      0  51.9</code></pre>
<p>Le tableau <code>train_proc</code> peut √™tre envoy√© dans un mod√®le de votre choix! Par exemple,</p>
<div class="sourceCode" id="cb515"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb515-1" title="1"><span class="kw">lm</span>(yield <span class="op">~</span><span class="st"> </span>., train_proc) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb515-2" title="2"><span class="st">  </span><span class="kw">summary</span>()</a></code></pre></div>
<pre><code>## 
## Call:
## lm(formula = yield ~ ., data = train_proc)
## 
## Residuals:
##     Min      1Q  Median      3Q     Max 
## -29.726 -10.926  -2.274  10.171  39.896 
## 
## Coefficients:
##             Estimate Std. Error t value Pr(&gt;|t|)    
## (Intercept)  77.8173     0.6129 126.961  &lt; 2e-16 ***
## bv           -5.4018     0.3500 -15.432  &lt; 2e-16 ***
## nitro         2.5539     0.2794   9.140  &lt; 2e-16 ***
## topo_HT     -23.9664     0.9334 -25.677  &lt; 2e-16 ***
## topo_LO       3.2059     0.8463   3.788 0.000156 ***
## topo_W      -10.7462     0.7958 -13.504  &lt; 2e-16 ***
## ---
## Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1
## 
## Residual standard error: 13.7 on 2405 degrees of freedom
## Multiple R-squared:  0.5245, Adjusted R-squared:  0.5236 
## F-statistic: 530.7 on 5 and 2405 DF,  p-value: &lt; 2.2e-16</code></pre>
</div>
<div id="analyse-compositionnelle-en-r" class="section level4">
<h4><span class="header-section-number">8.3.1.5</span> Analyse compositionnelle en R</h4>
<p>En 1898, le statisticien Karl Pearson nota que des corr√©lations √©taient induites lorsque l‚Äôon effectuait des ratios par rapport √† une variable commune.</p>
<p><img src="images/06_pearson1897.png" alt="Karl Pearson, 1897" />
Source <a href="https://royalsocietypublishing.org/doi/pdf/10.1098/rspl.1896.0076">Karl Pearson, 1897. Mathematical contributions to the theory of evolution.‚Äîon a form of spurious correlation which may arise when indices are used in the measurement of organs. Proceedings of the royal society of London</a></p>
<p>Faisons l‚Äôexercice! Nous g√©n√©rons au hasard 1000 donn√©es (comme le proposait Pearson) pour trois dimensions: le f√©mur, le tibia et l‚Äôhum√©rus. Ces dimensions ne sont pas g√©n√©r√©es par des distributions corr√©l√©es.</p>
<div class="sourceCode" id="cb517"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb517-1" title="1"><span class="kw">set.seed</span>(<span class="dv">3570536</span>)</a>
<a class="sourceLine" id="cb517-2" title="2">n &lt;-<span class="st"> </span><span class="dv">1000</span></a>
<a class="sourceLine" id="cb517-3" title="3">bones &lt;-<span class="st"> </span><span class="kw">tibble</span>(<span class="dt">femur =</span> <span class="kw">rnorm</span>(n, <span class="dv">10</span>, <span class="dv">3</span>),</a>
<a class="sourceLine" id="cb517-4" title="4">                <span class="dt">tibia =</span> <span class="kw">rnorm</span>(n, <span class="dv">8</span>, <span class="dv">2</span>),</a>
<a class="sourceLine" id="cb517-5" title="5">                <span class="dt">humerus =</span> <span class="kw">rnorm</span>(n, <span class="dv">6</span>, <span class="dv">2</span>))</a>
<a class="sourceLine" id="cb517-6" title="6"><span class="kw">plot</span>(bones)</a></code></pre></div>
<p><img src="_main_files/figure-html/expl-coda-bones-1.png" width="672" /></p>
<div class="sourceCode" id="cb518"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb518-1" title="1"><span class="kw">cor</span>(bones)</a></code></pre></div>
<pre><code>##                femur        tibia      humerus
## femur    1.000000000 -0.069006171  0.002652292
## tibia   -0.069006171  1.000000000 -0.008994704
## humerus  0.002652292 -0.008994704  1.000000000</code></pre>
<p>Pourtant, si j‚Äôutilise des ratios allom√©triques avec l‚Äôhum√©rus comme base,</p>
<div class="sourceCode" id="cb520"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb520-1" title="1">bones_r &lt;-<span class="st"> </span>bones <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb520-2" title="2"><span class="st">  </span><span class="kw">transmute</span>(<span class="dt">fh =</span> femur<span class="op">/</span>humerus,</a>
<a class="sourceLine" id="cb520-3" title="3">            <span class="dt">th =</span> tibia<span class="op">/</span>humerus)</a>
<a class="sourceLine" id="cb520-4" title="4"><span class="kw">plot</span>(bones_r)</a>
<a class="sourceLine" id="cb520-5" title="5"><span class="kw">text</span>(<span class="dv">30</span>, <span class="dv">20</span>, <span class="kw">paste</span>(<span class="st">&quot;corr√©lation =&quot;</span>, <span class="kw">round</span>(<span class="kw">cor</span>(bones_r<span class="op">$</span>fh, bones_r<span class="op">$</span>th), <span class="dv">2</span>)), <span class="dt">col =</span> <span class="st">&quot;blue&quot;</span>)</a></code></pre></div>
<p><img src="_main_files/figure-html/expl-bones-allo-1.png" width="672" /></p>
<p>Nous avons induit ce que Pearson appelait une fausse corr√©lation (<em>spurious correlation</em>). En 1960, <a href="https://doi.org/10.1029/JZ065i012p04185">Chayes</a> proposa que de telles fausses corr√©lations sont induites non seulement sur des ratios de valeurs absolues, mais aussi sur des ratios d‚Äôune somme totale. Par exemple, dans une composition simple de deux types d‚Äôutilisation du territoire, si une proportion augmente, l‚Äôautre doit n√©cessairement diminuer.</p>
<div class="sourceCode" id="cb521"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb521-1" title="1">n &lt;-<span class="st"> </span><span class="dv">100</span></a>
<a class="sourceLine" id="cb521-2" title="2"><span class="kw">tibble</span>(<span class="dt">A =</span> <span class="kw">runif</span>(n, <span class="dv">0</span>, <span class="dv">1</span>)) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb521-3" title="3"><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">B =</span> <span class="dv">1</span> <span class="op">-</span><span class="st"> </span>A) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb521-4" title="4"><span class="st">  </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(<span class="dt">x=</span>A, <span class="dt">y=</span>B)) <span class="op">+</span></a>
<a class="sourceLine" id="cb521-5" title="5"><span class="st">  </span><span class="kw">geom_point</span>()</a></code></pre></div>
<p><img src="_main_files/figure-html/expl-bones-corr-1.png" width="672" /></p>
<p>Les variables exprim√©es relativement √† une somme totale sont dites <em>compositionnelles</em>. Elles poss√®dent les caract√©ristiques suivantes.</p>
<ol style="list-style-type: decimal">
<li><strong>Redondance d‚Äôinformation</strong>. Un syst√®me de deux proportions ne contient qu‚Äôune seule variable du fait que l‚Äôon puisse d√©duire l‚Äôune en soutrayant l‚Äôautre de la somme totale. Un vecteur compositionnel contient de l‚Äôinformation redondante. Pourtant, effectuer des statistiques sur l‚Äôune plut√¥t que sur l‚Äôautre donnera des r√©sultats diff√©rents.</li>
<li><strong>D√©pendance d‚Äô√©chelle</strong>. Les statistiques devraient √™tre ind√©pendantes de la somme totale utilis√©e. Pourtant, elles diff√©reront sur l‚Äôon utilise par exemple, une proportion des m√¢les d‚Äôune part et des femelles d‚Äôautre part, ou la proportion de la somme des deux, de m√™me que les r√©sultats d‚Äôun test sanguin diff√©rera si l‚Äôon utilise une base s√®che ou une base humide.</li>
<li><strong>Distribution th√©orique des donn√©es</strong>. √âtant donn√©e que les proportions sont confin√©es entre 0 et 1 (ou 100%, ou une somme totale quelconque), la distribution normale (qui s‚Äô√©tend de -‚àû √† +‚àû) n‚Äôest souvent pas appropri√©e. On pourra utiliser la distribution de Dirichlet ou la distribution logitique-normale, mais d‚Äôautres approches sont souvent plus pratiques.</li>
</ol>
<p>Pour illustrer l‚Äôeffet de la distribution, voyons un diagramme ternaire incluant le sable, le limon et l‚Äôargile. En utilisant des √©cart-types univari√©s, nous obtenons l‚Äôellipse en rouge, qui non seulement repr√©sente peu l‚Äô√©talement des donn√©es, mais elle d√©passe les bornes du triangle, admettant ainsi des proportions n√©gatives. En bleu, la distribution logistique normale (issue des m√©thodes pr√©sent√©es plus loin dans cette section) convient davantage.</p>
<p><img src="images/06_ternaire-sd.png" /></p>
<p>Les cons√©quences d‚Äôeffectuer des statistiques lin√©aires sur des donn√©es compositionnelles brutes peuvent √™tre majeures. En outre, <a href="http://dx.doi.org/10.1144/GSL.SP.2006.264.01.01">Pawlowksy-Glahn et Egozcue (2006)</a>, s‚Äôappuyant en outre sur Rock (1988), note les probl√®mes suivants (exprim√©s en mes mots).</p>
<ol style="list-style-type: decimal">
<li>les r√©gressions, les regroupements et les analyses en composantes principales peuvent avoir peu ou pas de signification</li>
<li>les propri√©t√©s des distributions peuvent √™tre g√©n√©r√©es par l‚Äôop√©ration de fermeture de la composition (s‚Äôassurer que le total des proportions donne 100%)</li>
<li>les r√©sultats d‚Äôanalyses discriminantes lin√©aires sont propices √† √™tre illusoires</li>
<li>tous les coefficients de corr√©lation seront affect√©s √† des degr√©s inconnus</li>
<li>les r√©sultats des tests d‚Äôhypoth√®ses seront intrins√®quement fauss√©s</li>
</ol>
<p>Pour contourner ces probl√®mes, il faut d‚Äôabord aborder les donn√©es compositionnelles pour ce qu‚Äôelles sont: des donn√©es intrins√®quement multivari√©es. Elles sont un nuage de point, et non pas une collection de variables individuelles. Ceci qui n‚Äôemp√™che pas d‚Äôeffectuer des analyses consciencieusement sous des angles particuliers.</p>
<p>En R, on pourra ais√©ment rapporter une composition en somme unitaire gr√¢ce √† la fonction <code>apply</code>. Mais auparavant, chargeons le module <code>compositions</code> (n‚Äôoubliez pas de l‚Äôinstaller au pr√©alable) pour acc√©der √† des donn√©es fictives de proportions de sable, limon et argile dans des s√©diments.</p>
<div class="sourceCode" id="cb522"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb522-1" title="1"><span class="kw">library</span>(<span class="st">&quot;compositions&quot;</span>)</a>
<a class="sourceLine" id="cb522-2" title="2"><span class="kw">data</span>(<span class="st">&quot;ArcticLake&quot;</span>)</a>
<a class="sourceLine" id="cb522-3" title="3">ArcticLake &lt;-<span class="st"> </span>ArcticLake <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">as_tibble</span>()</a>
<a class="sourceLine" id="cb522-4" title="4"><span class="kw">head</span>(ArcticLake)</a></code></pre></div>
<pre><code>## # A tibble: 6 x 4
##    sand  silt  clay depth
##   &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
## 1  77.5  19.5   3    10.4
## 2  71.9  24.9   3.2  11.7
## 3  50.7  36.1  13.2  12.8
## 4  52.2  40.9   6.6  13  
## 5  70    26.5   3.5  15.7
## 6  66.5  32.2   1.3  16.3</code></pre>
<div class="sourceCode" id="cb524"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb524-1" title="1">comp &lt;-<span class="st"> </span>ArcticLake <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb524-2" title="2"><span class="st">  </span><span class="kw">select</span>(<span class="op">-</span>depth) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb524-3" title="3"><span class="st">  </span><span class="kw">apply</span>(., <span class="dv">1</span>, <span class="cf">function</span>(x) x<span class="op">/</span><span class="kw">sum</span>(x)) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb524-4" title="4"><span class="st">  </span><span class="kw">t</span>()</a>
<a class="sourceLine" id="cb524-5" title="5">comp[<span class="dv">1</span><span class="op">:</span><span class="dv">5</span>, ]</a></code></pre></div>
<pre><code>##           sand      silt      clay
## [1,] 0.7750000 0.1950000 0.0300000
## [2,] 0.7190000 0.2490000 0.0320000
## [3,] 0.5070000 0.3610000 0.1320000
## [4,] 0.5235707 0.4102307 0.0661986
## [5,] 0.7000000 0.2650000 0.0350000</code></pre>
<p>On pourra aussi utiliser la fonction <code>acomp</code> (pour Aitchison-composition) pour fermer la composition √† une somme de 1.</p>
<div class="sourceCode" id="cb526"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb526-1" title="1">comp &lt;-<span class="st"> </span>ArcticLake <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb526-2" title="2"><span class="st">  </span><span class="kw">select</span>(<span class="op">-</span>depth) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb526-3" title="3"><span class="st">  </span><span class="kw">acomp</span>(.)</a>
<a class="sourceLine" id="cb526-4" title="4">comp[<span class="dv">1</span><span class="op">:</span><span class="dv">5</span>, ]</a></code></pre></div>
<pre><code>##           sand      silt      clay
## [1,] 0.7750000 0.1950000 0.0300000
## [2,] 0.7190000 0.2490000 0.0320000
## [3,] 0.5070000 0.3610000 0.1320000
## [4,] 0.5235707 0.4102307 0.0661986
## [5,] 0.7000000 0.2650000 0.0350000</code></pre>
<p>Cette strat√©gie a pour avantage d‚Äôattribuer √† la variable <code>comp</code> la classe <code>acomp</code>, qui automatise les op√©rations dans l‚Äôespace compositionnel (que l‚Äôon nomme aussi le <em>simplex</em>). La repr√©sentation ternaire est souvent utilis√©e pour pr√©senter des compositions. Toutefois, il est difficile d‚Äôinterpr√©ter les compositions de plus de trois parties. La classe <code>acomp</code> automatise aussi la repr√©sentation teranaire.</p>
<div class="sourceCode" id="cb528"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb528-1" title="1"><span class="kw">plot</span>(comp)</a></code></pre></div>
<p><img src="_main_files/figure-html/expl-coda-tern-1.png" width="672" /></p>
<p>Afin de transposer cet espace cl√¥t en un espace ouvert, on pourra diviser chaque proportion par une proportion de r√©f√©rence choisie parmi n‚Äôimporte quelle proportion. Du coup, on retire une dimension redondante! Dans ce ratio, on choisit d‚Äôutiliser la proportion de r√©f√©rence au d√©nominateur, ce qui est arbitraire. En utilisant le log du ratio, l‚Äôinverse du ratio ne sera qu‚Äôun changement de signe, ce qui est pratique en statistiques lin√©aries. Cette solution, propos√©e par Aitchison (1986), s‚Äôapplique non seulement sur les compositions √† deux composantes, mais sur toute composition. Il s‚Äôagit alors d‚Äôutiliser une composition de r√©f√©rence pour effecteur les ratios. Pour une composition de <span class="math inline">\(A\)</span>, <span class="math inline">\(B\)</span>, <span class="math inline">\(C\)</span>, <span class="math inline">\(D\)</span> et <span class="math inline">\(E\)</span>:</p>
<p><span class="math display">\[alr_A = log \left( \frac{A}{E} \right), alr_B = log \left( \frac{B}{E} \right), alr_C = log \left( \frac{C}{E} \right), alr_D = log \left( \frac{D}{E} \right)\]</span></p>
<p>Dans R, la colonne de r√©f√©rence est par d√©faut la <strong>derni√®re colonne de la matrice des compositions</strong>.</p>
<div class="sourceCode" id="cb529"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb529-1" title="1">add_lr &lt;-<span class="st"> </span><span class="kw">alr</span>(comp)</a></code></pre></div>
<p>Cette derni√®re strat√©gie se nomme les <strong>log-ratios aditifs</strong> (<span class="math inline">\(alr\)</span> pour <em>additive log-ratio</em>). Bien que valide pour effectuer des tests statistiques, cette strat√©gie a le d√©savantage de d√©pendre de la d√©cision arbitraire de la composante √† utiliser au num√©rateur. Deuxi√®me restriction des <em>alr</em>: les axes de l‚Äôespace des <em>alr</em> n‚Äô√©tant pas orthogonaux, ils ne peuvent pas √™tre utilis√©s pour effectuer des statistiques bas√©es sur les distances (que nous couvrirons au chapitre <a href="chapitre-ordination.html#chapitre-ordination">9</a>).</p>
<p>L‚Äôautre strat√©gie propos√©e par Aitchison √©tait d‚Äôeffectuer un log-ratio entre chaque composante et la moyenne g√©om√©trique de toutes les composantes. Cette transformation se nomme le <strong>log-ratio centr√©</strong> (<span class="math inline">\(clr\)</span>, pour <em>centered log-ratio</em>)</p>
<p><span class="math display">\[clr_i = log \left( \frac{x_i}{g \left( x \right)} \right)\]</span></p>
<p>En R,</p>
<div class="sourceCode" id="cb530"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb530-1" title="1">cen_lr &lt;-<span class="st"> </span><span class="kw">clr</span>(comp)</a></code></pre></div>
<p>Avec des CLRs, les distances sont valides. Mais‚Ä¶ nous restons avec le probl√®me de la redondance d‚Äôinformation. En fait, la somme de chacunes des lignes d‚Äôune matrice de clr est de 0. Pas tr√®s pratique lorsque l‚Äôon effectue des statistiques incluant une inversion de la matrice de covariance (distance de Mahalanobis, g√©ostatistiques, etc.)</p>
<pre><code>cen_lr %&gt;% 
  cov() %&gt;% 
  solve()
 Error in solve.default(.) : le syst√®me est num√©riquement singulier : conditionnement de la r√©ciproque = 4.44407e-17</code></pre>
<p>Enfin, une autre m√©thode de transformation d√©velopp√©e par Egoscue et al.¬†(2003), les log-ratios isom√©triques (ou <em>isometric log-ratios, ilr</em>) projette les compositions comprenant D composantes dans un espace restreint de D-1 dimensions orthonorm√©es. Ces dimensions doivent doivent √™tre pr√©alablement √©tablie dans un dendrogramme de bifurcation, o√π chaque composante ou groupe de composante est successivement divis√© en deux embranchement. La mani√®re d‚Äôarranger ces balances importe peu, mais on aura avantage √† cr√©er des balances interpr√©tables.</p>
<p>Le diagramme de balances peut √™tre encod√© dans une partition binaire s√©quentielle (ou <em>sequential bianry partition, sbp</em>). Une <em>sbp</em> est une matrice de contraste ou chaque ligne repr√©sente une partition entre deux variables ou groupes de variables. Une composante √©tiquett√©e <code>+1</code> correspondra au groupe du num√©rateur, une composante √©tiquett√©e <code>-1</code> au d√©nominateur et une composante √©tiquett√©e <code>0</code> sera exclue de la partition (<a href="http://dx.doi.org/10.3389/fpls.2013.00039">Parent et al., 2013</a>). J‚Äôai reformul√© la fonction CoDaDendrogram pour que l‚Äôon puisse ajouter des informations int√©ressantes sur les balants horizontaux. Cette fonction est disponible sur github.</p>
<div class="sourceCode" id="cb532"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb532-1" title="1"><span class="kw">source</span>(<span class="st">&quot;https://raw.githubusercontent.com/essicolo/AgFun/master/codadend2.R&quot;</span>)</a>
<a class="sourceLine" id="cb532-2" title="2"></a>
<a class="sourceLine" id="cb532-3" title="3">sbp &lt;-<span class="st"> </span><span class="kw">matrix</span>(<span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">1</span>,<span class="op">-</span><span class="dv">1</span>,</a>
<a class="sourceLine" id="cb532-4" title="4">                <span class="dv">1</span>,<span class="op">-</span><span class="dv">1</span>, <span class="dv">0</span>),</a>
<a class="sourceLine" id="cb532-5" title="5">              <span class="dt">byrow =</span> <span class="ot">TRUE</span>,</a>
<a class="sourceLine" id="cb532-6" title="6">              <span class="dt">ncol =</span> <span class="dv">3</span>)</a>
<a class="sourceLine" id="cb532-7" title="7"></a>
<a class="sourceLine" id="cb532-8" title="8"><span class="kw">CoDaDendrogram2</span>(comp, <span class="dt">V =</span> <span class="kw">gsi.buildilrBase</span>(<span class="kw">t</span>(sbp)), <span class="dt">ylim =</span> <span class="kw">c</span>(<span class="dv">0</span>, <span class="dv">1</span>),</a>
<a class="sourceLine" id="cb532-9" title="9">                <span class="dt">equal.height =</span> <span class="ot">TRUE</span>)</a></code></pre></div>
<p><img src="_main_files/figure-html/expl-sbp-1.png" width="672" /></p>
<p>Si la SBP est plus imposante, il pourrait √™tre plus ais√© de monter dans un chiffrier, puis de l‚Äôimporter dans R via un fichier csv.</p>
<p>Le calcul des ILRs est effectu√© comme suit.</p>
<p><span class="math display">\[ilr_j = \sqrt{\frac{n_j^+ n_j^-}{n_j^+ + n_j^-}} log \left( \frac{g \left( c_j^+ \right)}{g \left( c_j^+ \right)} \right)\]</span></p>
<p>ou, √† la ligne <span class="math inline">\(j\)</span> de la SBP, <span class="math inline">\(n_j^+\)</span> et <span class="math inline">\(n_j^-\)</span> sont respectivement le nombre de composantes au num√©rateur et au d√©nominateur, <span class="math inline">\(g \left( c_j^+ \right)\)</span> est la moyenne g√©om√©trique des composantes au num√©rateur et <span class="math inline">\(g \left( c_j^- \right)\)</span> est la moyenne g√©om√©trique des composantes au d√©nominateur.</p>
<p>Les balances sont conventionnellement not√©es <code>[A,B | C,D]</code>, ou les composantes <code>A</code> et <code>B</code> au d√©nominateur sont balanc√©es avec les composantes <code>C</code> and <code>D</code> au num√©rateur. Une balance positive signifie que la moyenne g√©om√©trique des concentrations au num√©rateur est sup√©rieur √† celle au d√©nominateur, et inversement, alors qu‚Äôune balance nulle signifie que les moyennes g√©om√©triques sont √©gales (√©quilibre). Ainsi, en mod√©lisation lin√©aire, un coefficient positif sur <code>[A,B | C,D]</code> signifie que l‚Äôaugmentation de l‚Äôimportance de <code>C</code> et <code>D</code> comparativement √† <code>A</code> et <code>B</code> est associ√© √† une augmentation de la variable r√©ponse du mod√®le.</p>
<p>En R,</p>
<div class="sourceCode" id="cb533"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb533-1" title="1">iso_lr &lt;-<span class="st"> </span><span class="kw">ilr</span>(comp, <span class="dt">V =</span> <span class="kw">gsi.buildilrBase</span>(<span class="kw">t</span>(sbp)))</a></code></pre></div>
<p>Notez la forme <code>gsi.buildilrBase(t(sbp))</code> est une op√©ration pour obtenir la matrice d‚Äôorthonormalit√© √† partir de la SBP.</p>
<p>Les ILRs sont des balances multivari√©es sur lesquelles on pourra effectuer des statistiques lin√©aries. Bien que l‚Äôinterpr√©tation des r√©sultats comme collection d‚Äôinterpr√©tations sur des balances univari√©es pourra √™tre affect√©e par la structure de la SBP, ni les statistiques lin√©aires multivari√©es, ni la distance entre les points ne seront affect√©s. En effet, chaque variante de la SBP est une rotation (d‚Äôun facteur de 60¬∞) par rapport √† l‚Äôorigine:</p>
<div class="sourceCode" id="cb534"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb534-1" title="1"><span class="kw">source</span>(<span class="st">&quot;lib/ilr-rotation-sbp.R&quot;</span>)</a></code></pre></div>
<p><img src="images/06_ilr-rotation.png" /></p>
<p>Pour les transformations inverses, vous pourrez utiliser les fonctions <code>alrInv</code>, <code>clrInv</code> et <code>ilrInv</code>. Dans tous les cas, si vous tenez √† garder la trace de vos donn√©es dans leur format original, vous aurez avantage √† ajouter √† votre vecteur compositionnel la valeur de remplissage, constitu√© d‚Äôun amalgame des composantes non mesur√©es. Par exemple,</p>
<div class="sourceCode" id="cb535"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb535-1" title="1">pourc &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dt">N =</span> <span class="fl">0.03</span>, <span class="dt">P =</span> <span class="fl">0.001</span>, <span class="dt">K =</span> <span class="fl">0.01</span>)</a>
<a class="sourceLine" id="cb535-2" title="2"><span class="kw">acomp</span>(pourc) <span class="co"># vous perdez la trace des proportions originales</span></a></code></pre></div>
<pre><code>##          N          P          K 
## 0.73170732 0.02439024 0.24390244 
## attr(,&quot;class&quot;)
## [1] acomp</code></pre>
<div class="sourceCode" id="cb537"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb537-1" title="1">pourc &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dt">N =</span> <span class="fl">0.03</span>, <span class="dt">P =</span> <span class="fl">0.001</span>, <span class="dt">K =</span> <span class="fl">0.01</span>)</a>
<a class="sourceLine" id="cb537-2" title="2">Fv &lt;-<span class="st"> </span><span class="dv">1</span> <span class="op">-</span><span class="st"> </span><span class="kw">sum</span>(pourc)</a>
<a class="sourceLine" id="cb537-3" title="3">comp &lt;-<span class="st"> </span><span class="kw">acomp</span>(<span class="kw">c</span>(pourc, <span class="dt">Fv =</span> Fv))</a>
<a class="sourceLine" id="cb537-4" title="4">comp</a></code></pre></div>
<pre><code>##     N     P     K    Fv 
## 0.030 0.001 0.010 0.959 
## attr(,&quot;class&quot;)
## [1] acomp</code></pre>
<div class="sourceCode" id="cb539"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb539-1" title="1">iso_lr &lt;-<span class="st"> </span><span class="kw">ilr</span>(comp) <span class="co"># avec une sbp par d√©faut</span></a>
<a class="sourceLine" id="cb539-2" title="2"><span class="kw">ilrInv</span>(iso_lr)</a></code></pre></div>
<pre><code>##      1    2     3    4    
## [1,] 0.03 0.001 0.01 0.959
## attr(,&quot;class&quot;)
## [1] acomp</code></pre>
<p>Si vos donn√©es font partie d‚Äôun tout, je vous recommande chaudement d‚Äôutiliser des m√©thodes compositionnelles autant pour l‚Äôanalyse que la mod√©lisation. Pour en savoir davantage, le livre <em>Compositional data analysis with R</em>, de van den Boogart et Tolosana-Delgado, est disponible en format √©lectronique √† la biblioth√®que de l‚ÄôUniversit√© Laval.</p>
<p>Pour aller plus loin, j‚Äôai √©cri un billet √† ce sujet (auquel √† ce jour il manque toujours un cas d‚Äô√©tude): <a href="https://www.authorea.com/users/23640/articles/281937-we-should-use-balances-and-machine-learning-to-diagnose-ionomes">We should use balances and machine learning to diagnose ionomes</a>.</p>
</div>
</div>
<div id="acqu√©rir-des-donn√©es-m√©t√©o" class="section level3">
<h3><span class="header-section-number">8.3.2</span> Acqu√©rir des donn√©es m√©t√©o</h3>
<p>Une t√¢che commune en √©cologie est de lier des observations √† la m√©t√©o‚Ä¶ qui sont rarement collect√©s lors d‚Äôexp√©riences. <a href="https://meteo.gc.ca/">Environnement Canada</a> poss√®de sont r√©seau de stations. Les donn√©es sont disponibles sur internet en libre acc√®s. Vous pouvez chercher des stations, effectuer des requ√™tes et t√©l√©charger des fichiers csv. Pour un petit tableau, la t√¢che est plut√¥t triviale. Mais √ßa devient rapidement laborieux √† mesure que l‚Äôon doit rechercher de nombreuses donn√©es.</p>
<p>Le module <a href="http://ropensci.github.io/weathercan/">weathercan</a>, d√©velopp√© par Steffi LaZerte, permet d‚Äôeffectuer des requ√™tes rapidement √† partir des coordonn√©es de votre site exp√©rimental. Par exemple, si je cherche une station m√©t√©o sfournissant des donn√©es horaires situ√© √† moins de 20 km du sommet du Mont-Bellevue, √† Sherbrooke, aux coordonn√©es [latitude 45.35, longitude -71.90],</p>
<div class="sourceCode" id="cb541"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb541-1" title="1"><span class="kw">library</span>(<span class="st">&quot;weathercan&quot;</span>)</a></code></pre></div>
<pre><code>## 
## Attaching package: &#39;weathercan&#39;</code></pre>
<pre><code>## The following object is masked from &#39;package:dials&#39;:
## 
##     stations</code></pre>
<div class="sourceCode" id="cb544"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb544-1" title="1">station_site &lt;-<span class="st"> </span><span class="kw">stations_search</span>(<span class="dt">coords =</span> <span class="kw">c</span>(<span class="fl">45.35</span>, <span class="fl">-71.90</span>), <span class="dt">dist =</span> <span class="dv">20</span>, <span class="dt">interval =</span> <span class="st">&quot;hour&quot;</span>)</a>
<a class="sourceLine" id="cb544-2" title="2">station_site</a></code></pre></div>
<pre><code>## # A tibble: 4 x 15
##   prov  station_name station_id climate_id WMO_id TC_id   lat   lon  elev tz    interval start
##   &lt;chr&gt; &lt;chr&gt;             &lt;int&gt; &lt;fct&gt;       &lt;int&gt; &lt;fct&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;chr&gt; &lt;chr&gt;    &lt;int&gt;
## 1 QC    LENNOXVILLE        5397 7024280     71611 WQH    45.4 -71.8  181  Etc/~ hour      1994
## 2 QC    SHERBROOKE        48371 7028123     71610 YSC    45.4 -71.7  241. Etc/~ hour      2009
## 3 QC    SHERBROOKE A       5530 7028124     71610 YSC    45.4 -71.7  241. Etc/~ hour      1962
## 4 QC    SHERBROOKE A      30171 7028126        NA GSC    45.4 -71.7  241. Etc/~ hour      2004
## # ... with 3 more variables: end &lt;int&gt;, normals &lt;lgl&gt;, distance &lt;dbl&gt;</code></pre>
<p>Je prends en note l‚Äôidentifiant de la station d√©sir√©e (ou des stations, disons 5397 et 48371), puis je lance une requ√™te pour obtenir la m√©t√©o horaire entre les dates d√©sir√©es.</p>
<div class="sourceCode" id="cb546"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb546-1" title="1">mont_bellevue &lt;-<span class="st"> </span><span class="kw">weather_dl</span>(<span class="dt">station_ids =</span> <span class="kw">c</span>(<span class="dv">5397</span>, <span class="dv">48371</span>),</a>
<a class="sourceLine" id="cb546-2" title="2">                            <span class="dt">start =</span> <span class="st">&quot;2019-02-01&quot;</span>,</a>
<a class="sourceLine" id="cb546-3" title="3">                            <span class="dt">end =</span> <span class="st">&quot;2019-02-07&quot;</span>,</a>
<a class="sourceLine" id="cb546-4" title="4">                            <span class="dt">interval =</span> <span class="st">&quot;hour&quot;</span>,</a>
<a class="sourceLine" id="cb546-5" title="5">                            <span class="dt">verbose =</span> <span class="ot">TRUE</span>, <span class="dt">tz_disp =</span> <span class="st">&quot;Etc/GMT+5&quot;</span>)</a></code></pre></div>
<pre><code>## Warning in weather_dl(station_ids = c(5397, 48371), start = &quot;2019-02-01&quot;, : &#39;tz_disp&#39; is
## deprecated, see Details under ?weather_dlFALSE</code></pre>
<pre><code>## Getting station: 5397</code></pre>
<pre><code>## Formatting station data: 5397</code></pre>
<pre><code>## Adding header data: 5397</code></pre>
<pre><code>## Getting station: 48371</code></pre>
<pre><code>## Formatting station data: 48371</code></pre>
<pre><code>## Adding header data: 48371</code></pre>
<pre><code>## Trimming missing values before and after</code></pre>
<pre><code>## As of weathercan v0.3.0 time display is either local time or UTC
## See Details under ?weather_dl for more information.
## This message is shown once per session</code></pre>
<div class="sourceCode" id="cb556"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb556-1" title="1">mont_bellevue <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">head</span>(<span class="dv">5</span>)</a></code></pre></div>
<pre><code>## # A tibble: 5 x 35
##   station_name station_id station_operator prov    lat   lon  elev climate_id WMO_id TC_id
##   &lt;chr&gt;             &lt;dbl&gt; &lt;lgl&gt;            &lt;chr&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;chr&gt;      &lt;chr&gt;  &lt;chr&gt;
## 1 LENNOXVILLE        5397 NA               QC     45.4 -71.8   181 7024280    71611  WQH  
## 2 LENNOXVILLE        5397 NA               QC     45.4 -71.8   181 7024280    71611  WQH  
## 3 LENNOXVILLE        5397 NA               QC     45.4 -71.8   181 7024280    71611  WQH  
## 4 LENNOXVILLE        5397 NA               QC     45.4 -71.8   181 7024280    71611  WQH  
## 5 LENNOXVILLE        5397 NA               QC     45.4 -71.8   181 7024280    71611  WQH  
## # ... with 25 more variables: date &lt;date&gt;, time &lt;dttm&gt;, year &lt;chr&gt;, month &lt;chr&gt;, day &lt;chr&gt;,
## #   hour &lt;chr&gt;, weather &lt;chr&gt;, hmdx &lt;dbl&gt;, hmdx_flag &lt;chr&gt;, pressure &lt;dbl&gt;,
## #   pressure_flag &lt;chr&gt;, rel_hum &lt;dbl&gt;, rel_hum_flag &lt;chr&gt;, temp &lt;dbl&gt;, temp_dew &lt;dbl&gt;,
## #   temp_dew_flag &lt;chr&gt;, temp_flag &lt;chr&gt;, visib &lt;dbl&gt;, visib_flag &lt;chr&gt;, wind_chill &lt;dbl&gt;,
## #   wind_chill_flag &lt;chr&gt;, wind_dir &lt;dbl&gt;, wind_dir_flag &lt;chr&gt;, wind_spd &lt;dbl&gt;,
## #   wind_spd_flag &lt;chr&gt;</code></pre>
<p>Et voil√†.</p>
<div class="sourceCode" id="cb558"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb558-1" title="1">mont_bellevue <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb558-2" title="2"><span class="st">  </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(<span class="dt">x =</span> time, <span class="dt">y =</span> temp)) <span class="op">+</span></a>
<a class="sourceLine" id="cb558-3" title="3"><span class="st">  </span><span class="kw">geom_line</span>(<span class="kw">aes</span>(<span class="dt">colour =</span> station_name))</a></code></pre></div>
<p><img src="_main_files/figure-html/expl-weathercan-plot-1.png" width="672" /></p>
</div>
<div id="p√©dom√©trie-avec-r" class="section level3">
<h3><span class="header-section-number">8.3.3</span> P√©dom√©trie avec R</h3>
<p><em>Cette section a √©t√© √©crite par <a href="https://www.researchgate.net/profile/Michael_Leblanc7">Michael Leblanc</a>.</em> Je n‚Äôy ai appliqu√© que quelques retouches esth√©tiques.</p>
<p>Plusieurs fonctionnalit√©s ont √©t√© d√©velopp√©es sur R afin d‚Äôaider les <em>p√©dom√©triciens</em> √† visualiser, explorer et traiter les donn√©es num√©riques en science des sols. Voici quelques exemples.</p>
<div id="texture-du-sol" class="section level4">
<h4><span class="header-section-number">8.3.3.1</span> Texture du sol</h4>
<p>La texture du sol est d√©finie par sa composition granulom√©trique, habituellement repr√©sent√©e par trois fractions (sable, limon, argile), laquelle peut √™tre g√©n√©ralis√©e en classe texturale. La d√©finition des classes texturales diff√®re d‚Äôun syst√®me ou d‚Äôun pays √† l‚Äôautre comme en t√©moigne l‚Äôarticle <a href="http://www.afes.fr/wp-content/uploads/2017/10/EGS_15_2_richerdeforges.pdf">Perdus dans le triangle des textures (Richer de Forges et al.¬†2008)</a>. La d√©finition des fractions granulom√©triques peut √©galement diff√©rer selon le domaine d‚Äô√©tude (ing√©nierie, p√©dologie) ou le pays. Par exemple, le diam√®tre du limon est de 0,002 mm √† 0,05 mm dans le syst√®me canadien, am√©ricain et fran√ßais alors qu‚Äôil est de 0,002 mm √† 0,02 mm dans le syst√®me australien et de 0,002 mm √† 0,063 mm dans le syst√®me allemand. Il est donc important de v√©rifier la m√©thodologie et le syst√®me de classification utilis√©s pour interpr√©ter les donn√©es de texture du sol. Le module <code>soilTexture</code> propose des fonctions permettant d‚Äôaborder ces multiples d√©finitions.</p>
<div class="sourceCode" id="cb559"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb559-1" title="1"><span class="kw">library</span>(<span class="st">&quot;soiltexture&quot;</span>)</a></code></pre></div>
<pre><code>## soiltexture 1.5.1 (git revision: 4b25ba2). For help type: help(pack=&#39;soiltexture&#39;)</code></pre>
<div id="les-triangles-texturaux" class="section level5">
<h5><span class="header-section-number">8.3.3.1.1</span> Les triangles texturaux</h5>
<p>Avec la fonction <code>TT.plot</code>, vous pouvez pr√©senter vos donn√©es granulom√©triques dans un triangle textural tel que d√©fini par les diff√©rents syst√®mes nationaux. Auparavant, cr√©ons un objet comprenant des textures al√©atoires.</p>
<div class="sourceCode" id="cb561"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb561-1" title="1"><span class="kw">set.seed</span>(<span class="dv">848341</span>) <span class="co"># random.org</span></a>
<a class="sourceLine" id="cb561-2" title="2">rand_text &lt;-<span class="st"> </span><span class="kw">TT.dataset</span>(<span class="dt">n=</span><span class="dv">100</span>, <span class="dt">seed.val=</span><span class="dv">29</span>)</a>
<a class="sourceLine" id="cb561-3" title="3"><span class="kw">head</span>(rand_text)</a></code></pre></div>
<pre><code>##        CLAY     SILT      SAND          Z
## 1 54.650857 40.37101  4.978129 13.2477582
## 2 44.745954 40.81782 14.436221 20.8433109
## 3 18.192509 48.26752 33.539970  7.1814626
## 4 17.750492 40.14405 42.105458 -0.2077358
## 5 65.518360 23.36110 11.120538 10.8656027
## 6  6.610293 22.45353 70.936173  3.7108567</code></pre>
<p>Avec le module soiltexture, les tableaux de texture doivent inclure les intitull√©s exactes CLAY, SILT et SAND (notez les majuscules). Les points des textures g√©n√©r√©es peuvent √™tre port√©s dans des diagrammes ternaires texturaux de diff√©rents syst√®mes de classification, par exemple le syst√®me canadioen et le syst√®me USDA.</p>
<div class="sourceCode" id="cb563"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb563-1" title="1"><span class="kw">par</span>(<span class="dt">mfrow=</span><span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">2</span>))</a>
<a class="sourceLine" id="cb563-2" title="2"></a>
<a class="sourceLine" id="cb563-3" title="3"><span class="kw">TT.plot</span>(<span class="dt">class.sys =</span> <span class="st">&quot;CA.FR.TT&quot;</span>, </a>
<a class="sourceLine" id="cb563-4" title="4">        <span class="dt">tri.data =</span> rand_text,</a>
<a class="sourceLine" id="cb563-5" title="5">        <span class="dt">col =</span> <span class="st">&quot;blue&quot;</span>)</a>
<a class="sourceLine" id="cb563-6" title="6"><span class="kw">TT.plot</span>(<span class="dt">class.sys =</span> <span class="st">&quot;USDA.TT&quot;</span>, </a>
<a class="sourceLine" id="cb563-7" title="7">        <span class="dt">tri.data =</span> rand_text,</a>
<a class="sourceLine" id="cb563-8" title="8">        <span class="dt">col =</span> <span class="st">&quot;blue&quot;</span>)</a></code></pre></div>
<p><img src="_main_files/figure-html/expl-sol-tern-1.png" width="1536" /></p>
<p>Les param√®tres de la figure (titres, polices, style de la grille, etc.) peuvent √™tre personnalis√©s avec les <a href="https://www.rdocumentation.org/packages/soiltexture/versions/1.5.1/topics/TT.plot">arguments TT.plot</a>.</p>
</div>
<div id="les-classes-texturales" class="section level5">
<h5><span class="header-section-number">8.3.3.1.2</span> Les classes texturales</h5>
<p>La fonction <code>TT.points.in.classes</code> est utile pour d√©signer la classe texturale √† partir des donn√©es granulom√©triques, en sp√©cifiant bien le syst√®me de classification d√©sir√©.</p>
<div class="sourceCode" id="cb564"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb564-1" title="1"><span class="kw">TT.points.in.classes</span>(</a>
<a class="sourceLine" id="cb564-2" title="2">  <span class="dt">tri.data =</span> rand_text[<span class="dv">1</span><span class="op">:</span><span class="dv">10</span>, ], <span class="co"># </span></a>
<a class="sourceLine" id="cb564-3" title="3">  <span class="dt">class.sys =</span> <span class="st">&quot;CA.FR.TT&quot;</span>,</a>
<a class="sourceLine" id="cb564-4" title="4">  <span class="dt">PiC.type =</span> <span class="st">&quot;t&quot;</span></a>
<a class="sourceLine" id="cb564-5" title="5">)</a></code></pre></div>
<pre><code>##  [1] &quot;ALi&quot; &quot;ALi&quot; &quot;L&quot;   &quot;L&quot;   &quot;ALo&quot; &quot;LS&quot;  &quot;ALo&quot; &quot;A&quot;   &quot;LLi&quot; &quot;LSA&quot;</code></pre>
<p>Plusieurs autres fonctions sont propos√©es par <code>soiltexture</code> afin de visualiser, classifier et transformer les donn√©es de texture du sol : <a href="https://www.rdocumentation.org/packages/soiltexture/versions/1.5.1">Functions in soiltexture</a>. Julien Moeys (2018) propose √©galement le tutoriel <a href="https://cran.r-project.org/web/packages/soiltexture/vignettes/soiltexture_vignette.pdf"><em>The soil texture wizard: a tutorial</em></a>.</p>
</div>
</div>
<div id="profils-de-sols" class="section level4">
<h4><span class="header-section-number">8.3.3.2</span> Profils de sols</h4>
<p>Le profil de sols est une entit√© d√©crite par une s√©quence de couches ou d‚Äôhorizons avec diff√©rentes caract√©ristiques morphologiques. Le module AQP, pour <a href="http://ncss-tech.github.io/AQP/"><em>Algorithms for Quantitative Pedology</em></a>, propose des fonctions de visualisation, d‚Äôagr√©gation et de classification permettant d‚Äôaborder la complexit√© inh√©rente aux informations p√©dologiques.</p>
<div id="la-visualisation-de-profils" class="section level5">
<h5><span class="header-section-number">8.3.3.2.1</span> La visualisation de profils</h5>
<p>Vous devez d‚Äôabord structurer vos donn√©es dans un tableau (<code>data.frame</code>) incluant minimalement ces trois colonnes :</p>
<ol style="list-style-type: decimal">
<li>Identifiant unique du profil (groupes d‚Äôhorizons) (<code>id</code>)</li>
<li>Limites sup√©rieures de l‚Äôhorizon (<code>top</code>)</li>
<li>Limites inf√©rieures de l‚Äôhorizon (<code>down</code>)</li>
</ol>
<p>Vos donn√©es morphologiques, physico-chimiques, etc., sont incluses dans les autres colonnes. Chargeons un fichier p√©dologique √† titre d‚Äôexemple.</p>
<div class="sourceCode" id="cb566"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb566-1" title="1">profils &lt;-<span class="st"> </span><span class="kw">read_csv</span>(<span class="st">&quot;data/06_pedometric-profile.csv&quot;</span>)</a></code></pre></div>
<pre><code>## Parsed with column specification:
## cols(
##   id = col_double(),
##   horizon = col_character(),
##   top = col_double(),
##   bottom = col_double(),
##   hue = col_character(),
##   value = col_double(),
##   chroma = col_double(),
##   pH.CaCl2 = col_double(),
##   C.CNS.pc = col_double()
## )</code></pre>
<div class="sourceCode" id="cb568"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb568-1" title="1"><span class="kw">head</span>(profils)</a></code></pre></div>
<pre><code>## # A tibble: 6 x 9
##      id horizon   top bottom hue   value chroma pH.CaCl2 C.CNS.pc
##   &lt;dbl&gt; &lt;chr&gt;   &lt;dbl&gt;  &lt;dbl&gt; &lt;chr&gt; &lt;dbl&gt;  &lt;dbl&gt;    &lt;dbl&gt;    &lt;dbl&gt;
## 1     1 Ap1         0     23 10YR      2      3     4.78     2.71
## 2     1 Ap2        23     34 10YR      2      2     4.74     2.2 
## 3     1 Bfcj       34     46 7.5YR     4      5     4.79     2.4 
## 4     1 BC         46     83 2.5Y      4      5     4.93     0.22
## 5     1 C          83    100 2.5Y      5      4     4.82     0.18
## 6     2 Ap          0     29 10YR      2      2     4.6      4.22</code></pre>
<p>La fonction <code>munsell2rgb</code> permet de convertir le code de couleur <em>Munsell</em> en format <em>RGB</em>.</p>
<div class="sourceCode" id="cb570"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb570-1" title="1"><span class="kw">library</span>(<span class="st">&quot;aqp&quot;</span>)</a></code></pre></div>
<pre><code>## This is aqp 1.19</code></pre>
<pre><code>## 
## Attaching package: &#39;aqp&#39;</code></pre>
<pre><code>## The following object is masked from &#39;package:greta&#39;:
## 
##     slice</code></pre>
<pre><code>## The following object is masked from &#39;package:plotly&#39;:
## 
##     slice</code></pre>
<pre><code>## The following objects are masked from &#39;package:dplyr&#39;:
## 
##     slice, union</code></pre>
<pre><code>## The following object is masked from &#39;package:base&#39;:
## 
##     union</code></pre>
<div class="sourceCode" id="cb577"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb577-1" title="1">profils<span class="op">$</span>soil_color &lt;-<span class="st"> </span><span class="kw">with</span>(profils, <span class="kw">munsell2rgb</span>(hue, value, chroma))</a></code></pre></div>
<p>Pr√©alablement √† la visualisation, le tableau est transform√© en objet <code>SoilProfileCollection</code> par la fonction <code>depths</code>. Pour ce faire, le tableau doit √™tre un pur <code>data.frame</code>, non pas un <code>tibble</code>.</p>
<div class="sourceCode" id="cb578"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb578-1" title="1">profils &lt;-<span class="st"> </span>profils <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">as.data.frame</span>()</a>
<a class="sourceLine" id="cb578-2" title="2"><span class="kw">depths</span>(profils) &lt;-<span class="st"> </span>id <span class="op">~</span><span class="st"> </span>top <span class="op">+</span><span class="st"> </span>bottom</a></code></pre></div>
<p>La fonction <code>plot</code> d√©tectera le type d‚Äôobjet et appellera la fonction de visualisation en cons√©quence.</p>
<div class="sourceCode" id="cb579"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb579-1" title="1"><span class="kw">par</span>(<span class="dt">mfrow =</span> <span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">3</span>))</a>
<a class="sourceLine" id="cb579-2" title="2"><span class="kw">plot</span>(profils, <span class="dt">name=</span><span class="st">&quot;horizon&quot;</span>)</a>
<a class="sourceLine" id="cb579-3" title="3"><span class="kw">title</span>(<span class="st">&#39;Couleur des horizons&#39;</span>, <span class="dt">cex.main=</span><span class="dv">1</span>)</a>
<a class="sourceLine" id="cb579-4" title="4"><span class="kw">plot</span>(profils, <span class="dt">name=</span><span class="st">&quot;horizon&quot;</span>, <span class="dt">color=</span><span class="st">&#39;C.CNS.pc&#39;</span>, <span class="dt">col.label=</span><span class="st">&#39;C total (%)&#39;</span>)</a>
<a class="sourceLine" id="cb579-5" title="5"><span class="kw">plot</span>(profils, <span class="dt">name=</span><span class="st">&quot;horizon&quot;</span>, <span class="dt">color=</span><span class="st">&#39;pH.CaCl2&#39;</span>, <span class="dt">col.label=</span><span class="st">&#39;pH CaCl2&#39;</span>)</a></code></pre></div>
<p><img src="_main_files/figure-html/expl-sol-profils-plot-1.png" width="1152" /></p>
<p>De multiples figures th√©matiques peuvent √™tre g√©n√©r√©es afin de repr√©senter les particuliarit√©s des profils. Pour aller plus loin, consultez les guides <a href="http://ncss-tech.github.io/AQP/aqp/aqp-intro.html"><em>Introduction to SoilProfileCollection Objects</em></a> et <a href="http://ncss-tech.github.io/AQP/aqp/SPC-plotting-ideas.html"><em>Generating Sketches from SPC Objects</em></a>.</p>
</div>
<div id="les-plans-verticaux-depth-functions" class="section level5">
<h5><span class="header-section-number">8.3.3.2.2</span> Les plans verticaux (depth functions)</h5>
<p>Les plans verticaux sont des diagrammes qui permettent d‚Äôinterpr√©ter les donn√©es en fonction de la profondeur. La fonction <code>slab</code> permet le calcul de statistiques descriptives par intervalles de profondeur r√©guliers, lesquelles permettent de visualiser la variabilit√© verticale des propri√©t√©s des sols.</p>
<div class="sourceCode" id="cb580"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb580-1" title="1">agg &lt;-<span class="st"> </span><span class="kw">slab</span>(profils, <span class="dt">fm =</span> <span class="op">~</span><span class="st"> </span>C.CNS.pc <span class="op">+</span><span class="st"> </span>pH.CaCl2)</a></code></pre></div>
<p>La visualisation est g√©n√©r√©e par le module graphique ggplot2</p>
<div class="sourceCode" id="cb581"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb581-1" title="1">agg <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb581-2" title="2"><span class="st">  </span><span class="kw">ggplot</span>(<span class="dt">mapping =</span> <span class="kw">aes</span>(<span class="dt">x =</span> <span class="op">-</span>top, <span class="dt">y =</span> p.q50)) <span class="op">+</span></a>
<a class="sourceLine" id="cb581-3" title="3"><span class="st">  </span><span class="kw">facet_grid</span>(. <span class="op">~</span><span class="st"> </span>variable, <span class="dt">scale =</span> <span class="st">&quot;free&quot;</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb581-4" title="4"><span class="st">  </span><span class="kw">geom_ribbon</span>(<span class="kw">aes</span>(<span class="dt">ymin =</span>  p.q25, <span class="dt">ymax =</span> p.q75), <span class="dt">fill =</span> <span class="st">&quot;grey75&quot;</span>, <span class="dt">alpha =</span> <span class="fl">0.5</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb581-5" title="5"><span class="st">  </span><span class="kw">geom_path</span>() <span class="op">+</span></a>
<a class="sourceLine" id="cb581-6" title="6"><span class="st">  </span><span class="kw">labs</span>(<span class="dt">x =</span> <span class="st">&quot;Profondeur (cm)&quot;</span>,</a>
<a class="sourceLine" id="cb581-7" title="7">       <span class="dt">y =</span> <span class="st">&quot;M√©diane bord√©e des 25e and 75e percentiles&quot;</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb581-8" title="8"><span class="st">  </span><span class="kw">coord_flip</span>()</a></code></pre></div>
<p><img src="_main_files/figure-html/expl-sol-agg-ggplot-1.png" width="672" /></p>
</div>
<div id="le-regroupement-de-profils" class="section level5">
<h5><span class="header-section-number">8.3.3.2.3</span> Le regroupement de profils</h5>
<p>Le calcul des distances de dissimilarit√© entre les profils avec <code>profile_compare</code> permet la construction de dendrogramme et le regroupement des profils. Notez que nous survolerons au chapitre <a href="chapitre-ordination.html#chapitre-ordination">9</a> les concepts de dissimilarit√© et de partitionnement.</p>
<div class="sourceCode" id="cb582"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb582-1" title="1"><span class="kw">library</span>(<span class="st">&quot;cluster&quot;</span>)</a>
<a class="sourceLine" id="cb582-2" title="2"><span class="kw">library</span>(<span class="st">&quot;mvtnorm&quot;</span>)</a>
<a class="sourceLine" id="cb582-3" title="3"><span class="kw">library</span>(<span class="st">&quot;sharpshootR&quot;</span>) <span class="co"># remotes::install_github(&quot;ncss-tech/sharpshootR&quot;)</span></a>
<a class="sourceLine" id="cb582-4" title="4">d &lt;-<span class="st"> </span><span class="kw">profile_compare</span>(profils, <span class="dt">vars=</span><span class="kw">c</span>(<span class="st">&#39;C.CNS.pc&#39;</span>, <span class="st">&#39;pH.CaCl2&#39;</span>), <span class="dt">k=</span><span class="dv">0</span>, <span class="dt">max_d=</span><span class="dv">40</span>)</a></code></pre></div>
<pre><code>## Computing dissimilarity matrices from 10 profiles [0.08 Mb]</code></pre>
<div class="sourceCode" id="cb584"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb584-1" title="1">d_diana &lt;-<span class="st"> </span><span class="kw">diana</span>(d)</a>
<a class="sourceLine" id="cb584-2" title="2"><span class="kw">plotProfileDendrogram</span>(profils, <span class="dt">name=</span><span class="st">&quot;horizon&quot;</span>, d_diana,</a>
<a class="sourceLine" id="cb584-3" title="3">                      <span class="dt">scaling.factor =</span> <span class="fl">0.3</span>, <span class="dt">y.offset =</span> <span class="dv">5</span>,</a>
<a class="sourceLine" id="cb584-4" title="4">                      <span class="dt">color=</span><span class="st">&#39;pH.CaCl2&#39;</span>,  <span class="dt">col.label=</span><span class="st">&#39;pH CaCl2&#39;</span>)</a></code></pre></div>
<p><img src="_main_files/figure-html/expl-sol-cluster-1.png" width="672" /></p>
</div>
<div id="diagramme-de-relations-entre-les-horizons" class="section level5">
<h5><span class="header-section-number">8.3.3.2.4</span> Diagramme de relations entre les horizons</h5>
<p>Il est possible de visualiser les transitions d‚Äôhorizon les plus probables dans un groupe de profils de sols.</p>
<div class="sourceCode" id="cb585"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb585-1" title="1">tp &lt;-<span class="st"> </span><span class="kw">hzTransitionProbabilities</span>(profils, <span class="dt">name=</span><span class="st">&quot;horizon&quot;</span>)</a></code></pre></div>
<pre><code>## Warning: ties in transition probability matrix</code></pre>
<div class="sourceCode" id="cb587"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb587-1" title="1"><span class="kw">par</span>(<span class="dt">mar =</span> <span class="kw">c</span>(<span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">0</span>), <span class="dt">mfcol =</span> <span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">2</span>))</a>
<a class="sourceLine" id="cb587-2" title="2"><span class="kw">plot</span>(profils, <span class="dt">name=</span><span class="st">&quot;horizon&quot;</span>)</a>
<a class="sourceLine" id="cb587-3" title="3"><span class="kw">plotSoilRelationGraph</span>(tp, <span class="dt">graph.mode =</span> <span class="st">&quot;directed&quot;</span>, <span class="dt">edge.arrow.size =</span> <span class="fl">0.5</span>, <span class="dt">edge.scaling.factor =</span> <span class="dv">2</span>, <span class="dt">vertex.label.cex =</span> <span class="fl">0.75</span>, </a>
<a class="sourceLine" id="cb587-4" title="4">                      <span class="dt">vertex.label.family =</span> <span class="st">&quot;sans&quot;</span>)</a></code></pre></div>
<p><img src="_main_files/figure-html/expl-sol-relations-1.png" width="960" /></p>
<p>Consultez <a href="http://ncss-tech.github.io/AQP/">AQP project</a> pour des pr√©sentations, des tutoriels et des exemples de figures qui montrent les nombreuses possibilit√©s du package <code>AQP</code>.</p>
</div>
</div>
</div>
<div id="m√©ta-analyses-en-r" class="section level3">
<h3><span class="header-section-number">8.3.4</span> M√©ta-analyses en R</h3>
<p>Je conseille les livres <a href="https://www.wiley.com/en-us/Introduction+to+Meta+Analysis-p-9780470057247"><em>Introduction to Meta-Analysis</em></a>, <a href="https://www.springer.com/us/book/9783319214153"><em>Meta-analysis with R</em></a> et <a href="https://press.princeton.edu/titles/10045.html"><em>Handbook of Meta-analysis in Ecology and Evolution</em></a> pour les m√©ta-analyses sur des √©cosyst√®mes. Le module metafor est un ioncournable pour effectuer des m√©taanalyses en R. On ne passe pas tout √† fait √† c√¥t√© si l‚Äôon utilise le module meta, lui-m√™me bas√© en partie sur metafor. Le module meta a touttefois l‚Äôavantage d‚Äô√™tre simple d‚Äôutilisation. Par exemple, pour une m√©ta-analyse d‚Äôune r√©ponse continue,</p>
<div class="sourceCode" id="cb588"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb588-1" title="1"><span class="kw">library</span>(<span class="st">&quot;meta&quot;</span>)</a></code></pre></div>
<pre><code>## Loading &#39;meta&#39; package (version 4.11-0).
## Type &#39;help(meta)&#39; for a brief overview.</code></pre>
<pre><code>## 
## Attaching package: &#39;meta&#39;</code></pre>
<pre><code>## The following object is masked _by_ &#39;.GlobalEnv&#39;:
## 
##     ci</code></pre>
<div class="sourceCode" id="cb592"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb592-1" title="1">meta_data &lt;-<span class="st"> </span><span class="kw">read_csv</span>(<span class="st">&quot;https://portal.uni-freiburg.de/imbi/_SUPPRESS_ACCESSRULE/lehre/lehrbuecher/meta-analysis-with-r/dataset02.csv&quot;</span>)</a></code></pre></div>
<pre><code>## Parsed with column specification:
## cols(
##   author = col_character(),
##   Ne = col_double(),
##   Me = col_double(),
##   Se = col_double(),
##   Nc = col_double(),
##   Mc = col_double(),
##   Sc = col_double()
## )</code></pre>
<div class="sourceCode" id="cb594"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb594-1" title="1">meta_analyse &lt;-<span class="st"> </span><span class="kw">metacont</span>(<span class="dt">n.e =</span> Ne, <span class="dt">mean.e =</span> Me, <span class="dt">sd.e =</span> Se, <span class="dt">n.c =</span> Nc, <span class="dt">mean.c =</span> Mc, <span class="dt">sd.c =</span> Sc, <span class="dt">data =</span> meta_data, <span class="dt">sm =</span> <span class="st">&quot;SMD&quot;</span>)</a>
<a class="sourceLine" id="cb594-2" title="2">meta_analyse</a></code></pre></div>
<pre><code>##        SMD             95%-CI %W(fixed) %W(random)
## 1  -0.5990 [-1.3300;  0.1320]       3.5        5.7
## 2  -0.9518 [-1.6770; -0.2266]       3.6        5.7
## 3  -0.5909 [-1.6301;  0.4483]       1.7        4.1
## 4  -0.7064 [-1.7986;  0.3858]       1.6        3.9
## 5  -0.2815 [-0.6076;  0.0445]      17.6        8.1
## 6  -0.5375 [-1.0816;  0.0065]       6.3        6.8
## 7  -1.3204 [-2.1896; -0.4513]       2.5        4.9
## 8  -0.4800 [-1.3514;  0.3914]       2.5        4.9
## 9   0.0918 [-0.2549;  0.4385]      15.6        8.0
## 10 -3.2433 [-4.2035; -2.2831]       2.0        4.5
## 11  0.0000 [-0.7427;  0.7427]       3.4        5.6
## 12 -0.7061 [-1.2020; -0.2102]       7.6        7.1
## 13 -0.4724 [-1.2537;  0.3089]       3.1        5.4
## 14 -0.1849 [-0.5071;  0.1373]      18.0        8.2
## 15 -0.0265 [-0.6045;  0.5515]       5.6        6.6
## 16 -1.1648 [-2.0828; -0.2468]       2.2        4.7
## 17 -0.2127 [-0.9651;  0.5397]       3.3        5.6
## 
## Number of studies combined: k = 17
## 
##                          SMD             95%-CI     z  p-value
## Fixed effect model   -0.3915 [-0.5283; -0.2548] -5.61 &lt; 0.0001
## Random effects model -0.5858 [-0.8703; -0.3013] -4.04 &lt; 0.0001
## 
## Quantifying heterogeneity:
##  tau^2 = 0.2309 [0.1376; 0.9813]; tau = 0.4806 [0.3710; 0.9906];
##  I^2 = 72.5% [55.4%; 83.1%]; H = 1.91 [1.50; 2.43]
## 
## Test of heterogeneity:
##      Q d.f.  p-value
##  58.27   16 &lt; 0.0001
## 
## Details on meta-analytical method:
## - Inverse variance method
## - DerSimonian-Laird estimator for tau^2
## - Jackson method for confidence interval of tau^2 and tau
## - Hedges&#39; g (bias corrected standardised mean difference)</code></pre>
<p>Et pour effectuer un <em>forest plot</em>,</p>
<div class="sourceCode" id="cb596"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb596-1" title="1"><span class="kw">forest</span>(meta_analyse)</a></code></pre></div>
<p><img src="_main_files/figure-html/expl-meta-plot-1.png" width="672" /></p>
</div>
<div id="cr√©er-des-applications-avec-r" class="section level3">
<h3><span class="header-section-number">8.3.5</span> Cr√©er des applications avec R</h3>
<p>RStudio vous permet de d√©ployer vos r√©sultats sous forme d‚Äôapplications web gr√¢ce √† son module <a href="https://www.rstudio.com/products/shiny/">shiny</a>. Pour ce faire, le seul pr√©alable est de savoir programmer en R. En agen√ßant une interface avec des <em>inputs</em> (listes de s√©lection, des bo√Ætes de dialogue, des s√©lecteurs, des boutons, etc.) avec des mod√®les que vous d√©veloppez, vous pourrez cr√©er des interfaces int√©ractives.</p>
<p>Pour cr√©er une application shiny, vous devez cr√©er une partie pour l‚Äôinterface (<code>ui</code>) et une autre pour le calcul (<code>server</code>). Je n‚Äôirai pas dans les d√©tails, √©tant donn√©e qu‚Äôil s‚Äôagit d‚Äôun sujet √† part enti√®re. Pour aller plus loin, visitez le site du projet <a href="https://www.rstudio.com/products/shiny/">shiny</a>.</p>
<pre><code>library(&quot;shiny&quot;)

ui &lt;- basicPage(
  sliderInput(&quot;A&quot;, &quot;Asymptote:&quot;, min = 0, max = 100, value = 50),
  sliderInput(&quot;E&quot;, &quot;Environnement:&quot;, min = -10, max = 100, value = 20),
  sliderInput(&quot;R&quot;, &quot;Taux:&quot;, min = 0, max = 0.1, value = 0.035),
  sliderInput(&quot;prix_dose&quot;, &quot;Prix dose:&quot;, min = 0, max = 5, value = 1),
  sliderInput(&quot;prix_vente&quot;, &quot;Prix vente:&quot;, min = 0, max = 200, value = 100),
  sliderInput(&quot;dose&quot;, &quot;Dose:&quot;, min = 0, max = 300, value = c(0, 200)),
  plotOutput(&quot;distPlot&quot;)
)

server &lt;- function(input, output) {
  mitsch_f &lt;- reactive({
    input$A * (1 - exp(-input$R * (seq(input$dose[1], input$dose[2], length = 100) + input$E)))
  })
  
  mitsch_opt &lt;- reactive({
    (log((input$A * input$R * input$prix_vente) / input$prix_dose - input$E * input$R) / input$R )
  })
  
  
  output$distPlot &lt;- renderPlot({
    plot(seq(input$dose[1], input$dose[2], length = 100), mitsch_f(), type = &quot;l&quot;, ylim = c(0, 100))
    abline(v = mitsch_opt() )
    text(mitsch_opt(), 2, paste(&quot;Dose optimale:&quot;, round(mitsch_opt(), 0)))
  })
}

shinyApp(ui, server)</code></pre>
<p>Une fois l‚Äôapplication cr√©√©e, il est possible de la d√©ployer sur le site shninyapps.io. D‚Äôabord cr√©er une application shiny dans RStudio: File &gt; New File &gt; Shiny Web App. √âcrivez votre code dans le fichier app.R (dans ce cas, ce peut √™tre un copier-coller), puis cliquez sur Run App en haut √† droite de la fen√™tre d‚Äô√©dition du code. Lorsque l‚Äôapplication fonctionne, vous pourrez la publier via RStudio en cliquant sur le bouton Publish dans la fen√™tre Viewer (vous devez au pr√©alable avoir un comte sur shinyapp.io).</p>
<p>Une application sera publique et sera ouverte. <a href="https://essicolo.shinyapps.io/Mitscherlich/" class="uri">https://essicolo.shinyapps.io/Mitscherlich/</a></p>
<p>Pour d√©ployer en mode priv√©, vous devrez d√©bourser pour un forfait ou installer votre propre serveur.</p>
</div>
<div id="travailler-en-python" class="section level3">
<h3><span class="header-section-number">8.3.6</span> Travailler en Python</h3>
<p>Le chapitre <a href="chapitre-biostats-bayes.html#chapitre-biostats-bayes">7</a> a pr√©sent√© un module pour les statistiques bay√©siennes n√©cessitant un environnement Python. Il s‚Äôagissait de faire fonctionner un module en R qui, √† l‚Äôinterne, effectue ses calculs en Python. Rien ne vous emp√™che d‚Äôeffectuer des calculs directement en Python √† m√™me l‚Äôinterface de RStudio.</p>
<p>Il vous faudra d‚Äôabord installer Python et les modules de calcul que vous d√©sirez. Il existe plusieurs distributions de Python. Parmi elles, Anaconda est probablement la plus intuitive √† installer. Choisissez d‚Äôabord <a href="https://www.anaconda.com/download">Anaconda</a> (~500 Mo) ou <a href="https://conda.io/miniconda.html">Miniconda</a> pour une installation minimale (~60 Mo) - si vous installez Miniconda, vous devrez aussi installer les modules n√©cessaires pour le calcul. Installez aussi le module <a href="https://rstudio.github.io/reticulate/"><strong><code>reticulate</code></strong></a> de R, de sortte que vous puissiez communiquer avec Python. Anaconda fonctionne avec des environnements de calcul. Chaque environnement poss√®de sa propre version de Python et ses propres modules: cela vous permet d‚Äôisoler vos environnements et de contr√¥ler la version des modules. Vous pouvez connecter R √† l‚Äôenvironnement de base cr√©√© lors de l‚Äôinstallation d‚ÄôAnaconda, ou bien en cr√©er un autre. Pour en cr√©er un nouveau, incluant une liste de modules de calcul,</p>
<pre><code>library(&quot;reticulate&quot;)
conda_create(envname = &quot;monprojet&quot;, packages = c(&quot;python&quot;, &quot;numpy&quot;, &quot;scipy&quot;, &quot;matplotlib&quot;, &quot;pandas&quot;, &quot;scikit-learn&quot;))</code></pre>
<p>Connectez-vous √† votre environnement Python, par exemple j‚Äôutilise l‚Äôenvironnement par d√©faut <code>anaconda3</code>.</p>
<p><code>#{r expl-connecter-python} library("reticulate") conda_list() use_condaenv("anaconda3", required = TRUE)</code></p>
<p>Supposons que vous travailliez en R markdown. Pour lancer un bloc de code en Python, indiquez <code>python</code> au lieu de <code>r</code> dans l‚Äôent√™te. Il faudra que les modules <strong><code>numpy</code></strong>, <strong><code>pandas</code></strong> et <strong><code>matplotlib</code></strong> soient install√© dans votre environnement Python</p>
<div class="sourceCode" id="cb599"><pre class="sourceCode python"><code class="sourceCode python"><a class="sourceLine" id="cb599-1" title="1"><span class="im">import</span> numpy <span class="im">as</span> np</a>
<a class="sourceLine" id="cb599-2" title="2"><span class="im">import</span> pandas <span class="im">as</span> pd</a>
<a class="sourceLine" id="cb599-3" title="3"><span class="im">import</span> matplotlib.pyplot <span class="im">as</span> plt</a>
<a class="sourceLine" id="cb599-4" title="4">a <span class="op">=</span> np.linspace(<span class="dv">0</span>, <span class="dv">30</span>, <span class="dv">101</span>)</a>
<a class="sourceLine" id="cb599-5" title="5">b <span class="op">=</span> np.sin(a)</a>
<a class="sourceLine" id="cb599-6" title="6"><span class="co"># plt.plot(a, b)</span></a>
<a class="sourceLine" id="cb599-7" title="7"><span class="co"># plt.title(&quot;Un graphique en Matplotlib dans RStudio&quot;)</span></a></code></pre></div>
<p>Pour r√©cup√©rer une variable Python en R, pr√©c√©dez la variable de <code>py$</code>.</p>
<div class="sourceCode" id="cb600"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb600-1" title="1"><span class="kw">plot</span>(py<span class="op">$</span>a, py<span class="op">$</span>b, <span class="dt">type =</span> <span class="st">&quot;l&quot;</span>, <span class="dt">main =</span> <span class="st">&quot;Un graphique en R avec </span><span class="ch">\n</span><span class="st"> des variables d√©finies en Python&quot;</span>)</a></code></pre></div>
<p><img src="_main_files/figure-html/expl-importer-var-py-1.png" width="672" /></p>
<p>Idem, pour r√©cup√©rer un objet R en Python, .</p>
<div class="sourceCode" id="cb601"><pre class="sourceCode python"><code class="sourceCode python"><a class="sourceLine" id="cb601-1" title="1">r.iris.head(<span class="dv">6</span>)</a></code></pre></div>
<pre><code>##    Sepal.Length  Sepal.Width  Petal.Length  Petal.Width Species
## 0           5.1          3.5           1.4          0.2  setosa
## 1           4.9          3.0           1.4          0.2  setosa
## 2           4.7          3.2           1.3          0.2  setosa
## 3           4.6          3.1           1.5          0.2  setosa
## 4           5.0          3.6           1.4          0.2  setosa
## 5           5.4          3.9           1.7          0.4  setosa</code></pre>
<p>Vous aurez ainsi acc√®s aux fonctionnalit√©s de Python et R dans un m√™me flux de travail. Python n‚Äôest pas si dif√©rent de R, mais il vous faudra d√©ployer des efforts pour approvoiser le serpent. Pour d√©buter en Python, je sugg√®re <a href="https://jakevdp.github.io/PythonDataScienceHandbook/"><em>Python Data Science Handbook</em></a>, de <a href="https://twitter.com/jakevdp">Jake VanderPlas</a>. Pour en savoir plus sur le travail en R et en Python dans RSutdio, r√©f√©rez-vous √† la <a href="https://rstudio.github.io/reticulate/">documentation du module <strong><code>reticulate</code></strong></a>.</p>

</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="chapitre-biostats-bayes.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="chapitre-ordination.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
