<!DOCTYPE html>
<html >

<head>

  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>4 Visualisation | Analyse et mod√©lisation d‚Äôagro√©cosyst√®mes</title>
  <meta name="description" content="Ce cours a pour objectif de former les √©tudiants gradu√©s en g√©nie agroenvironnemental, g√©nie civil, g√©nie √©cologique, agronomie, biologie, foresterie et √©cologie en analyse et mod√©lisation de syst√®mes vivants. Les sujets trait√©s sont l‚Äôintroduction au langage de programmation R, l‚Äôanalyse statistique descriptive, la visualisation, la mod√©lisation inf√©rentielle, pr√©dictive et d√©terministe.">
  <meta name="generator" content="bookdown  and GitBook 2.6.7">

  <meta property="og:title" content="4 Visualisation | Analyse et mod√©lisation d‚Äôagro√©cosyst√®mes" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="Ce cours a pour objectif de former les √©tudiants gradu√©s en g√©nie agroenvironnemental, g√©nie civil, g√©nie √©cologique, agronomie, biologie, foresterie et √©cologie en analyse et mod√©lisation de syst√®mes vivants. Les sujets trait√©s sont l‚Äôintroduction au langage de programmation R, l‚Äôanalyse statistique descriptive, la visualisation, la mod√©lisation inf√©rentielle, pr√©dictive et d√©terministe." />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="4 Visualisation | Analyse et mod√©lisation d‚Äôagro√©cosyst√®mes" />
  
  <meta name="twitter:description" content="Ce cours a pour objectif de former les √©tudiants gradu√©s en g√©nie agroenvironnemental, g√©nie civil, g√©nie √©cologique, agronomie, biologie, foresterie et √©cologie en analyse et mod√©lisation de syst√®mes vivants. Les sujets trait√©s sont l‚Äôintroduction au langage de programmation R, l‚Äôanalyse statistique descriptive, la visualisation, la mod√©lisation inf√©rentielle, pr√©dictive et d√©terministe." />
  

<meta name="author" content="Serge-√âtienne Parent">


<meta name="date" content="2019-04-04">

  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  
  
<link rel="prev" href="chapitre-tableaux.html">
<link rel="next" href="chapitre-biostats.html">
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />







<script src="libs/htmlwidgets-1.3/htmlwidgets.js"></script>
<link href="libs/leaflet-1.3.1/leaflet.css" rel="stylesheet" />
<script src="libs/leaflet-1.3.1/leaflet.js"></script>
<link href="libs/leafletfix-1.0.0/leafletfix.css" rel="stylesheet" />
<script src="libs/Proj4Leaflet-1.0.1/proj4-compressed.js"></script>
<script src="libs/Proj4Leaflet-1.0.1/proj4leaflet.js"></script>
<link href="libs/rstudio_leaflet-1.3.1/rstudio_leaflet.css" rel="stylesheet" />
<script src="libs/leaflet-binding-2.0.2/leaflet.js"></script>
<script src="libs/leaflet-providers-1.1.17/leaflet-providers.js"></script>
<script src="libs/leaflet-providers-plugin-2.0.2/leaflet-providers-plugin.js"></script>
<script src="libs/Leaflet.Sync-0.0.5/L.Map.Sync.js"></script>


<style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(data-line-number);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Introduction</a><ul>
<li class="chapter" data-level="1.1" data-path="index.html"><a href="index.html#definitions"><i class="fa fa-check"></i><b>1.1</b> D√©finitions</a></li>
<li class="chapter" data-level="1.2" data-path="index.html"><a href="index.html#a-qui-sadresse-ce-manuel"><i class="fa fa-check"></i><b>1.2</b> √Ä qui s‚Äôadresse ce manuel?</a></li>
<li class="chapter" data-level="1.3" data-path="index.html"><a href="index.html#les-logiciels-libres"><i class="fa fa-check"></i><b>1.3</b> Les logiciels libres</a></li>
<li class="chapter" data-level="1.4" data-path="index.html"><a href="index.html#langage-de-programmation"><i class="fa fa-check"></i><b>1.4</b> Langage de programmation</a><ul>
<li class="chapter" data-level="1.4.1" data-path="index.html"><a href="index.html#r"><i class="fa fa-check"></i><b>1.4.1</b> R</a></li>
<li class="chapter" data-level="1.4.2" data-path="index.html"><a href="index.html#pourquoi-pas-python"><i class="fa fa-check"></i><b>1.4.2</b> Pourquoi pas Python?</a></li>
<li class="chapter" data-level="1.4.3" data-path="index.html"><a href="index.html#pourquoi-pas-matlab"><i class="fa fa-check"></i><b>1.4.3</b> Pourquoi pas Matlab?</a></li>
<li class="chapter" data-level="1.4.4" data-path="index.html"><a href="index.html#et-sas"><i class="fa fa-check"></i><b>1.4.4</b> Et‚Ä¶ SAS?</a></li>
<li class="chapter" data-level="1.4.5" data-path="index.html"><a href="index.html#mais-pourquoi-pas-______"><i class="fa fa-check"></i><b>1.4.5</b> Mais pourquoi pas ______ ?</a></li>
</ul></li>
<li class="chapter" data-level="1.5" data-path="index.html"><a href="index.html#contenu-du-manuel"><i class="fa fa-check"></i><b>1.5</b> Contenu du manuel</a></li>
<li class="chapter" data-level="1.6" data-path="index.html"><a href="index.html#objectifs-generaux"><i class="fa fa-check"></i><b>1.6</b> Objectifs g√©n√©raux</a></li>
<li class="chapter" data-level="1.7" data-path="index.html"><a href="index.html#lectures-complementaires"><i class="fa fa-check"></i><b>1.7</b> Lectures compl√©mentaires</a><ul>
<li class="chapter" data-level="1.7.1" data-path="index.html"><a href="index.html#ecologie-mathematique"><i class="fa fa-check"></i><b>1.7.1</b> √âcologie math√©matique</a></li>
<li class="chapter" data-level="1.7.2" data-path="index.html"><a href="index.html#programmation"><i class="fa fa-check"></i><b>1.7.2</b> Programmation</a></li>
<li class="chapter" data-level="1.7.3" data-path="index.html"><a href="index.html#divers"><i class="fa fa-check"></i><b>1.7.3</b> Divers</a></li>
</ul></li>
<li class="chapter" data-level="1.8" data-path="index.html"><a href="index.html#besoin-daide"><i class="fa fa-check"></i><b>1.8</b> Besoin d‚Äôaide?</a></li>
<li class="chapter" data-level="1.9" data-path="index.html"><a href="index.html#a-propos-de-lauteur"><i class="fa fa-check"></i><b>1.9</b> √Ä propos de l‚Äôauteur</a></li>
<li class="chapter" data-level="1.10" data-path="index.html"><a href="index.html#un-cours-complementaire-a-dautres-cours"><i class="fa fa-check"></i><b>1.10</b> Un cours compl√©mentaire √† d‚Äôautres cours</a></li>
<li class="chapter" data-level="1.11" data-path="index.html"><a href="index.html#contribuer-au-manuel"><i class="fa fa-check"></i><b>1.11</b> Contribuer au manuel</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="chapitre-intro-a-R.html"><a href="chapitre-intro-a-R.html"><i class="fa fa-check"></i><b>2</b> La science des donn√©es avec R</a><ul>
<li class="chapter" data-level="2.1" data-path="chapitre-intro-a-R.html"><a href="chapitre-intro-a-R.html#statistiques-ou-science-des-donnees"><i class="fa fa-check"></i><b>2.1</b> Statistiques ou Science des donn√©es?</a></li>
<li class="chapter" data-level="2.2" data-path="chapitre-intro-a-R.html"><a href="chapitre-intro-a-R.html#organiser-son-environnement-de-travail-en-r"><i class="fa fa-check"></i><b>2.2</b> Organiser son environnement de travail en R</a></li>
<li class="chapter" data-level="2.3" data-path="chapitre-intro-a-R.html"><a href="chapitre-intro-a-R.html#preparer-son-flux-de-travail"><i class="fa fa-check"></i><b>2.3</b> Pr√©parer son flux de travail</a><ul>
<li class="chapter" data-level="2.3.1" data-path="chapitre-intro-a-R.html"><a href="chapitre-intro-a-R.html#installation-classique"><i class="fa fa-check"></i><b>2.3.1</b> Installation classique</a></li>
<li class="chapter" data-level="2.3.2" data-path="chapitre-intro-a-R.html"><a href="chapitre-intro-a-R.html#r-markdown"><i class="fa fa-check"></i><b>2.3.2</b> R markdown</a></li>
<li class="chapter" data-level="2.3.3" data-path="chapitre-intro-a-R.html"><a href="chapitre-intro-a-R.html#installation-avec-anaconda"><i class="fa fa-check"></i><b>2.3.3</b> Installation avec Anaconda</a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="chapitre-intro-a-R.html"><a href="chapitre-intro-a-R.html#premiers-pas-avec-r"><i class="fa fa-check"></i><b>2.4</b> Premiers pas avec R</a><ul>
<li class="chapter" data-level="2.4.1" data-path="chapitre-intro-a-R.html"><a href="chapitre-intro-a-R.html#types-de-donnees"><i class="fa fa-check"></i><b>2.4.1</b> Types de donn√©es</a></li>
<li class="chapter" data-level="2.4.2" data-path="chapitre-intro-a-R.html"><a href="chapitre-intro-a-R.html#les-collections-de-donnees"><i class="fa fa-check"></i><b>2.4.2</b> Les collections de donn√©es</a></li>
<li class="chapter" data-level="2.4.3" data-path="chapitre-intro-a-R.html"><a href="chapitre-intro-a-R.html#les-fonctions"><i class="fa fa-check"></i><b>2.4.3</b> Les fonctions</a></li>
<li class="chapter" data-level="2.4.4" data-path="chapitre-intro-a-R.html"><a href="chapitre-intro-a-R.html#les-boucles"><i class="fa fa-check"></i><b>2.4.4</b> Les boucles</a></li>
<li class="chapter" data-level="2.4.5" data-path="chapitre-intro-a-R.html"><a href="chapitre-intro-a-R.html#conditions-if-else-if-else"><i class="fa fa-check"></i><b>2.4.5</b> Conditions: if, else if, else</a></li>
<li class="chapter" data-level="2.4.6" data-path="chapitre-intro-a-R.html"><a href="chapitre-intro-a-R.html#installer-et-charger-un-module"><i class="fa fa-check"></i><b>2.4.6</b> Installer et charger un module</a></li>
</ul></li>
<li class="chapter" data-level="2.5" data-path="chapitre-intro-a-R.html"><a href="chapitre-intro-a-R.html#enfin"><i class="fa fa-check"></i><b>2.5</b> Enfin‚Ä¶</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="chapitre-tableaux.html"><a href="chapitre-tableaux.html"><i class="fa fa-check"></i><b>3</b> Organisation des donn√©es et op√©rations sur des tableaux</a><ul>
<li class="chapter" data-level="3.1" data-path="chapitre-tableaux.html"><a href="chapitre-tableaux.html#les-collections-de-donnees-1"><i class="fa fa-check"></i><b>3.1</b> Les collections de donn√©es</a></li>
<li class="chapter" data-level="3.2" data-path="chapitre-tableaux.html"><a href="chapitre-tableaux.html#organiser-un-tableau-de-donnees"><i class="fa fa-check"></i><b>3.2</b> Organiser un tableau de donn√©es</a></li>
<li class="chapter" data-level="3.3" data-path="chapitre-tableaux.html"><a href="chapitre-tableaux.html#formats-de-tableau"><i class="fa fa-check"></i><b>3.3</b> Formats de tableau</a><ul>
<li class="chapter" data-level="3.3.1" data-path="chapitre-tableaux.html"><a href="chapitre-tableaux.html#xls-ou-xlsx"><i class="fa fa-check"></i><b>3.3.1</b> <em>xls</em> ou <em>xlsx</em></a></li>
<li class="chapter" data-level="3.3.2" data-path="chapitre-tableaux.html"><a href="chapitre-tableaux.html#csv"><i class="fa fa-check"></i><b>3.3.2</b> <em>csv</em></a></li>
<li class="chapter" data-level="3.3.3" data-path="chapitre-tableaux.html"><a href="chapitre-tableaux.html#json"><i class="fa fa-check"></i><b>3.3.3</b> <em>json</em></a></li>
<li class="chapter" data-level="3.3.4" data-path="chapitre-tableaux.html"><a href="chapitre-tableaux.html#sqlite"><i class="fa fa-check"></i><b>3.3.4</b> SQLite</a></li>
<li class="chapter" data-level="3.3.5" data-path="chapitre-tableaux.html"><a href="chapitre-tableaux.html#suggestion"><i class="fa fa-check"></i><b>3.3.5</b> Suggestion</a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="chapitre-tableaux.html"><a href="chapitre-tableaux.html#entreposer-ses-donnees"><i class="fa fa-check"></i><b>3.4</b> Entreposer ses donn√©es</a></li>
<li class="chapter" data-level="3.5" data-path="chapitre-tableaux.html"><a href="chapitre-tableaux.html#manipuler-des-donnees-en-mode-tidyverse"><i class="fa fa-check"></i><b>3.5</b> Manipuler des donn√©es en mode tidyverse</a><ul>
<li class="chapter" data-level="3.5.1" data-path="chapitre-tableaux.html"><a href="chapitre-tableaux.html#importer-vos-donnees-dans-voter-session-de-travail"><i class="fa fa-check"></i><b>3.5.1</b> Importer vos donn√©es dans voter session de travail</a></li>
<li class="chapter" data-level="3.5.2" data-path="chapitre-tableaux.html"><a href="chapitre-tableaux.html#comment-selectionner-et-filtrer-des-donnees"><i class="fa fa-check"></i><b>3.5.2</b> Comment s√©lectionner et filtrer des donn√©es?</a></li>
<li class="chapter" data-level="3.5.3" data-path="chapitre-tableaux.html"><a href="chapitre-tableaux.html#le-format-long-et-le-format-large"><i class="fa fa-check"></i><b>3.5.3</b> Le format long et le format large</a></li>
<li class="chapter" data-level="3.5.4" data-path="chapitre-tableaux.html"><a href="chapitre-tableaux.html#combiner-des-tableaux"><i class="fa fa-check"></i><b>3.5.4</b> Combiner des tableaux</a></li>
<li class="chapter" data-level="3.5.5" data-path="chapitre-tableaux.html"><a href="chapitre-tableaux.html#operations-sur-les-tableaux"><i class="fa fa-check"></i><b>3.5.5</b> Op√©rations sur les tableaux</a></li>
<li class="chapter" data-level="3.5.6" data-path="chapitre-tableaux.html"><a href="chapitre-tableaux.html#exemple-difficile"><i class="fa fa-check"></i><b>3.5.6</b> Exemple (difficile)</a></li>
<li class="chapter" data-level="3.5.7" data-path="chapitre-tableaux.html"><a href="chapitre-tableaux.html#exporter-un-tableau"><i class="fa fa-check"></i><b>3.5.7</b> Exporter un tableau</a></li>
<li class="chapter" data-level="3.5.8" data-path="chapitre-tableaux.html"><a href="chapitre-tableaux.html#aller-plus-loin-dans-le-tidyverse"><i class="fa fa-check"></i><b>3.5.8</b> Aller plus loin dans le tidyverse</a></li>
</ul></li>
<li class="chapter" data-level="3.6" data-path="chapitre-tableaux.html"><a href="chapitre-tableaux.html#references"><i class="fa fa-check"></i><b>3.6</b> R√©f√©rences</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="chapitre-visualisation.html"><a href="chapitre-visualisation.html"><i class="fa fa-check"></i><b>4</b> Visualisation</a><ul>
<li class="chapter" data-level="4.1" data-path="chapitre-visualisation.html"><a href="chapitre-visualisation.html#pourquoi-explorer-graphiquement"><i class="fa fa-check"></i><b>4.1</b> Pourquoi explorer graphiquement?</a></li>
<li class="chapter" data-level="4.2" data-path="chapitre-visualisation.html"><a href="chapitre-visualisation.html#publier-un-graphique"><i class="fa fa-check"></i><b>4.2</b> Publier un graphique</a><ul>
<li class="chapter" data-level="4.2.1" data-path="chapitre-visualisation.html"><a href="chapitre-visualisation.html#cinq-qualites-dun-bon-graphique"><i class="fa fa-check"></i><b>4.2.1</b> Cinq qualit√©s d‚Äôun bon graphique</a></li>
</ul></li>
<li class="chapter" data-level="4.3" data-path="chapitre-visualisation.html"><a href="chapitre-visualisation.html#choisir-le-type-de-graphique-le-plus-approprie"><i class="fa fa-check"></i><b>4.3</b> Choisir le type de graphique le plus appropri√©</a></li>
<li class="chapter" data-level="4.4" data-path="chapitre-visualisation.html"><a href="chapitre-visualisation.html#choisir-son-outils-de-visualisation"><i class="fa fa-check"></i><b>4.4</b> Choisir son outils de visualisation</a><ul>
<li class="chapter" data-level="4.4.1" data-path="chapitre-visualisation.html"><a href="chapitre-visualisation.html#approche-imperative"><i class="fa fa-check"></i><b>4.4.1</b> Approche imp√©rative</a></li>
<li class="chapter" data-level="4.4.2" data-path="chapitre-visualisation.html"><a href="chapitre-visualisation.html#approche-declarative"><i class="fa fa-check"></i><b>4.4.2</b> Approche d√©clarative</a></li>
</ul></li>
<li class="chapter" data-level="4.5" data-path="chapitre-visualisation.html"><a href="chapitre-visualisation.html#visualisation-en-r"><i class="fa fa-check"></i><b>4.5</b> Visualisation en R</a></li>
<li class="chapter" data-level="4.6" data-path="chapitre-visualisation.html"><a href="chapitre-visualisation.html#module-de-base-pour-les-graphiques"><i class="fa fa-check"></i><b>4.6</b> Module de base pour les graphiques</a></li>
<li class="chapter" data-level="4.7" data-path="chapitre-visualisation.html"><a href="chapitre-visualisation.html#la-grammaire-graphique-ggplot2"><i class="fa fa-check"></i><b>4.7</b> La grammaire graphique ggplot2</a></li>
<li class="chapter" data-level="4.8" data-path="chapitre-visualisation.html"><a href="chapitre-visualisation.html#mon-premier-ggplot"><i class="fa fa-check"></i><b>4.8</b> Mon premier ggplot</a><ul>
<li class="chapter" data-level="4.8.1" data-path="chapitre-visualisation.html"><a href="chapitre-visualisation.html#plusieurs-sources-de-donnees"><i class="fa fa-check"></i><b>4.8.1</b> Plusieurs sources de donn√©es</a></li>
<li class="chapter" data-level="4.8.2" data-path="chapitre-visualisation.html"><a href="chapitre-visualisation.html#exporter-avec-style"><i class="fa fa-check"></i><b>4.8.2</b> Exporter avec style</a></li>
<li class="chapter" data-level="4.8.3" data-path="chapitre-visualisation.html"><a href="chapitre-visualisation.html#nuages-de-points"><i class="fa fa-check"></i><b>4.8.3</b> Nuages de points</a></li>
<li class="chapter" data-level="4.8.4" data-path="chapitre-visualisation.html"><a href="chapitre-visualisation.html#diagrammes-en-lignes"><i class="fa fa-check"></i><b>4.8.4</b> Diagrammes en lignes</a></li>
<li class="chapter" data-level="4.8.5" data-path="chapitre-visualisation.html"><a href="chapitre-visualisation.html#les-histogrammes"><i class="fa fa-check"></i><b>4.8.5</b> Les histogrammes</a></li>
<li class="chapter" data-level="4.8.6" data-path="chapitre-visualisation.html"><a href="chapitre-visualisation.html#boxplots"><i class="fa fa-check"></i><b>4.8.6</b> Boxplots</a></li>
<li class="chapter" data-level="4.8.7" data-path="chapitre-visualisation.html"><a href="chapitre-visualisation.html#les-diagrammes-en-barre"><i class="fa fa-check"></i><b>4.8.7</b> Les diagrammes en barre</a></li>
<li class="chapter" data-level="4.8.8" data-path="chapitre-visualisation.html"><a href="chapitre-visualisation.html#exporter-un-graphique"><i class="fa fa-check"></i><b>4.8.8</b> Exporter un graphique</a></li>
</ul></li>
<li class="chapter" data-level="4.9" data-path="chapitre-visualisation.html"><a href="chapitre-visualisation.html#les-graphiques-comme-outil-dexploration-des-donnees"><i class="fa fa-check"></i><b>4.9</b> Les graphiques comme outil d‚Äôexploration des donn√©es</a><ul>
<li class="chapter" data-level="4.9.1" data-path="chapitre-visualisation.html"><a href="chapitre-visualisation.html#des-graphiques-interactifs"><i class="fa fa-check"></i><b>4.9.1</b> Des graphiques interactifs!</a></li>
<li class="chapter" data-level="4.9.2" data-path="chapitre-visualisation.html"><a href="chapitre-visualisation.html#des-extensions-de-ggplot2"><i class="fa fa-check"></i><b>4.9.2</b> Des extensions de ggplot2</a></li>
<li class="chapter" data-level="4.9.3" data-path="chapitre-visualisation.html"><a href="chapitre-visualisation.html#aller-plus-loin-avec-ggplot2"><i class="fa fa-check"></i><b>4.9.3</b> Aller plus loin avec ggplot2</a></li>
</ul></li>
<li class="chapter" data-level="4.10" data-path="chapitre-visualisation.html"><a href="chapitre-visualisation.html#choisir-les-bonnes-couleurs"><i class="fa fa-check"></i><b>4.10</b> Choisir les bonnes couleurs</a></li>
<li class="chapter" data-level="4.11" data-path="chapitre-visualisation.html"><a href="chapitre-visualisation.html#regles-particulieres"><i class="fa fa-check"></i><b>4.11</b> R√®gles particuli√®res</a><ul>
<li class="chapter" data-level="4.11.1" data-path="chapitre-visualisation.html"><a href="chapitre-visualisation.html#ne-tronquez-pas-inutilement-laxe-des-y"><i class="fa fa-check"></i><b>4.11.1</b> Ne tronquez pas inutilement l‚Äôaxe des <span class="math inline">\(y\)</span></a></li>
<li class="chapter" data-level="4.11.2" data-path="chapitre-visualisation.html"><a href="chapitre-visualisation.html#utilisez-un-encrage-proportionnel"><i class="fa fa-check"></i><b>4.11.2</b> Utilisez un encrage proportionnel</a></li>
<li class="chapter" data-level="4.11.3" data-path="chapitre-visualisation.html"><a href="chapitre-visualisation.html#publiez-vos-donnees"><i class="fa fa-check"></i><b>4.11.3</b> Publiez vos donn√©es</a></li>
<li class="chapter" data-level="4.11.4" data-path="chapitre-visualisation.html"><a href="chapitre-visualisation.html#visitez-www.junkcharts.typepad.com-de-temps-a-autre"><i class="fa fa-check"></i><b>4.11.4</b> Visitez www.junkcharts.typepad.com de temps √† autre</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="chapitre-biostats.html"><a href="chapitre-biostats.html"><i class="fa fa-check"></i><b>5</b> Biostatistiques</a><ul>
<li class="chapter" data-level="5.1" data-path="chapitre-biostats.html"><a href="chapitre-biostats.html#populations-et-echantillons"><i class="fa fa-check"></i><b>5.1</b> Populations et √©chantillons</a></li>
<li class="chapter" data-level="5.2" data-path="chapitre-biostats.html"><a href="chapitre-biostats.html#les-variables"><i class="fa fa-check"></i><b>5.2</b> Les variables</a><ul>
<li class="chapter" data-level="5.2.1" data-path="chapitre-biostats.html"><a href="chapitre-biostats.html#variables-quantitatives"><i class="fa fa-check"></i><b>5.2.1</b> Variables quantitatives</a></li>
<li class="chapter" data-level="5.2.2" data-path="chapitre-biostats.html"><a href="chapitre-biostats.html#variables-qualitatives"><i class="fa fa-check"></i><b>5.2.2</b> Variables qualitatives</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="chapitre-biostats.html"><a href="chapitre-biostats.html#les-probabilites"><i class="fa fa-check"></i><b>5.3</b> Les probabilit√©s</a></li>
<li class="chapter" data-level="5.4" data-path="chapitre-biostats.html"><a href="chapitre-biostats.html#les-distributions"><i class="fa fa-check"></i><b>5.4</b> Les distributions</a><ul>
<li class="chapter" data-level="5.4.1" data-path="chapitre-biostats.html"><a href="chapitre-biostats.html#distribution-binomiale"><i class="fa fa-check"></i><b>5.4.1</b> Distribution binomiale</a></li>
<li class="chapter" data-level="5.4.2" data-path="chapitre-biostats.html"><a href="chapitre-biostats.html#distribution-de-poisson"><i class="fa fa-check"></i><b>5.4.2</b> Distribution de Poisson</a></li>
<li class="chapter" data-level="5.4.3" data-path="chapitre-biostats.html"><a href="chapitre-biostats.html#distribution-uniforme"><i class="fa fa-check"></i><b>5.4.3</b> Distribution uniforme</a></li>
<li class="chapter" data-level="5.4.4" data-path="chapitre-biostats.html"><a href="chapitre-biostats.html#distribution-normale"><i class="fa fa-check"></i><b>5.4.4</b> Distribution normale</a></li>
</ul></li>
<li class="chapter" data-level="5.5" data-path="chapitre-biostats.html"><a href="chapitre-biostats.html#statistiques-descriptives"><i class="fa fa-check"></i><b>5.5</b> Statistiques descriptives</a></li>
<li class="chapter" data-level="5.6" data-path="chapitre-biostats.html"><a href="chapitre-biostats.html#tests-dhypotheses-a-un-et-deux-echantillons"><i class="fa fa-check"></i><b>5.6</b> Tests d‚Äôhypoth√®ses √† un et deux √©chantillons</a><ul>
<li class="chapter" data-level="5.6.1" data-path="chapitre-biostats.html"><a href="chapitre-biostats.html#test-de-t-a-un-seul-echantillon"><i class="fa fa-check"></i><b>5.6.1</b> Test de t √† un seul √©chantillon</a></li>
<li class="chapter" data-level="5.6.2" data-path="chapitre-biostats.html"><a href="chapitre-biostats.html#attention-mauvaises-interpretations-des-p-values"><i class="fa fa-check"></i><b>5.6.2</b> Attention: mauvaises interpr√©tations des <em>p-values</em></a></li>
<li class="chapter" data-level="5.6.3" data-path="chapitre-biostats.html"><a href="chapitre-biostats.html#test-de-wilcoxon-a-un-seul-echantillon"><i class="fa fa-check"></i><b>5.6.3</b> Test de Wilcoxon √† un seul √©chantillon</a></li>
<li class="chapter" data-level="5.6.4" data-path="chapitre-biostats.html"><a href="chapitre-biostats.html#tests-de-t-a-deux-echantillons"><i class="fa fa-check"></i><b>5.6.4</b> Tests de t √† deux √©chantillons</a></li>
<li class="chapter" data-level="5.6.5" data-path="chapitre-biostats.html"><a href="chapitre-biostats.html#comparaison-des-variances"><i class="fa fa-check"></i><b>5.6.5</b> Comparaison des variances</a></li>
<li class="chapter" data-level="5.6.6" data-path="chapitre-biostats.html"><a href="chapitre-biostats.html#tests-de-wilcoxon-a-deux-echantillons"><i class="fa fa-check"></i><b>5.6.6</b> Tests de Wilcoxon √† deux √©chantillons</a></li>
<li class="chapter" data-level="5.6.7" data-path="chapitre-biostats.html"><a href="chapitre-biostats.html#les-tests-paires"><i class="fa fa-check"></i><b>5.6.7</b> Les tests pair√©s</a></li>
</ul></li>
<li class="chapter" data-level="5.7" data-path="chapitre-biostats.html"><a href="chapitre-biostats.html#lanalyse-de-variance"><i class="fa fa-check"></i><b>5.7</b> L‚Äôanalyse de variance</a></li>
<li class="chapter" data-level="5.8" data-path="chapitre-biostats.html"><a href="chapitre-biostats.html#les-modeles-statistiques"><i class="fa fa-check"></i><b>5.8</b> Les mod√®les statistiques</a><ul>
<li class="chapter" data-level="5.8.1" data-path="chapitre-biostats.html"><a href="chapitre-biostats.html#modeles-a-effets-fixes"><i class="fa fa-check"></i><b>5.8.1</b> Mod√®les √† effets fixes</a></li>
<li class="chapter" data-level="5.8.2" data-path="chapitre-biostats.html"><a href="chapitre-biostats.html#modeles-a-effets-mixtes"><i class="fa fa-check"></i><b>5.8.2</b> Mod√®les √† effets mixtes</a></li>
<li class="chapter" data-level="5.8.3" data-path="chapitre-biostats.html"><a href="chapitre-biostats.html#aller-plus-loin"><i class="fa fa-check"></i><b>5.8.3</b> Aller plus loin</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="chapitre-biostats-bayes.html"><a href="chapitre-biostats-bayes.html"><i class="fa fa-check"></i><b>6</b> Introduction √† l‚Äôanalyse bay√©sienne en √©cologie</a><ul>
<li class="chapter" data-level="6.1" data-path="chapitre-biostats-bayes.html"><a href="chapitre-biostats-bayes.html#quest-ce-que-cest"><i class="fa fa-check"></i><b>6.1</b> Qu‚Äôest-ce que c‚Äôest?</a></li>
<li class="chapter" data-level="6.2" data-path="chapitre-biostats-bayes.html"><a href="chapitre-biostats-bayes.html#pourquoi-lutiliser"><i class="fa fa-check"></i><b>6.2</b> Pourquoi l‚Äôutiliser?</a></li>
<li class="chapter" data-level="6.3" data-path="chapitre-biostats-bayes.html"><a href="chapitre-biostats-bayes.html#comment-lutiliser"><i class="fa fa-check"></i><b>6.3</b> Comment l‚Äôutiliser?</a></li>
<li class="chapter" data-level="6.4" data-path="chapitre-biostats-bayes.html"><a href="chapitre-biostats-bayes.html#faucons-pelerins"><i class="fa fa-check"></i><b>6.4</b> Faucons p√©lerins</a></li>
<li class="chapter" data-level="6.5" data-path="chapitre-biostats-bayes.html"><a href="chapitre-biostats-bayes.html#statistiques-dune-population"><i class="fa fa-check"></i><b>6.5</b> Statistiques d‚Äôune population</a><ul>
<li class="chapter" data-level="6.5.1" data-path="chapitre-biostats-bayes.html"><a href="chapitre-biostats-bayes.html#greta"><i class="fa fa-check"></i><b>6.5.1</b> greta</a></li>
</ul></li>
<li class="chapter" data-level="6.6" data-path="chapitre-biostats-bayes.html"><a href="chapitre-biostats-bayes.html#test-de-t-difference-entre-des-groupes"><i class="fa fa-check"></i><b>6.6</b> Test de t: Diff√©rence entre des groupes</a></li>
<li class="chapter" data-level="6.7" data-path="chapitre-biostats-bayes.html"><a href="chapitre-biostats-bayes.html#pour-aller-plus-loin"><i class="fa fa-check"></i><b>6.7</b> Pour aller plus loin</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="chapitre-explorer.html"><a href="chapitre-explorer.html"><i class="fa fa-check"></i><b>7</b> Explorer R</a><ul>
<li class="chapter" data-level="7.1" data-path="chapitre-explorer.html"><a href="chapitre-explorer.html#r-sur-le-web"><i class="fa fa-check"></i><b>7.1</b> R sur le web</a><ul>
<li class="chapter" data-level="7.1.1" data-path="chapitre-explorer.html"><a href="chapitre-explorer.html#github"><i class="fa fa-check"></i><b>7.1.1</b> GitHub</a></li>
<li class="chapter" data-level="7.1.2" data-path="chapitre-explorer.html"><a href="chapitre-explorer.html#twitter"><i class="fa fa-check"></i><b>7.1.2</b> Twitter</a></li>
<li class="chapter" data-level="7.1.3" data-path="chapitre-explorer.html"><a href="chapitre-explorer.html#nouvelles"><i class="fa fa-check"></i><b>7.1.3</b> Nouvelles</a></li>
<li class="chapter" data-level="7.1.4" data-path="chapitre-explorer.html"><a href="chapitre-explorer.html#des-questions"><i class="fa fa-check"></i><b>7.1.4</b> Des questions?</a></li>
<li class="chapter" data-level="7.1.5" data-path="chapitre-explorer.html"><a href="chapitre-explorer.html#participer"><i class="fa fa-check"></i><b>7.1.5</b> Participer</a></li>
<li class="chapter" data-level="7.1.6" data-path="chapitre-explorer.html"><a href="chapitre-explorer.html#mise-en-garde"><i class="fa fa-check"></i><b>7.1.6</b> Mise en garde</a></li>
<li class="chapter" data-level="7.1.7" data-path="chapitre-explorer.html"><a href="chapitre-explorer.html#prendre-tout-ca-en-note"><i class="fa fa-check"></i><b>7.1.7</b> Prendre tout √ßa en note</a></li>
</ul></li>
<li class="chapter" data-level="7.2" data-path="chapitre-explorer.html"><a href="chapitre-explorer.html#r-en-chaire-et-en-os"><i class="fa fa-check"></i><b>7.2</b> R en chaire et en os</a></li>
<li class="chapter" data-level="7.3" data-path="chapitre-explorer.html"><a href="chapitre-explorer.html#quelques-outils-en-ecologie-mathematique-avec-r"><i class="fa fa-check"></i><b>7.3</b> Quelques outils en √©cologie math√©matique avec R</a><ul>
<li class="chapter" data-level="7.3.1" data-path="chapitre-explorer.html"><a href="chapitre-explorer.html#pretraitement-des-donnees"><i class="fa fa-check"></i><b>7.3.1</b> Pr√©traitement des donn√©es</a></li>
<li class="chapter" data-level="7.3.2" data-path="chapitre-explorer.html"><a href="chapitre-explorer.html#acquerir-des-donnees-meteo"><i class="fa fa-check"></i><b>7.3.2</b> Acqu√©rir des donn√©es m√©t√©o</a></li>
<li class="chapter" data-level="7.3.3" data-path="chapitre-explorer.html"><a href="chapitre-explorer.html#pedometrie-avec-r"><i class="fa fa-check"></i><b>7.3.3</b> P√©dom√©trie avec R</a></li>
<li class="chapter" data-level="7.3.4" data-path="chapitre-explorer.html"><a href="chapitre-explorer.html#meta-analyses-en-r"><i class="fa fa-check"></i><b>7.3.4</b> M√©ta-analyses en R</a></li>
<li class="chapter" data-level="7.3.5" data-path="chapitre-explorer.html"><a href="chapitre-explorer.html#creer-des-applications-avec-r"><i class="fa fa-check"></i><b>7.3.5</b> Cr√©er des applications avec R</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="8" data-path="chapitre-ordination.html"><a href="chapitre-ordination.html"><i class="fa fa-check"></i><b>8</b> Association, partitionnement et ordination</a><ul>
<li class="chapter" data-level="8.1" data-path="chapitre-ordination.html"><a href="chapitre-ordination.html#espaces-danalyse"><i class="fa fa-check"></i><b>8.1</b> Espaces d‚Äôanalyse</a><ul>
<li class="chapter" data-level="8.1.1" data-path="chapitre-ordination.html"><a href="chapitre-ordination.html#abondance-et-occurence"><i class="fa fa-check"></i><b>8.1.1</b> Abondance et occurence</a></li>
<li class="chapter" data-level="8.1.2" data-path="chapitre-ordination.html"><a href="chapitre-ordination.html#environnement"><i class="fa fa-check"></i><b>8.1.2</b> Environnement</a></li>
</ul></li>
<li class="chapter" data-level="8.2" data-path="chapitre-ordination.html"><a href="chapitre-ordination.html#analyse-dassociation"><i class="fa fa-check"></i><b>8.2</b> Analyse d‚Äôassociation</a><ul>
<li class="chapter" data-level="8.2.1" data-path="chapitre-ordination.html"><a href="chapitre-ordination.html#association-entre-objets-mode-q"><i class="fa fa-check"></i><b>8.2.1</b> Association entre objets (mode Q)</a></li>
<li class="chapter" data-level="8.2.2" data-path="chapitre-ordination.html"><a href="chapitre-ordination.html#associations-entre-variables-mode-r"><i class="fa fa-check"></i><b>8.2.2</b> Associations entre variables (mode R)</a></li>
<li class="chapter" data-level="8.2.3" data-path="chapitre-ordination.html"><a href="chapitre-ordination.html#conclusion-sur-les-associations"><i class="fa fa-check"></i><b>8.2.3</b> Conclusion sur les associations</a></li>
</ul></li>
<li class="chapter" data-level="8.3" data-path="chapitre-ordination.html"><a href="chapitre-ordination.html#partitionnement"><i class="fa fa-check"></i><b>8.3</b> Partitionnement</a><ul>
<li class="chapter" data-level="8.3.1" data-path="chapitre-ordination.html"><a href="chapitre-ordination.html#evaluation-dun-partitionnement"><i class="fa fa-check"></i><b>8.3.1</b> √âvaluation d‚Äôun partitionnement</a></li>
<li class="chapter" data-level="8.3.2" data-path="chapitre-ordination.html"><a href="chapitre-ordination.html#partitionnement-non-hierarchique"><i class="fa fa-check"></i><b>8.3.2</b> Partitionnement non hi√©rarchique</a></li>
<li class="chapter" data-level="8.3.3" data-path="chapitre-ordination.html"><a href="chapitre-ordination.html#partitionnement-hierarchique"><i class="fa fa-check"></i><b>8.3.3</b> Partitionnement hi√©rarchique</a></li>
<li class="chapter" data-level="8.3.4" data-path="chapitre-ordination.html"><a href="chapitre-ordination.html#partitionnement-hierarchique-basee-sur-la-densite-des-points"><i class="fa fa-check"></i><b>8.3.4</b> Partitionnement hi√©rarchique bas√©e sur la densit√© des points</a></li>
<li class="chapter" data-level="8.3.5" data-path="chapitre-ordination.html"><a href="chapitre-ordination.html#conclusion-sur-le-partitionnement"><i class="fa fa-check"></i><b>8.3.5</b> Conclusion sur le partitionnement</a></li>
</ul></li>
<li class="chapter" data-level="8.4" data-path="chapitre-ordination.html"><a href="chapitre-ordination.html#ordination"><i class="fa fa-check"></i><b>8.4</b> Ordination</a><ul>
<li class="chapter" data-level="8.4.1" data-path="chapitre-ordination.html"><a href="chapitre-ordination.html#ordination-non-contraignante"><i class="fa fa-check"></i><b>8.4.1</b> Ordination non contraignante</a></li>
<li class="chapter" data-level="8.4.2" data-path="chapitre-ordination.html"><a href="chapitre-ordination.html#ordination-contraignante"><i class="fa fa-check"></i><b>8.4.2</b> Ordination contraignante</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="9" data-path="chapitre-outliers.html"><a href="chapitre-outliers.html"><i class="fa fa-check"></i><b>9</b> D√©tection de valeurs aberrantes et imputation de donn√©es manquantes</a><ul>
<li class="chapter" data-level="9.1" data-path="chapitre-outliers.html"><a href="chapitre-outliers.html#donnees-manquantes-definition-origine-typologie-et-traitement"><i class="fa fa-check"></i><b>9.1</b> Donn√©es manquantes, d√©finition, origine, typologie et traitement</a><ul>
<li class="chapter" data-level="9.1.1" data-path="chapitre-outliers.html"><a href="chapitre-outliers.html#definition"><i class="fa fa-check"></i><b>9.1.1</b> D√©finition</a></li>
<li class="chapter" data-level="9.1.2" data-path="chapitre-outliers.html"><a href="chapitre-outliers.html#origines-des-donnees-manquantes"><i class="fa fa-check"></i><b>9.1.2</b> Origines des donn√©es manquantes</a></li>
<li class="chapter" data-level="9.1.3" data-path="chapitre-outliers.html"><a href="chapitre-outliers.html#profils-des-donnees-manquantes"><i class="fa fa-check"></i><b>9.1.3</b> Profils des donn√©es manquantes</a></li>
<li class="chapter" data-level="9.1.4" data-path="chapitre-outliers.html"><a href="chapitre-outliers.html#traitement-des-donnees-manquantes"><i class="fa fa-check"></i><b>9.1.4</b> Traitement des donn√©es manquantes</a></li>
</ul></li>
<li class="chapter" data-level="9.2" data-path="chapitre-outliers.html"><a href="chapitre-outliers.html#valeurs-et-echantillons-aberrants-definition-origines-methodes-de-detection-et-traitement"><i class="fa fa-check"></i><b>9.2</b> Valeurs et √©chantillons aberrants: d√©finition, origines, m√©thodes de d√©tection et traitement</a><ul>
<li class="chapter" data-level="9.2.1" data-path="chapitre-outliers.html"><a href="chapitre-outliers.html#definitions-1"><i class="fa fa-check"></i><b>9.2.1</b> D√©finitions</a></li>
<li class="chapter" data-level="9.2.2" data-path="chapitre-outliers.html"><a href="chapitre-outliers.html#origines"><i class="fa fa-check"></i><b>9.2.2</b> Origines</a></li>
<li class="chapter" data-level="9.2.3" data-path="chapitre-outliers.html"><a href="chapitre-outliers.html#detection-et-traitement-des-echantillons-aberrants-multivaries"><i class="fa fa-check"></i><b>9.2.3</b> D√©tection et traitement des √©chantillons aberrants multivari√©s</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="10" data-path="chapitre-temps.html"><a href="chapitre-temps.html"><i class="fa fa-check"></i><b>10</b> Les s√©ries temporelles</a><ul>
<li class="chapter" data-level="10.1" data-path="chapitre-temps.html"><a href="chapitre-temps.html#operations-sur-les-donnees-temporelles"><i class="fa fa-check"></i><b>10.1</b> Op√©rations sur les donn√©es temporelles</a></li>
<li class="chapter" data-level="10.2" data-path="chapitre-temps.html"><a href="chapitre-temps.html#analyse-de-series-temporelles"><i class="fa fa-check"></i><b>10.2</b> Analyse de s√©ries temporelles</a><ul>
<li class="chapter" data-level="10.2.1" data-path="chapitre-temps.html"><a href="chapitre-temps.html#creer-et-visualiser-des-series-temporelles"><i class="fa fa-check"></i><b>10.2.1</b> Cr√©er et visualiser des s√©ries temporelles</a></li>
<li class="chapter" data-level="10.2.2" data-path="chapitre-temps.html"><a href="chapitre-temps.html#structures-dans-les-series-temporelles"><i class="fa fa-check"></i><b>10.2.2</b> Structures dans les s√©ries temporelles</a></li>
<li class="chapter" data-level="10.2.3" data-path="chapitre-temps.html"><a href="chapitre-temps.html#lautocorrelation"><i class="fa fa-check"></i><b>10.2.3</b> L‚Äôautocorr√©lation</a></li>
<li class="chapter" data-level="10.2.4" data-path="chapitre-temps.html"><a href="chapitre-temps.html#signification-statistique-dune-serie-temporelle"><i class="fa fa-check"></i><b>10.2.4</b> Signification statistique d‚Äôune s√©rie temporelle</a></li>
</ul></li>
<li class="chapter" data-level="10.3" data-path="chapitre-temps.html"><a href="chapitre-temps.html#modelisation-de-series-temporelles"><i class="fa fa-check"></i><b>10.3</b> Mod√©lisation de s√©ries temporelles</a><ul>
<li class="chapter" data-level="10.3.1" data-path="chapitre-temps.html"><a href="chapitre-temps.html#methode-naive"><i class="fa fa-check"></i><b>10.3.1</b> M√©thode na√Øve</a></li>
<li class="chapter" data-level="10.3.2" data-path="chapitre-temps.html"><a href="chapitre-temps.html#methode-ses"><i class="fa fa-check"></i><b>10.3.2</b> M√©thode SES</a></li>
<li class="chapter" data-level="10.3.3" data-path="chapitre-temps.html"><a href="chapitre-temps.html#la-methode-arima"><i class="fa fa-check"></i><b>10.3.3</b> La m√©thode ARIMA</a></li>
<li class="chapter" data-level="10.3.4" data-path="chapitre-temps.html"><a href="chapitre-temps.html#les-modeles-dynamiques"><i class="fa fa-check"></i><b>10.3.4</b> Les mod√®les dynamiques</a></li>
<li class="chapter" data-level="10.3.5" data-path="chapitre-temps.html"><a href="chapitre-temps.html#les-modeles-tbats"><i class="fa fa-check"></i><b>10.3.5</b> Les mod√®les TBATS</a></li>
</ul></li>
<li class="chapter" data-level="10.4" data-path="chapitre-temps.html"><a href="chapitre-temps.html#pour-terminer"><i class="fa fa-check"></i><b>10.4</b> Pour terminer‚Ä¶</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="chapitre-git.html"><a href="chapitre-git.html"><i class="fa fa-check"></i><b>11</b> Science ouverte et reproductibilit√©</a><ul>
<li class="chapter" data-level="11.1" data-path="chapitre-git.html"><a href="chapitre-git.html#un-code-reproductible"><i class="fa fa-check"></i><b>11.1</b> Un code reproductible</a><ul>
<li class="chapter" data-level="11.1.1" data-path="chapitre-git.html"><a href="chapitre-git.html#structure-dun-projet"><i class="fa fa-check"></i><b>11.1.1</b> Structure d‚Äôun projet</a></li>
<li class="chapter" data-level="11.1.2" data-path="chapitre-git.html"><a href="chapitre-git.html#le-format-r-markdown"><i class="fa fa-check"></i><b>11.1.2</b> Le format <span>R markdown</span></a></li>
</ul></li>
<li class="chapter" data-level="11.2" data-path="chapitre-git.html"><a href="chapitre-git.html#introduction-a-github"><i class="fa fa-check"></i><b>11.2</b> Introduction √† GitHub</a></li>
<li class="chapter" data-level="11.3" data-path="chapitre-git.html"><a href="chapitre-git.html#introduction-a-pakrat"><i class="fa fa-check"></i><b>11.3</b> Introduction √† Pakrat üì¶üêÄ</a></li>
<li class="chapter" data-level="11.4" data-path="chapitre-git.html"><a href="chapitre-git.html#pour-terminer-le-reprex"><i class="fa fa-check"></i><b>11.4</b> Pour terminer, le <strong>reprex</strong></a></li>
</ul></li>
<li class="chapter" data-level="12" data-path="chapitre-ml.html"><a href="chapitre-ml.html"><i class="fa fa-check"></i><b>12</b> Introduction √† l‚Äôautoapprentissage</a><ul>
<li class="chapter" data-level="12.1" data-path="chapitre-ml.html"><a href="chapitre-ml.html#lexique"><i class="fa fa-check"></i><b>12.1</b> Lexique</a></li>
<li class="chapter" data-level="12.2" data-path="chapitre-ml.html"><a href="chapitre-ml.html#demarche"><i class="fa fa-check"></i><b>12.2</b> D√©marche</a><ul>
<li class="chapter" data-level="12.2.1" data-path="chapitre-ml.html"><a href="chapitre-ml.html#pretraitement"><i class="fa fa-check"></i><b>12.2.1</b> Pr√©traitement</a></li>
<li class="chapter" data-level="12.2.2" data-path="chapitre-ml.html"><a href="chapitre-ml.html#entrainement-et-test"><i class="fa fa-check"></i><b>12.2.2</b> Entra√Ænement et test</a></li>
<li class="chapter" data-level="12.2.3" data-path="chapitre-ml.html"><a href="chapitre-ml.html#sousapprentissage-et-surapprentissage"><i class="fa fa-check"></i><b>12.2.3</b> Sousapprentissage et surapprentissage</a></li>
<li class="chapter" data-level="12.2.4" data-path="chapitre-ml.html"><a href="chapitre-ml.html#validation-croisee"><i class="fa fa-check"></i><b>12.2.4</b> Validation crois√©e</a></li>
<li class="chapter" data-level="12.2.5" data-path="chapitre-ml.html"><a href="chapitre-ml.html#choix-de-lalgorithme-dapprentissage"><i class="fa fa-check"></i><b>12.2.5</b> Choix de l‚Äôalgorithme d‚Äôapprentissage</a></li>
<li class="chapter" data-level="12.2.6" data-path="chapitre-ml.html"><a href="chapitre-ml.html#deploiement"><i class="fa fa-check"></i><b>12.2.6</b> D√©ploiement</a></li>
</ul></li>
<li class="chapter" data-level="12.3" data-path="chapitre-ml.html"><a href="chapitre-ml.html#lautoapprentissage-en-r"><i class="fa fa-check"></i><b>12.3</b> L‚Äôautoapprentissage en R</a></li>
<li class="chapter" data-level="12.4" data-path="chapitre-ml.html"><a href="chapitre-ml.html#algorithmes"><i class="fa fa-check"></i><b>12.4</b> Algorithmes</a><ul>
<li class="chapter" data-level="12.4.1" data-path="chapitre-ml.html"><a href="chapitre-ml.html#les-k-plus-proches-voisins"><i class="fa fa-check"></i><b>12.4.1</b> Les <em>k</em> plus proches voisins</a></li>
<li class="chapter" data-level="12.4.2" data-path="chapitre-ml.html"><a href="chapitre-ml.html#les-arbres-decisionnels"><i class="fa fa-check"></i><b>12.4.2</b> Les arbres d√©cisionnels</a></li>
<li class="chapter" data-level="12.4.3" data-path="chapitre-ml.html"><a href="chapitre-ml.html#les-reseaux-neuronaux"><i class="fa fa-check"></i><b>12.4.3</b> Les r√©seaux neuronaux</a></li>
<li class="chapter" data-level="12.4.4" data-path="chapitre-ml.html"><a href="chapitre-ml.html#les-processus-gaussiens"><i class="fa fa-check"></i><b>12.4.4</b> Les processus gaussiens</a></li>
<li class="chapter" data-level="12.4.5" data-path="chapitre-ml.html"><a href="chapitre-ml.html#les-processus-gaussiens-en-r"><i class="fa fa-check"></i><b>12.4.5</b> Les processus gaussiens en <code>R</code></a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="13" data-path="chapitre-geo.html"><a href="chapitre-geo.html"><i class="fa fa-check"></i><b>13</b> Les donn√©es g√©ospatiales</a><ul>
<li class="chapter" data-level="13.1" data-path="chapitre-geo.html"><a href="chapitre-geo.html#les-donnees-spatiales"><i class="fa fa-check"></i><b>13.1</b> Les donn√©es spatiales</a></li>
<li class="chapter" data-level="13.2" data-path="chapitre-geo.html"><a href="chapitre-geo.html#cartographier-avec-le-module-ggmap"><i class="fa fa-check"></i><b>13.2</b> Cartographier avec le module <strong><code>ggmap</code></strong></a></li>
<li class="chapter" data-level="13.3" data-path="chapitre-geo.html"><a href="chapitre-geo.html#types-generiques-de-donnees-spatiales"><i class="fa fa-check"></i><b>13.3</b> Types g√©n√©riques de donn√©es spatiales</a></li>
<li class="chapter" data-level="13.4" data-path="chapitre-geo.html"><a href="chapitre-geo.html#les-choroplethe"><i class="fa fa-check"></i><b>13.4</b> Les choropl√®the</a></li>
<li class="chapter" data-level="13.5" data-path="chapitre-geo.html"><a href="chapitre-geo.html#les-rasters"><i class="fa fa-check"></i><b>13.5</b> Les rasters</a></li>
<li class="chapter" data-level="13.6" data-path="chapitre-geo.html"><a href="chapitre-geo.html#autoapprentissage-spatial"><i class="fa fa-check"></i><b>13.6</b> Autoapprentissage spatial</a></li>
<li class="chapter" data-level="13.7" data-path="chapitre-geo.html"><a href="chapitre-geo.html#les-objets-spatialises-en-r"><i class="fa fa-check"></i><b>13.7</b> Les objets spatialis√©s en R</a><ul>
<li class="chapter" data-level="13.7.1" data-path="chapitre-geo.html"><a href="chapitre-geo.html#donnees-vectorielles-points-lignes-et-polygones"><i class="fa fa-check"></i><b>13.7.1</b> Donn√©es vectorielles (points, lignes et polygones)</a></li>
<li class="chapter" data-level="13.7.2" data-path="chapitre-geo.html"><a href="chapitre-geo.html#donnees-raster"><i class="fa fa-check"></i><b>13.7.2</b> Donn√©es raster</a></li>
</ul></li>
<li class="chapter" data-level="13.8" data-path="chapitre-geo.html"><a href="chapitre-geo.html#section-systeme-coord"><i class="fa fa-check"></i><b>13.8</b> Les syst√®mes de coordonn√©es</a></li>
<li class="chapter" data-level="13.9" data-path="chapitre-geo.html"><a href="chapitre-geo.html#manipuler-des-tableaux-sf"><i class="fa fa-check"></i><b>13.9</b> Manipuler des tableaux <code>sf</code></a></li>
<li class="chapter" data-level="13.10" data-path="chapitre-geo.html"><a href="chapitre-geo.html#manipuler-des-objets-raster"><i class="fa fa-check"></i><b>13.10</b> Manipuler des objets raster</a></li>
<li class="chapter" data-level="13.11" data-path="chapitre-geo.html"><a href="chapitre-geo.html#graphiques-dobjets-spatialises"><i class="fa fa-check"></i><b>13.11</b> Graphiques d‚Äôobjets spatialis√©s</a></li>
<li class="chapter" data-level="13.12" data-path="chapitre-geo.html"><a href="chapitre-geo.html#ressources-complementaires"><i class="fa fa-check"></i><b>13.12</b> Ressources compl√©mentaires</a></li>
</ul></li>
<li class="chapter" data-level="14" data-path="chapitre-ode.html"><a href="chapitre-ode.html"><i class="fa fa-check"></i><b>14</b> Mod√©lisation d√©terministe</a><ul>
<li class="chapter" data-level="14.1" data-path="chapitre-ode.html"><a href="chapitre-ode.html#equations-differentielles"><i class="fa fa-check"></i><b>14.1</b> √âquations diff√©rentielles</a></li>
<li class="chapter" data-level="14.2" data-path="chapitre-ode.html"><a href="chapitre-ode.html#les-equations-differentielles-ordinaires-en-modelisation-ecologique"><i class="fa fa-check"></i><b>14.2</b> Les √©quations diff√©rentielles ordinaires en mod√©lisation √©cologique</a><ul>
<li class="chapter" data-level="14.2.1" data-path="chapitre-ode.html"><a href="chapitre-ode.html#evolution-dune-seule-population-en-fonction-du-temps"><i class="fa fa-check"></i><b>14.2.1</b> √âvolution d‚Äôune seule population en fonction du temps</a></li>
<li class="chapter" data-level="14.2.2" data-path="chapitre-ode.html"><a href="chapitre-ode.html#population-exploitee"><i class="fa fa-check"></i><b>14.2.2</b> Population exploit√©e</a></li>
<li class="chapter" data-level="14.2.3" data-path="chapitre-ode.html"><a href="chapitre-ode.html#interactions-biologiques"><i class="fa fa-check"></i><b>14.2.3</b> Interactions biologiques</a></li>
</ul></li>
<li class="chapter" data-level="14.3" data-path="chapitre-ode.html"><a href="chapitre-ode.html#les-equations-differentielles-partielles-en-modelisation-ecologique"><i class="fa fa-check"></i><b>14.3</b> Les √©quations diff√©rentielles partielles en mod√©lisation √©cologique</a></li>
</ul></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Analyse et mod√©lisation d‚Äôagro√©cosyst√®mes</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="chapitre-visualisation" class="section level1">
<h1><span class="header-section-number">4</span> Visualisation</h1>
<hr />
<p>Ô∏è¬†<strong>Objectifs sp√©cifiques</strong>:</p>
<p>√Ä la fin de ce chapitre, vous</p>
<ul>
<li>comprendrez l‚Äôimportance de l‚Äôexploration des donn√©es</li>
<li>comprendrez les guides g√©n√©raux pour cr√©er un graphique appropri√©</li>
<li>comprendrez la diff√©rence entre les modes imp√©ratifs et d√©claratifs pour la cr√©ation de graphique</li>
<li>serez en mesure de cr√©er des nuages de points, lignes, histogrammes, diagrammes en barres et boxplots en R</li>
<li>saurez exporter un graphique en vue d‚Äôune publication</li>
</ul>
<hr />
<p>Lorsque j‚Äôaborde un document scientifique, la premi√®re chose que je fais apr√®s avoir lu le r√©sum√© est de regarder les graphiques. Un graphique bien con√ßu est dense en information, de sorte qu‚Äôil met en lumi√®re une information qui pourrait passer inaper√ßue dans un tableau.</p>
<p>Reconnaissez-vous cette image?</p>
<img src="images/03_mann-hockey-stick-2001.png" width="600">
<center>
Source: <a href="https://www.ipcc.ch/pdf/climate-changes-2001/scientific-basis/scientific-spm-ts-fr.pdf">GIEC, Bilan 2001 des changements climatiques : Les √©l√©ments scientifiques</a>
</center>
<p>Elle a √©t√© con√ßue par Michael E. Mann, Raymond S. Bradley et Malcolm K. Hughes. Le graphique montre l‚Äô√©volution des temp√©ratures en ¬∞C normalis√©es selon la temp√©rature moyenne entre 1961 et 1990 sur l‚Äôaxe des Y en fonction du temps, sur l‚Äôaxe des X. On le connait aujourd‚Äôhui comme le <em>b√¢ton de hockey</em>, et on reconnait son r√¥le cl√© pour sensibiliser la civilisation enti√®re face au r√©chauffement global.</p>
<p>On aura recours √† la visualisation des donn√©es pour plusieurs raison: en particulier, lorsque l‚Äôinformation d‚Äôun tableau devient difficile √† interpr√©ter. Ainsi, cr√©er des graphiques est une t√¢che courante dans un flux de travail en science, que ce soit pour explorer les donn√©es ou les communiquer‚Ä¶ ce √† quoi cette section est vou√©e.</p>
<div id="pourquoi-explorer-graphiquement" class="section level2">
<h2><span class="header-section-number">4.1</span> Pourquoi explorer graphiquement?</h2>
<p>La plupart des graphiques que vous g√©n√©rerez ne seront pas destin√©s √† √™tre publi√©s. Ils viseront probablement d‚Äôabord √† explorer des donn√©es. Cela vous permettra de mettre en √©vidence de nouvelles perspectives.</p>
<p>Prenons par exemple deux variables, <span class="math inline">\(X\)</span> et <span class="math inline">\(Y\)</span>. Vous calculez leur moyenne, √©cart-type et la corr√©lation entre les deux variables (nous verrons les statistiques en plus de d√©tails dans un prochain chapitre). Pour d√©montrer que ces statistiques ne vous apprendront pas grand chose sur la structure des donn√©es, Matejka et Fitzmaurice (2017) ont g√©n√©r√© 12 jeux de donn√©es <span class="math inline">\(X\)</span> et <span class="math inline">\(Y\)</span>, ayant chacun pratiquement les m√™mes statistiques. Mais avec des structures bien diff√©rentes.</p>
<img src="https://d2f99xq7vri1nk.cloudfront.net/DinoSequentialSmaller.gif" />
<center>
Animation montrant la progression du jeu de donn√©es <em>Datasaurus</em> pour toutes les formes vis√©es. Source: <a href="https://www.autodeskresearch.com/publications/samestats">Same Stats, Different Graphs: Generating Datasets with Varied Appearance and Identical Statistics through Simulated Annealing</a>.
</center>
</div>
<div id="publier-un-graphique" class="section level2">
<h2><span class="header-section-number">4.2</span> Publier un graphique</h2>
<p>Vous voil√† sensibilis√© √† l‚Äôimportance d‚Äôexplorer les donn√©es graphiquement. Mais ce qui ultimement √©manera d‚Äôun projet sera le rapport que vous d√©poserez, l‚Äôarticle scientifique que vous ferez publier ou le billet de blogue que vous posterez. Les graphiques inclus dans vos publications m√©ritent une attention particuli√®re pour que votre audience puisse comprendre les d√©couvertes et perspectives offertes par vos travaux. Pour ce faire, un graphique doit √©videmment r√©pondre honn√™tement √† la question pos√©e, sans artifices inutiles, mais tout de m√™me attrayante.</p>
<div id="cinq-qualites-dun-bon-graphique" class="section level3">
<h3><span class="header-section-number">4.2.1</span> Cinq qualit√©s d‚Äôun bon graphique</h3>
<p>Alberto Cairo, chercheur sp√©cialis√© en visualisation de donn√©es, a fait para√Ætre en 2016 le livre <em>The Truthful art</em>, note cinq qualit√©s d‚Äôune visualisation bien con√ßue (les citations de cette section proviennent de ma traduction de Alberto Cairo, <em>The Truthful Art</em> (2016), p.¬†45.).</p>
<blockquote>
<p>1- <strong>Elle est v√©ritable</strong>, puisqu‚Äôelle est bas√©e sur une recherche exhaustive et honn√™te.</p>
</blockquote>
<p>Cela vaut autant pour les graphiques que pour l‚Äôanalyse de donn√©es. Il s‚Äôagit froidement de <strong>pr√©senter les donn√©es selon l‚Äôinterpr√©tation la plus exacte</strong>. Les pi√®ges √† √©viter sont le <em>picorage de cerises</em> et la <em>surinterpr√©tation des donn√©es</em>. Le <em>picorage</em>, c‚Äôest lorsqu‚Äôon r√©duit les perspectives afin de soutenir un argumentaire. Par exemple, retirer des donn√©es d‚Äôune r√©gion ou d‚Äôune d√©cennie qui rendraient factice une conclusion fix√©e <em>a priori</em>. Ceci vaut autant pour les graphiques que pour les statistiques (nous parlerons du p-hacking au prochain chapitre). La <em>surinterpr√©tation</em>, c‚Äôest lorsque l‚Äôon saute rapidement aux conclusions: par exemple, que l‚Äôon g√©n√®re des corr√©lations, voire m√™me des relations de causalit√©s √† partir de ce qui n‚Äôest que du bruit de fond. √Ä ce titre, lors <a href="https://youtu.be/uw1Tag08dK4">d‚Äôune conf√©rence</a>, Heather Krause insiste sur l‚Äôimportance de faire en sorte que les repr√©sentations graphiques r√©pondent correctement aux questions pos√©es dans une √©tude (√† voir!).</p>
<p><a href="https://youtu.be/uw1Tag08dK4"><img src="images/03_Heather-Krause_youtube_.png" /></a></p>
<blockquote>
<p>2- <strong>Elle est fonctionnelle</strong>, puisqu‚Äôelle constitue une repr√©sentation pr√©cise des donn√©es, et qu‚Äôelle est construite de mani√®re √† laisser les observateurs.trices prendre des initiatives cons√©quentes.</p>
</blockquote>
<p>‚ÄúLa seule chose qui est pire qu‚Äôun diagramme en pointe de tarte, c‚Äôest d‚Äôen pr√©senter plusieurs‚Äù (Edward Tufte, designer, cit√© par Alberto Cairo, 2016, p.¬†50). Choisir le bon graphique pour repr√©senter vos donn√©es est beaucoup moins une question de bon go√ªt qu‚Äô<strong>une question de d√©marche rationnelle sur l‚Äôobjectif vis√© par la pr√©sentation d‚Äôun graphique</strong>. Je pr√©senterai des lignes guides pour s√©lectionner le type de graphique qui pr√©sentera vos donn√©es de mani√®re fonctionnelle en fonction de l‚Äôobjectif d‚Äôun graphique (d‚Äôailleurs, avez-vous vraiment besoin d‚Äôun graphique?).</p>
<blockquote>
<p>3- <strong>Elle est attrayante</strong> et intrigante, et m√™me esth√©tiquement plaisante pour l‚Äôaudience vis√©e - les scientifiques d‚Äôabord, mais aussi le public en g√©n√©ral.</p>
</blockquote>
<p>En sciences naturelles, la pens√©e rationnelle, la capacit√© √† organiser la connaissance et cr√©er de nouvelles avenues sont des qualit√©s qui sont privil√©gi√©es au talent artistique. <strong>Que vous ayez o√π non des aptitudes en art visuel, pr√©sentez de l‚Äôinformation, pas des d√©corations</strong>. Excel vous permet d‚Äôajouter une perspective 3D √† un diagramme en barres. La profondeur contient-elle de l‚Äôinformation? Non. Cette d√©coration ne fait qu‚Äôajouter de la confusion. Minimalisez, fournissez le plus d‚Äôinformation possible avec le moins d‚Äô√©l√©ments possibles. C‚Äôest ce que vous proposent les guides graphiques que j‚Äôintroduirai plus loin.</p>
<blockquote>
<p>4- <strong>Elle est pertinente</strong>, puisqu‚Äôelle r√©v√®le des √©vidences scientifiques autrement difficilement accessibles.</p>
</blockquote>
<p>Il s‚Äôagit de susciter un <em>eur√™ka</em>, dans le sens qu‚Äô<strong>elle g√©n√®re une id√©e, et parfois une initiative, en un coup d‚Äô≈ìil</strong>. Le graphique en b√¢ton de hockey est un exemple o√π l‚Äôon a spontan√©ment une id√©e de la situation. Cette situation peut √™tre la pr√©sence d‚Äôun ph√©nom√®ne comme l‚Äôaugmentation de la temp√©rature globale, mais aussi l‚Äôabsence de ph√©nom√®nes pourtant attendus.</p>
<blockquote>
<p>5- <strong>Elle est instructive</strong>, parce que si l‚Äôon saisit et accepte les √©vidences scientifiques qu‚Äôelle d√©crit, cela changera notre perception pour le mieux.</p>
</blockquote>
<p>En pr√©sentant cette qualit√©, Alberto Cairo voulait insister ses lecteurs.trices √† choisir des sujets de discussion visuelle de mani√®re √† participer √† un monde meilleur. En ce qui nous concerne, il s‚Äôagit de bien <strong>s√©lectionner l‚Äôinformation que l‚Äôon d√©sire transmettre</strong>. Imaginez que vous avez travaill√© quelques jours pour cr√©er un graphique, sont vous √™tes fier, mais vous (ou un coll√®gue hi√©rarchiquement favoris√©) vous rendez compte que le graphique soutient peu ou pas le propos ou l‚Äôobjectif de votre th√®se/m√©moire/rapport/article. Si c‚Äôest bien le cas, vous feriez mieux de laisser tomber votre oeuvre et consid√©rer votre d√©marche comme une occasion d‚Äôapprentissage.</p>
<p>Alberto Cairo r√©sume son livre <em>The Truthful Art</em> dans <a href="http://news.nationalgeographic.com/2015/10/151016-data-points-alberto-cairo-interview/">une entrevue avec le National Geographic</a>.</p>
</div>
</div>
<div id="choisir-le-type-de-graphique-le-plus-approprie" class="section level2">
<h2><span class="header-section-number">4.3</span> Choisir le type de graphique le plus appropri√©</h2>
<p>Vous connaissez sans doute les nuages de point, les lignes, les histogrammes, les diagrammes en barre et en pointe de tarte. De nombreuses mani√®res de pr√©senter les donn√©es ont √©t√© d√©velopp√©es. Les principaux types de graphique seront couverts dans ce chapitre. D‚Äôautres types sp√©cialis√©s seront couverts dans les chapitres appropri√©s (graphiques davantage orient√©s vers les statistiques, les biplots, les dendrogrammes, les diagrammes ternaires, les cartes, etc.).</p>
<p>La visualisation de donn√©es est aujourd‚Äôhui devenue une expertise en soi. Plusieurs personnes ayant acquis une expertise dans le domaine partage leurs exp√©riences. √Ä ce titre, le site <a href="https://www.data-to-viz.com/"><em>from data to viz</em></a> est √† conserver dans vos marques-page. Il comprend des arbres d√©cisionnels qui vous guident vers les options appropri√©es pour pr√©senter vos donn√©es, puis fournissent des exemples en R que vous pourrez copier-coller-adapter dans vos feuilles de calcul. √âgalement, je sugg√®re le <a href="https://annkemery.com/essentials/">site internet de Ann K. Emery</a>, qui pr√©sente des lignes guide pour pr√©sent√© le graphique ad√©quat selon les donn√©es en main. De nombreuses recettes sont √©galement propos√©es sur <a href="https://www.r-graph-gallery.com/">r-graph-gallery.com</a>. En ce qui a trait aux couleurs, le choix n‚Äôest pas anodin. Si vous avez le souci des d√©tails sur les √©l√©ments esth√©tiques de vos graphiques, je recommande la lecture de ce billet de blog de <a href="https://blog.datawrapper.de/colors/">Lisa Charlotte Rost</a>.</p>
<p>Le <a href="https://ft.com/vocabulary">Financial Times</a> offre √©galement ce guide visuel.</p>
<p><img src="images/03_poster.png" /></p>
<p>Cairo (2016) propose de proc√©der avec ces √©tapes:</p>
<ol start="0" style="list-style-type: decimal">
<li>R√©fl√©chissez au message que vous d√©sirez transmettre: comparer les cat√©gories <span class="math inline">\(A\)</span> et <span class="math inline">\(B\)</span>, visualiser une transition ou un changement de <span class="math inline">\(A\)</span> vers <span class="math inline">\(B\)</span>, pr√©senter une relation entre <span class="math inline">\(A\)</span> et <span class="math inline">\(B\)</span> ou la distribution de <span class="math inline">\(A\)</span> et <span class="math inline">\(B\)</span> sur une carte.</li>
<li>Essayez diff√©rentes repr√©sentations: si le message que vous d√©sirez transmettre a plusieurs volets, il se pourrait que vous ayez besoin de plus d‚Äôun graphique.</li>
<li>Mettez de l‚Äôordre dans vos donn√©es. C‚Äô√©tait le sujet du chapitre <a href="chapitre-tableaux.html#chapitre-tableaux">3</a>.</li>
<li>Testez le r√©sultat. ‚ÄúH√©, qu‚Äôest-ce que tu comprends de cela?‚Äù Si la personne hausse les √©paules, il va falloir r√©√©valuer votre strat√©gie.</li>
</ol>
</div>
<div id="choisir-son-outils-de-visualisation" class="section level2">
<h2><span class="header-section-number">4.4</span> Choisir son outils de visualisation</h2>
<p>Les modules et logiciels de visualisation sont bas√©s sur des approches que l‚Äôon pourrait placer sur un spectre allant de l‚Äôimp√©ratif au d√©claratif.</p>
<div id="approche-imperative" class="section level3">
<h3><span class="header-section-number">4.4.1</span> Approche imp√©rative</h3>
<p>Selon cette approche, vous indiquez comment placer l‚Äôinformation dans un espace graphique. Vous indiquer les symboles, les couleurs, les types de ligne, etc. Peu de choses sont automatis√©es, ce qui laisse une grande flexibilit√©, mais demande de vouer beaucoup d‚Äô√©nergie √† la mani√®re de coder pour obtenir le graphique d√©sir√©. Le module graphique de Excel, ainsi que le module graphique de base de <code>R</code>, utilisent des approches imp√©ratives.</p>
</div>
<div id="approche-declarative" class="section level3">
<h3><span class="header-section-number">4.4.2</span> Approche d√©clarative</h3>
<p>Les strat√©gies d‚Äôautomatisation graphique se sont grandement am√©lior√©es au cours des derni√®res ann√©es. Plut√¥t que de vouer vos √©nergies √† cr√©er un graphique, il est maintenant possible de sp√©cifier ce que l‚Äôon veut pr√©senter.</p>
<blockquote>
<p>La visualisation d√©clarative vous permet de penser aux donn√©es et √† leurs relations, plut√¥t que des d√©tails accessoires.</p>
<p><a href="https://www.youtube.com/watch?v=FytuB8nFHPQ"><em>Jake Vanderplas, Declarative Statistical Visualization in Python with Altair</em></a> (ma traduction)</p>
</blockquote>
<p>L‚Äôapproche d√©clarative passe souvent par une <em>grammaire graphique</em>, c‚Äôest-√†-dire un langage qui explique ce que l‚Äôon veut pr√©senter - en mode imp√©ratif, on sp√©cifie plut√¥t comment on veut pr√©senter les donn√©es. Le module <code>ggplot2</code> est le module d√©claratif par excellence en R.</p>
</div>
</div>
<div id="visualisation-en-r" class="section level2">
<h2><span class="header-section-number">4.5</span> Visualisation en R</h2>
<p>En R, votre trousse d‚Äôoutils de visualisation m√©riterait de comprendre les modules suivants.</p>
<ul>
<li><strong>base</strong>. Le module de base de R contient des fonctions graphique tr√®s polyvalentes. Les axes sont g√©n√©r√©es automatiquement, on peut y ajouter des titres et des l√©gendes, on peut cr√©er plusieurs graphiques sur une m√™me figure, on peut y ajouter diff√©rentes g√©om√©tries (points, lignes et polygones), avec diff√©rents types de points ou de trait, et diff√©rentes couleurs, etc. Les modules sp√©cialis√©s viennent souvent avec leurs graphiques sp√©cialis√©s, construit √† partir du module de base. En tant que module graphique imp√©ratif, on peut tout faire ou presque (pas d‚Äôinteractivit√©), mais l‚Äô√©criture du code est peut expressive.</li>
<li><strong>ggplot2</strong>. C‚Äôest le module graphique par excellence en R (et j‚Äôose dire: en calcul scientifique). ggplot2 se base sur une grammaire graphique. √Ä partir d‚Äôun tableau de donn√©es, une colonne peut d√©finir l‚Äôaxe des x, une autre l‚Äôaxe des y, une autre la couleur couleur des points ou leur dimension. Une autre colonne d√©finissant des cat√©gories peut segmenter la visualisation en plusieurs graphiques align√©s horizontalement ou verticalement. Des extensions de ggplot2 permettent de g√©n√©rer des cartes (ggmap), des diagrammes ternaires (ggtern), des animations (gganimate), etc.</li>
<li><strong>plotly</strong>. plotly offre une fonction toute simple pour rendre interactif un graphique ggplot2. plotly est aussi un module graphique en soit, particuli√®rement utile pour les graphiques interactifs.</li>
</ul>
<p>Nous survolerons rapidement le module de base, irons plus en profondeur avec ggplot2, puis je pr√©senterai bri√®vement les graphiques interactifs avec plotly.</p>
</div>
<div id="module-de-base-pour-les-graphiques" class="section level2">
<h2><span class="header-section-number">4.6</span> Module de base pour les graphiques</h2>
<p>Nous allons d‚Äôabord survoler le module de base, en mode imp√©ratif. La fonction de base pour les graphiques en R est <code>plot()</code>. Pour nous exercer avec cette fonction, chargeons d‚Äôabord le tableau de donn√©es d‚Äôexercice <a href="https://en.wikipedia.org/wiki/Iris_flower_data_set"><code>iris</code></a>, publi√© en 1936 par le c√©l√®bre biostatisticien Ronald Fisher.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">data</span>(iris)
<span class="kw">head</span>(iris)</code></pre>
<pre><code>##   Sepal.Length Sepal.Width Petal.Length Petal.Width Species
## 1          5.1         3.5          1.4         0.2  setosa
## 2          4.9         3.0          1.4         0.2  setosa
## 3          4.7         3.2          1.3         0.2  setosa
## 4          4.6         3.1          1.5         0.2  setosa
## 5          5.0         3.6          1.4         0.2  setosa
## 6          5.4         3.9          1.7         0.4  setosa</code></pre>
<p>Le tableau <code>iris</code> contient 5 colonnes, les 4 premi√®res d√©crivant les longueurs et largeurs des p√©tales et s√©pales de diff√©rentes esp√®ces d‚Äôiris dont le nom appara√Æt √† la 5i√®me colonne. La mani√®re la plus rapide d‚Äôextraire une colonne d‚Äôun tableau est d‚Äôappeler le tableau, suivit du <code>$</code>, puis du nom de la colonne, par exemple <code>iris$Species</code>. Pour g√©n√©rer un graphique avec la fonction <code>plot()</code>:</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">plot</span>(iris<span class="op">$</span>Sepal.Length, iris<span class="op">$</span>Petal.Length)</code></pre>
<p><img src="_main_files/figure-html/unnamed-chunk-65-1.png" width="672" /></p>
<p>Par d√©faut, le premier argument est le vecteur d√©finissant l‚Äôaxe des x et le deuxi√®me est celui d√©finissant l‚Äôaxe des y. Le graphique pr√©c√©dent peut √™tre amplement personnalis√© en utilisant diff√©rents arguments.</p>
<p><img src="images/03_plot-iris.png" width=400></p>
<p><strong>Exercice</strong>. Utilisez ces arguments dans la cellule de code de la figure <code>plot(iris$Sepal.Length, iris$Petal.Length)</code>.</p>
<p>Remarquez que la fonction a d√©cid√© toute seule de cr√©er un nuage de point. La fonction plot() est con√ßue pour cr√©er le graphique appropri√© selon le type des donn√©es sp√©cifi√©es: lignes, boxplot, etc. Si l‚Äôon sp√©cifiait les esp√®ces comme argument <code>x</code>‚Ä¶</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">plot</span>(iris<span class="op">$</span>Species, iris<span class="op">$</span>Petal.Length)</code></pre>
<p><img src="_main_files/figure-html/unnamed-chunk-66-1.png" width="672" /></p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="co"># ou bien</span>
<span class="co"># iris %&gt;%</span>
<span class="co">#   select(Species, Petal.Length) %&gt;% </span>
<span class="co">#   plot()</span></code></pre>
<p>De m√™me, la fonction <code>plot()</code> appliqu√©e √† un tableau de donn√©es g√©n√©rera une repr√©sentation bivari√©e.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">plot</span>(iris)</code></pre>
<p><img src="_main_files/figure-html/unnamed-chunk-67-1.png" width="672" /></p>
<p>Il est possible d‚Äôencoder des attributs gr√¢ce √† des vecteurs de facteurs (cat√©gories).</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">plot</span>(iris, <span class="dt">col =</span> iris<span class="op">$</span>Species)</code></pre>
<p><img src="_main_files/figure-html/unnamed-chunk-68-1.png" width="672" /></p>
<p>L‚Äôargument <code>type = &quot;&quot;</code> permet de personnaliser l‚Äôapparence:</p>
<ul>
<li><code>type = &quot;p&quot;</code>: points</li>
<li><code>type = &quot;l&quot;</code>: ligne</li>
<li><code>type = &quot;o&quot;</code> et <code>type = &quot;b&quot;</code>: ligne et points</li>
<li><code>type = &quot;n&quot;</code>: ne rien afficher</li>
</ul>
<p>Cr√©ons un jeu de donn√©es.</p>
<pre class="sourceCode r"><code class="sourceCode r">time &lt;-<span class="st"> </span><span class="kw">seq</span>(<span class="dt">from =</span> <span class="dv">0</span>, <span class="dt">to =</span> <span class="dv">100</span>, <span class="dt">by =</span> <span class="dv">10</span>)
height &lt;-<span class="st"> </span><span class="kw">abs</span>(time <span class="op">*</span><span class="st"> </span><span class="fl">0.1</span> <span class="op">+</span><span class="st"> </span><span class="kw">rnorm</span>(<span class="kw">length</span>(time), <span class="dv">0</span>, <span class="dv">2</span>)) <span class="co"># abs pourvaleur absolue (changement de signe si n√©gatif)</span>
<span class="kw">plot</span>(<span class="dt">x =</span> time, <span class="dt">y =</span> height, <span class="dt">type =</span> <span class="st">&#39;b&#39;</span>, <span class="dt">lty =</span> <span class="dv">2</span>, <span class="dt">lwd =</span> <span class="dv">1</span>)</code></pre>
<p><img src="_main_files/figure-html/unnamed-chunk-69-1.png" width="672" /></p>
<p>Le type de ligne est sp√©cifi√© par l‚Äôargument <code>lty</code> (qui peut prendre un chiffre ou une ch√¢ine de caract√®res, i.e. <code>1</code> est √©quivalent de <code>&quot;solid&quot;</code>, <code>2</code> de <code>&quot;dashed&quot;</code>, <code>3</code> de <code>&quot;dotted&quot;</code>, etc.) et la largeur du trait (valeur num√©rique), par l‚Äôargument <code>lwd</code>.</p>
<p>La fonction <code>hist()</code> permet quant √† elle de cr√©er des histogrammes. Parmi ses arguments, <code>breaks</code> est particuli√®rement utile, car il permet d‚Äôajuster la segmentation des incr√©ments.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">hist</span>(iris<span class="op">$</span>Petal.Length, <span class="dt">breaks =</span> <span class="dv">60</span>)</code></pre>
<p><img src="_main_files/figure-html/unnamed-chunk-70-1.png" width="672" /></p>
<p><strong>Exercice</strong>. Ajustez le titre de l‚Äôaxe des x, ainsi que les limites de l‚Äôaxe des x. √ätes-vous en mesure de colorer l‚Äôint√©rieur des barres en bleu?</p>
<p>La fonction <code>plot()</code> peut √™tre suivie de plusieurs autres couches comme des lignes (<code>lines()</code> ou <code>abline()</code>), des points (<code>points()</code>), du texte (<code>text()</code>), des polygones (<code>polygon()</code>, des l√©gendes (<code>legend()</code>)), etc. On peut aussi personnaliser les couleurs, les types de points, les types de lignes, etc. L‚Äôexemple suivant ajoute une ligne au graphique. Ne pr√™tez pas trop attention aux fonctions <code>predict()</code> et <code>lm()</code> pour l‚Äôinstant: nous les verrons au chapitre <a href="chapitre-biostats.html#chapitre-biostats">5</a>.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">plot</span>(time, height)
<span class="kw">lines</span>(time, <span class="kw">predict</span>(<span class="kw">lm</span>(height <span class="op">~</span><span class="st"> </span>time)))</code></pre>
<p><img src="_main_files/figure-html/unnamed-chunk-71-1.png" width="672" /></p>
<p>Pour exporter un graphique, vous pouvez passer par le menu Export de RStudio. Mais pour des graphiques destin√©s √† √™tre publi√©s, je vous sugg√®re d‚Äôexporter vos graphiques avec une haute r√©solution √† la suite de la commande <code>png()</code> (ou <code>jpg()</code> ou <code>svg()</code>).</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">png</span>(<span class="dt">filename =</span> <span class="st">&#39;images/mon-graphique.png&#39;</span>, <span class="dt">width =</span> <span class="dv">3000</span>, <span class="dt">height=</span><span class="dv">2000</span>, <span class="dt">res=</span><span class="dv">300</span>)
<span class="kw">plot</span>(<span class="dt">x =</span> iris<span class="op">$</span>Petal.Length,
     <span class="dt">y =</span> iris<span class="op">$</span>Sepal.Length,
     <span class="dt">col =</span> iris<span class="op">$</span>Species,
     <span class="dt">cex=</span><span class="dv">3</span>, <span class="co"># dimension des points</span>
     <span class="dt">pch =</span> <span class="dv">16</span>) <span class="co"># type de points</span>
<span class="kw">dev.off</span>()</code></pre>
<pre><code>## png 
##   2</code></pre>
<p>Ce format cr√©e une version vectorielle du graphique, c‚Äôest-√†-dire que l‚Äôimage export√©e est un fichier contenant les formes, non pas les pixels. Cela vous permet d‚Äô√©diter votre graphique dans un logiciel de dessin vectoriel (comme <a href="https://inkscape.org/en/">Inkscape</a>).</p>
<p>J‚Äôai utilis√© le format d‚Äôimage <em>png</em>, utile pour les images de type graphique, avec des changements de couleurs drastiques. Pour les photos, vous pr√©f√©rerez le format <em>jpg</em>. Des √©diteurs demanderont peut-√™tre des formats vectoriels comme <em>pdf</em> ou <em>eps</em>. Si vous ne trouvez pas de moyen de modifi√© un aspect du graphique dans le code (bouger des √©tiquettes ou des l√©gendes, ajouter des √©l√©ments graphiques), vous pouvez exporter votre graphique en format svg (par la commande <code>svg()</code>. Ce format vectoriel peut √™tre ouvert avec des logiciels de dessin vectoriel comme le logiciel libre <a href="inkscape.org">Inkscape</a>.</p>
<p>Le module de base de R comprend une panoplie d‚Äôautres particularit√©s que je ne couvrirai pas ici, en faveur du module <code>ggplot2</code>.</p>
</div>
<div id="la-grammaire-graphique-ggplot2" class="section level2">
<h2><span class="header-section-number">4.7</span> La grammaire graphique ggplot2</h2>
<p>Bri√®vement, une grammaire graphique permet de sch√©matiser (ma traduction de <em>to map</em>) des donn√©es sur des attributs esth√©tiques avec des g√©om√©tries.Cette approche permet de d√©gager 5 composantes.</p>
<ol style="list-style-type: decimal">
<li><strong>Les donn√©es</strong>. Votre tableau est bien s√ªr un argument n√©cessaire pour g√©n√©rer le graphique.</li>
<li><strong>Les marqueurs</strong>. Un terme abstrait pour d√©signer les points, les lignes, les polygones, les barres, les fl√®ches, etc.</li>
<li><strong>Les attributs encod√©s</strong>. La position, la dimension, la couleur ou la forme que prendront les g√©om√©tries. En ggplot2, on les nomme les <em>aesthetics</em>.</li>
<li><strong>Les attributs globaux</strong>. Les attributs sont globaux lorsqu‚Äôils sont constant (ils ne d√©pendent pas d‚Äôune variable). Les valeurs par d√©faut conviennent g√©n√©ralement, mais certains attributs peuvent √™tre sp√©cifi√©s: par exemple la forme ou la couleur des points, le type de ligne.</li>
<li><strong>Les th√®mes</strong>. Le th√®me du graphique peut √™tre sp√©cifi√© dans son ensemble, c‚Äôest-√†-dire en utilisant un th√®me pr√©d√©fini, mais l‚Äôon peut modifier certains d√©tails.</li>
</ol>
<p>Le flux de travail pour cr√©er un graphique √† partir d‚Äôune grammaire ressemble donc √† ceci:</p>
<pre><code>Avec mon tableau,
Cr√©er un marqueur (
encoder(position X = colonne A,
position Y = colonne B,
couleur = colonne C)
forme globale = 1)
Avec un th√®me noir et blanc</code></pre>
<p>Le module tidyverse installera des modules utilis√©s de mani√®re r√©currente dans ce cours, comme ggplot2, dplyr, tidyr et readr. Je recommande de le charger au d√©but de vos sessions de travail.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(<span class="st">&quot;tidyverse&quot;</span>)</code></pre>
<p>L‚Äôapproche tidyverse est une grammaire des donn√©es. Le module ggplot2, qui en fait partie, est une <em>grammaire graphique</em> (d‚Äôo√π le <em>gg</em> de <em>ggplot</em>).</p>
</div>
<div id="mon-premier-ggplot" class="section level2">
<h2><span class="header-section-number">4.8</span> Mon premier ggplot</h2>
<p>Pour notre premier exercice, je vais charger un tableau depuis le fichier de donn√©es <a href="https://github.com/ajschumacher/gadsdc1/blob/master/dataset_research/clara_abalone.md"><code>abalone.data</code></a> depuis un d√©p√¥t sur internet. Je n‚Äôirai pas dans les d√©tails sur les tableaux de donn√©es, puisque c‚Äôest le sujet du chapitre <a href="chapitre-tableaux.html#chapitre-tableaux">3</a>. Le fichier de donn√©es porte sur un escargot de mer et comprend le sexe (M: m√¢le, F: femelle et I: enfant), des poids et dimensions des individus observ√©s, et le nombre d‚Äôanneaux compt√©s dans la coquille.</p>
<pre class="sourceCode r"><code class="sourceCode r">abalone &lt;-<span class="st"> </span><span class="kw">read_csv</span>(<span class="st">&quot;data/abalone.csv&quot;</span>)</code></pre>
<pre><code>## Parsed with column specification:
## cols(
##   Type = col_character(),
##   LongestShell = col_double(),
##   Diameter = col_double(),
##   Height = col_double(),
##   WholeWeight = col_double(),
##   ShuckedWeight = col_double(),
##   VisceraWeight = col_double(),
##   ShellWeight = col_double(),
##   Rings = col_double()
## )</code></pre>
<p>Inspectons l‚Äôent√™te du tableau avec la fonction <code>head()</code>.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">head</span>(abalone)</code></pre>
<pre><code>## # A tibble: 6 x 9
##   Type  LongestShell Diameter Height WholeWeight ShuckedWeight
##   &lt;chr&gt;        &lt;dbl&gt;    &lt;dbl&gt;  &lt;dbl&gt;       &lt;dbl&gt;         &lt;dbl&gt;
## 1 M            0.455    0.365  0.095       0.514        0.224 
## 2 M            0.35     0.265  0.09        0.226        0.0995
## 3 F            0.53     0.42   0.135       0.677        0.256 
## 4 M            0.44     0.365  0.125       0.516        0.216 
## 5 I            0.33     0.255  0.08        0.205        0.0895
## 6 I            0.425    0.3    0.095       0.352        0.141 
## # ‚Ä¶ with 3 more variables: VisceraWeight &lt;dbl&gt;, ShellWeight &lt;dbl&gt;,
## #   Rings &lt;dbl&gt;</code></pre>
<p>Suivant la grammaire graphique ggplot2, on pourra cr√©er ce graphique de points comprenant les attributs suivants suivants.</p>
<ol start="0" style="list-style-type: decimal">
<li><code>data = abalone</code>, le fichier de donn√©es.</li>
<li><code>mapping = aes(...)</code>, sp√©cifi√© comme attribut de la fonction <code>ggplot()</code>, cet encodage (ou <code>aes</code>thetic) reste l‚Äôencodage par d√©faut pour tous les marqueurs du graphique. Toutefois, l‚Äôencodage <code>mapping = aes()</code> peut aussi √™tre sp√©cifi√© dans la fonction du marqueur (par exemple <code>geom_point()</code>). Dans l‚Äôencodage global du graphique, on place en x la longueur de la coquille (<code>x = LongestShell</code>) et on place en y le poids de la coquille (<code>y = ShellWeight</code>).</li>
<li>Pour ajouter un marqueur, on utilise le <code>+</code>. G√©n√©ralement, on change aussi de ligne.</li>
<li>Le marqueur ajout√© est un point, <code>geom_point()</code>, dans lequel on sp√©cifie un encodage de couleur sur la variable Type (<code>colour = Type</code>) et un encodage de dimension du point sur la variable rings (<code>size = Rings</code>). L‚Äôattribut <code>alpha = 0.5</code> se situe hors du mapping et de la fonction <code>aes()</code>: c‚Äôest un attribut identique pour tous les points.</li>
</ol>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">ggplot</span>(<span class="dt">data =</span> abalone, <span class="dt">mapping =</span> <span class="kw">aes</span>(<span class="dt">x =</span> LongestShell, <span class="dt">y =</span> ShellWeight)) <span class="op">+</span>
<span class="st">  </span><span class="kw">geom_point</span>(<span class="dt">mapping =</span> <span class="kw">aes</span>(<span class="dt">colour =</span> Type, <span class="dt">size =</span> Rings), <span class="dt">alpha =</span> <span class="fl">0.5</span>)</code></pre>
<p><img src="_main_files/figure-html/unnamed-chunk-76-1.png" width="672" /></p>
<p>Il existe plusieurs types de marqueurs:</p>
<ul>
<li><code>geom_point</code> pour les points</li>
<li><code>geom_line</code> pour les lignes</li>
<li><code>geom_bar</code> pour les diagrammes en barre en d√©compte, <code>geom_col</code> en terme de grandeur et <code>geom_histogram</code> pour les histogrammes</li>
<li><code>geom_boxplot</code> pour les boxplots</li>
<li><code>geom_errorbar</code>, <code>geom_pointrange</code> ou <code>geom_crossbar</code> pour les marges d‚Äôerreur</li>
<li><code>geom_map</code> pour les cartes</li>
<li>etc.</li>
</ul>
<p>Il existe plusieurs attributs d‚Äôencodage:</p>
<ul>
<li>la position <code>x</code>, <code>y</code> et <code>z</code> (<code>z</code> pertinent notamment pour le marqueur <code>geom_tile()</code>)</li>
<li>la taille <code>size</code></li>
<li>la forme des points <code>shape</code></li>
<li>la couleur, qui peut √™tre discr√®te ou continue :
<ul>
<li><code>colour</code>, pour la couleur des contours</li>
<li><code>fill</code>, pour la couleur de remplissage</li>
</ul></li>
<li>le type de ligne <code>linetype</code></li>
<li>la transparence <code>alpha</code></li>
<li>et d‚Äôautres types sp√©cialis√©s que vous retrouverez dans la documentation des marqueurs</li>
</ul>
<p>Les types de marqueurs et leurs encodages sont d√©crits dans la <a href="https://ggplot2.tidyverse.org/">documentation de ggplot2</a>, qui fournit des feuilles aide-m√©moire qu‚Äôil est commode d‚Äôimprimer et d‚Äôafficher pr√®s de soi.</p>
<p><a href="https://github.com/rstudio/cheatsheets/raw/master/data-visualization-2.1.pdf"><img src="https://www.rstudio.com/wp-content/uploads/2015/01/ggplot2-cheatsheet-2.1-600x464.png" /></a>
Aide-m√©moire de ggplot2, source: <a href="https://www.rstudio.com/resources/cheatsheets/" class="uri">https://www.rstudio.com/resources/cheatsheets/</a></p>
<div id="les-facettes" class="section level4">
<h4><span class="header-section-number">4.8.0.1</span> Les facettes</h4>
<p>Dans ggplot2, les <code>facet</code>ttes sont un type sp√©cial d‚Äôencodage utilis√©s pour d√©finir des grilles de graphique. Elles prennent deux formes:</p>
<ul>
<li>Le collage, <code>facet_wrap()</code>. Une variable cat√©gorielle est utilis√©e pour segmenter les graphiques en plusieurs graphiques, qui sont plac√©s l‚Äôun √† la suite de l‚Äôautre dans un arrangement sp√©cifi√© par un nombre de colonne ou un nombre de ligne.</li>
<li>La grille, <code>facet_grid()</code>. Une ou deux variables segmentent les graphiques selon les colonnes et les lignes.</li>
</ul>
<p>Les facettes peuvent √™tre sp√©cifi√©es n‚Äôimporte o√π dans la cha√Æne de commande de ggplot2, mais conventionnellement, on les place tout de suite apr√®s la fonction <code>ggplot()</code>.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">ggplot</span>(<span class="dt">data =</span> abalone, <span class="dt">mapping =</span> <span class="kw">aes</span>(<span class="dt">x =</span> LongestShell, <span class="dt">y =</span> ShellWeight)) <span class="op">+</span>
<span class="st">  </span><span class="kw">facet_wrap</span>(<span class="op">~</span>Type, <span class="dt">ncol=</span><span class="dv">2</span>) <span class="op">+</span>
<span class="st">  </span><span class="kw">geom_point</span>(<span class="dt">mapping =</span> <span class="kw">aes</span>(<span class="dt">colour =</span> Type, <span class="dt">size =</span> Rings), <span class="dt">alpha =</span> <span class="fl">0.5</span>)</code></pre>
<p><img src="_main_files/figure-html/unnamed-chunk-77-1.png" width="672" /></p>
<p>La fonction <code>cut()</code> permet de discr√©tiser des variables continues en cat√©gories ordonn√©es - les fonctions peuvent √™tre utilis√©es √† l‚Äôint√©rieur de la fonction ggplot.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">ggplot</span>(<span class="dt">data =</span> abalone, <span class="dt">mapping =</span> <span class="kw">aes</span>(<span class="dt">x =</span> LongestShell, <span class="dt">y =</span> ShellWeight)) <span class="op">+</span>
<span class="st">  </span><span class="kw">facet_grid</span>(Type <span class="op">~</span><span class="st"> </span><span class="kw">cut</span>(Rings, <span class="dt">breaks =</span> <span class="kw">seq</span>(<span class="dv">0</span>, <span class="dv">30</span>, <span class="dv">5</span>))) <span class="op">+</span>
<span class="st">  </span><span class="kw">geom_point</span>(<span class="dt">mapping =</span> <span class="kw">aes</span>(<span class="dt">colour =</span> Type), <span class="dt">alpha =</span> <span class="fl">0.5</span>)</code></pre>
<p><img src="_main_files/figure-html/unnamed-chunk-78-1.png" width="672" /></p>
<p>Par d√©faut, les axes des facettes, ainsi que leurs dimensions, sont les m√™mes. Une telle repr√©sentation permet de comparer les facets sur une m√™me √©chelle. Les axes peuvent √™tre d√©finis selon les donn√©es avec l‚Äôargument <code>scales</code>, tandis que l‚Äôespace des facettes peut √™tre conditionn√© selon l‚Äôargument <code>space</code> - pour plus de d√©tails, <a href="https://ggplot2.tidyverse.org/reference/facet_grid.html">voir la fiche de documentation</a>.</p>
<p><strong>Exercice</strong>. Personnalisez le graphique avec les donn√©es <code>abalone</code> en rempla√ßant les variables et en r√©organisant les facettes.</p>
</div>
<div id="plusieurs-sources-de-donnees" class="section level3">
<h3><span class="header-section-number">4.8.1</span> Plusieurs sources de donn√©es</h3>
<p>Il peut arriver que les donn√©es pour g√©n√©rer un graphique proviennent de plusieurs tableaux. Lorsqu‚Äôon ne sp√©cifie pas la source du tableau dans un marqueur, la valeur par d√©faut est le tableau sp√©cifier dans l‚Äôamorce <code>ggplot()</code>. Il est n√©anmoins possible de d√©finir une source personnalis√©e pour chaque marqueur en sp√©cifiant <code>data = ...</code> comme argument du marqueur.</p>
<pre class="sourceCode r"><code class="sourceCode r">abalone_siteA &lt;-<span class="st"> </span><span class="kw">data.frame</span>(<span class="dt">LongestShell =</span> <span class="kw">c</span>(<span class="fl">0.3</span>, <span class="fl">0.8</span>, <span class="fl">0.7</span>),
                            <span class="dt">ShellWeight =</span> <span class="kw">c</span>(<span class="fl">0.05</span>, <span class="fl">0.81</span>, <span class="fl">0.77</span>))

<span class="kw">ggplot</span>(<span class="dt">data =</span> abalone, <span class="dt">mapping =</span> <span class="kw">aes</span>(<span class="dt">x =</span> LongestShell, <span class="dt">y =</span> ShellWeight)) <span class="op">+</span>
<span class="st">  </span><span class="kw">geom_point</span>(<span class="dt">mapping =</span> <span class="kw">aes</span>(<span class="dt">colour =</span> Type, <span class="dt">size =</span> Rings), <span class="dt">alpha =</span> <span class="fl">0.5</span>) <span class="op">+</span>
<span class="st">  </span><span class="kw">geom_point</span>(<span class="dt">data =</span> abalone_siteA, <span class="dt">size =</span> <span class="dv">8</span>, <span class="dt">shape =</span> <span class="dv">4</span>)</code></pre>
<p><img src="_main_files/figure-html/unnamed-chunk-79-1.png" width="672" /></p>
</div>
<div id="exporter-avec-style" class="section level3">
<h3><span class="header-section-number">4.8.2</span> Exporter avec style</h3>
<p>Le fond gris est une marque distinctive de ggplot2. Il n‚Äôest toutefois pas appr√©ci√© de tout le monde. D‚Äôautres th√®mes dits <em>complets</em> peuvent √™tre utilis√©s (<a href="https://ggplot2.tidyverse.org/reference/ggtheme.html">liste des th√®mes complets</a>). Les th√®mes complets sont appel√©s avant la fonction <code>theme()</code>, qui permet d‚Äôeffectuer des ajustements pr√©cis dont la liste exhaustive se trouve <a href="https://ggplot2.tidyverse.org/reference/theme.html">dans la documentation de ggplot2</a>.</p>
<p>Vous pouvez aussi personnaliser le titre des axes (<code>xlab()</code> et <code>ylab()</code>), leur limites (<code>xlim()</code> et <code>ylim()</code>) ou sp√©cifier un titre global (<code>ggtitle()</code>).</p>
<p>Pour exporter un ggplot, on pourra utiliser les commandes de R <code>png()</code>, <code>svg()</code> ou <code>pdf()</code>, ou les outils de RStudio. Toutefois, ggplot2 offre la fonction <code>ggsave()</code>, que l‚Äôon place en remorque du graphique, en sp√©cifiant les dimensions (<code>width</code> et <code>height</code>) ainsi que la r√©solution (<code>dpi</code>). La r√©solution d‚Äôun graphique destin√© √† la publication est typiquement de plus de 300 dpi.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">ggplot</span>(<span class="dt">data =</span> abalone, <span class="dt">mapping =</span> <span class="kw">aes</span>(<span class="dt">x =</span> LongestShell, <span class="dt">y =</span> ShellWeight)) <span class="op">+</span>
<span class="st">  </span><span class="kw">geom_point</span>(<span class="dt">mapping =</span> <span class="kw">aes</span>(<span class="dt">colour =</span> Type, <span class="dt">size =</span> Rings), <span class="dt">alpha =</span> <span class="fl">0.5</span>) <span class="op">+</span>
<span class="st">  </span><span class="kw">xlab</span>(<span class="st">&quot;Length (mm)&quot;</span>) <span class="op">+</span>
<span class="st">  </span><span class="kw">ylab</span>(<span class="st">&quot;Shell weight (g)&quot;</span>) <span class="op">+</span>
<span class="st">  </span><span class="kw">ggtitle</span>(<span class="st">&quot;Abalone&quot;</span>) <span class="op">+</span>
<span class="st">  </span><span class="kw">xlim</span>(<span class="kw">c</span>(<span class="dv">0</span>, <span class="dv">1</span>)) <span class="op">+</span>
<span class="st">  </span><span class="kw">theme_classic</span>() <span class="op">+</span>
<span class="st">  </span><span class="kw">theme</span>(<span class="dt">axis.title =</span> <span class="kw">element_text</span>(<span class="dt">size=</span><span class="dv">20</span>),
        <span class="dt">axis.text =</span> <span class="kw">element_text</span>(<span class="dt">size=</span><span class="dv">20</span>),
        <span class="dt">axis.text.y =</span> <span class="kw">element_text</span>(<span class="dt">size=</span><span class="dv">20</span>, <span class="dt">angle=</span><span class="dv">90</span>, <span class="dt">hjust=</span><span class="fl">0.5</span>),
        <span class="dt">legend.box =</span> <span class="st">&quot;horizontal&quot;</span>)</code></pre>
<p><img src="_main_files/figure-html/unnamed-chunk-80-1.png" width="672" /></p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">ggsave</span>(<span class="st">&quot;images/abalone.png&quot;</span>, <span class="dt">width =</span> <span class="dv">8</span>, <span class="dt">height =</span> <span class="dv">8</span>, <span class="dt">dpi =</span> <span class="dv">300</span>)</code></pre>
<p>Nous allons maintenant couvrir diff√©rents types de graphiques, accessibles selon diff√©rents marqueurs:</p>
<ul>
<li>les nuages de points</li>
<li>les diagrammes en ligne</li>
<li>les boxplots</li>
<li>les histogrammes</li>
<li>les diagrammes en barres</li>
</ul>
</div>
<div id="nuages-de-points" class="section level3">
<h3><span class="header-section-number">4.8.3</span> Nuages de points</h3>
<p>L‚Äôexemple pr√©c√©dent est un nuage de points, que nous avons g√©n√©r√© avec le marqueur <code>geom_point()</code>, qui a d√©j√† √©t√© passablement introduit. L‚Äôexploration de ces donn√©es a permis de d√©tecter une croissance exponentielle du poids de la coquille en fonction de sa longueur. Il est clair que les abalones juv√©niles (Type I) sont plus petits et moins lourds, mais nous devrons probablement proc√©der √† des tests statistiques pour v√©rifier s‚Äôil y a des diff√©rences entre m√¢les et femelles.</p>
<p>Le graphique √©tant tr√®s charg√©, nous avons utilis√© des strat√©gies pour l‚Äôall√©ger en utilisant de la transparence et des facettes. Le marqueur <code>geom_jitter()</code> peut permettre de mieux appr√©cier la dispersion des points en ajoutant une dispersion randomis√©e en x ou en y.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">ggplot</span>(<span class="dt">data =</span> abalone, <span class="dt">mapping =</span> <span class="kw">aes</span>(<span class="dt">x =</span> LongestShell, <span class="dt">y =</span> ShellWeight)) <span class="op">+</span>
<span class="st">  </span><span class="kw">geom_jitter</span>(<span class="dt">mapping =</span> <span class="kw">aes</span>(<span class="dt">colour =</span> Type, <span class="dt">size =</span> Rings), <span class="dt">alpha =</span> <span class="fl">0.5</span>, <span class="dt">width =</span> <span class="fl">0.05</span>, <span class="dt">height=</span><span class="fl">0.1</span>)</code></pre>
<p><img src="_main_files/figure-html/unnamed-chunk-81-1.png" width="672" /></p>
<p>Dans ce cas-ci, √ßa ne change pas beaucoup, mais retenons-le pour la suite.</p>
</div>
<div id="diagrammes-en-lignes" class="section level3">
<h3><span class="header-section-number">4.8.4</span> Diagrammes en lignes</h3>
<p>Les lignes sont utilis√©es pour exprimer des liens entre une suite d‚Äôinformation. Dans la plupart des cas, il s‚Äôagit d‚Äôune suite d‚Äôinformation dans le temps que l‚Äôon appelle les s√©ries temporelles. En l‚Äôoccurrence, les lignes devraient √™tre √©vit√©es si la s√©quence entre les variables n‚Äôest pas √©vidente. Nous allons utiliser un tableau de donn√©es de R portant sur la croissance des orangers.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">data</span>(Orange)
<span class="kw">head</span>(Orange)</code></pre>
<pre><code>## Grouped Data: circumference ~ age | Tree
##   Tree  age circumference
## 1    1  118            30
## 2    1  484            58
## 3    1  664            87
## 4    1 1004           115
## 5    1 1231           120
## 6    1 1372           142</code></pre>
<p>La premi√®re colonne sp√©cifie le num√©ro de l‚Äôarbre mesur√©, la deuxi√®me son √¢ge et la troisi√®me sa circonf√©rence. Le marqueur <code>geom_line()</code> permet de tracer la tendance de la circonf√©rence selon l‚Äô√¢ge. En encodant la couleur de la ligne √† l‚Äôarbre, nous pourrons tracer une ligne pour chacun d‚Äôentre eux.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">ggplot</span>(<span class="dt">data =</span> Orange, <span class="dt">mapping =</span> <span class="kw">aes</span>(<span class="dt">x =</span> age, <span class="dt">y =</span> circumference)) <span class="op">+</span>
<span class="st">  </span><span class="kw">geom_line</span>(<span class="kw">aes</span>(<span class="dt">colour =</span> Tree))</code></pre>
<p><img src="_main_files/figure-html/unnamed-chunk-83-1.png" width="672" /></p>
<p>La l√©gende ne montre pas les num√©ros d‚Äôarbre en ordre croissance. En effet, la l√©gende (tout comme les facettes) classe les cat√©gories prioritairement selon l‚Äôordre des cat√©gories si elles sont ordinales, ou par ordre alphab√©tique si les cat√©gories sont nominales. Inspectons la colonne <code>Tree</code> en inspectant le tableau avec la commande <code>str()</code> - la commande <code>glimpse()</code> du tidyverse donne un sommaire moins complet que <code>str()</code>.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">str</span>(Orange)</code></pre>
<pre><code>## Classes &#39;nfnGroupedData&#39;, &#39;nfGroupedData&#39;, &#39;groupedData&#39; and &#39;data.frame&#39;:   35 obs. of  3 variables:
##  $ Tree         : Ord.factor w/ 5 levels &quot;3&quot;&lt;&quot;1&quot;&lt;&quot;5&quot;&lt;&quot;2&quot;&lt;..: 2 2 2 2 2 2 2 4 4 4 ...
##  $ age          : num  118 484 664 1004 1231 ...
##  $ circumference: num  30 58 87 115 120 142 145 33 69 111 ...
##  - attr(*, &quot;formula&quot;)=Class &#39;formula&#39;  language circumference ~ age | Tree
##   .. ..- attr(*, &quot;.Environment&quot;)=&lt;environment: R_EmptyEnv&gt; 
##  - attr(*, &quot;labels&quot;)=List of 2
##   ..$ x: chr &quot;Time since December 31, 1968&quot;
##   ..$ y: chr &quot;Trunk circumference&quot;
##  - attr(*, &quot;units&quot;)=List of 2
##   ..$ x: chr &quot;(days)&quot;
##   ..$ y: chr &quot;(mm)&quot;</code></pre>
<p>En effet, la colonne <code>Tree</code> est un facteur ordinal dont les niveaux sont dans le m√™me ordre que celui la l√©gende.</p>
</div>
<div id="les-histogrammes" class="section level3">
<h3><span class="header-section-number">4.8.5</span> Les histogrammes</h3>
<p>Nous avons vu les histogrammes dans la br√®ve section sur les fonctions graphiques de base dans R: il s‚Äôagit de segmenter l‚Äôaxe des x en incr√©ments, puis de pr√©senter sur l‚Äôaxe de y le nombre de donn√©es que l‚Äôon retrouve dans cet incr√©ment. Le marqueur √† utiliser est <code>geom_histogram()</code>.</p>
<p>Revenons √† nos escargots. Comment pr√©senteriez-vous la longueur de la coquille selon la variable <code>Type</code>? Selon des couleurs ou des facettes? La couleur, dans le cas des histogrammes, est celle du pourtour des barres. Pour colorer l‚Äôint√©rieur des barres, l‚Äôargument √† utiliser est <code>fill</code>.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">ggplot</span>(<span class="dt">data =</span> abalone, <span class="dt">mapping =</span> <span class="kw">aes</span>(<span class="dt">x =</span> LongestShell)) <span class="op">+</span>
<span class="st">  </span><span class="kw">geom_histogram</span>(<span class="dt">mapping =</span> <span class="kw">aes</span>(<span class="dt">fill =</span> Type), <span class="dt">colour =</span> <span class="st">&#39;black&#39;</span>)</code></pre>
<pre><code>## `stat_bin()` using `bins = 30`. Pick better value with `binwidth`.</code></pre>
<p><img src="_main_files/figure-html/unnamed-chunk-85-1.png" width="672" /></p>
<p>On n‚Äôy voit pas grand chose. Essayons plut√¥t les facettes.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">ggplot</span>(<span class="dt">data =</span> abalone, <span class="dt">mapping =</span> <span class="kw">aes</span>(<span class="dt">x =</span> LongestShell)) <span class="op">+</span>
<span class="st">  </span><span class="kw">facet_grid</span>(Type <span class="op">~</span><span class="st"> </span>.) <span class="op">+</span>
<span class="st">  </span><span class="kw">geom_histogram</span>()</code></pre>
<pre><code>## `stat_bin()` using `bins = 30`. Pick better value with `binwidth`.</code></pre>
<p><img src="_main_files/figure-html/unnamed-chunk-86-1.png" width="672" /></p>
<p>Les facettes permettent maintenant de bien distinguer la distribution des longueur des juv√©niles. L‚Äôargument <code>bins</code>, tout comme l‚Äôargument <code>breaks</code> du module graphique de base, permet de sp√©cifier le nombre d‚Äôincr√©ments, ce qui peut √™tre tr√®s utile en exploration de donn√©es.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">ggplot</span>(<span class="dt">data =</span> abalone, <span class="dt">mapping =</span> <span class="kw">aes</span>(<span class="dt">x =</span> LongestShell)) <span class="op">+</span>
<span class="st">  </span><span class="kw">facet_grid</span>(Type <span class="op">~</span><span class="st"> </span>.) <span class="op">+</span>
<span class="st">  </span><span class="kw">geom_histogram</span>(<span class="dt">bins=</span><span class="dv">60</span>, <span class="dt">colour =</span> <span class="st">&#39;white&#39;</span>)</code></pre>
<p><img src="_main_files/figure-html/unnamed-chunk-87-1.png" width="672" /></p>
<p>Le nombre d‚Äôincr√©ments est un param√®tre qu‚Äôil ne faut pas sous-estimer. √Ä preuve, ce tweet de <span class="citation">[@NicholasStrayer]</span>(<a href="https://twitter.com/NicholasStrayer" class="uri">https://twitter.com/NicholasStrayer</a>):</p>
<blockquote class="twitter-tweet" data-lang="fr">
<p lang="en" dir="ltr">
Histograms are fantastic, but make sure your bin-width/number is chosen well. This is the <em>exact</em> same data, plotted with different bin-widths. Notice that the pattern doesn't necessarily get clearer as bin num increases. <a href="https://twitter.com/hashtag/dataviz?src=hash&amp;ref_src=twsrc%5Etfw">#dataviz</a> <a href="https://t.co/3MhSFwTVPH">pic.twitter.com/3MhSFwTVPH</a>
</p>
‚Äî Nick Strayer (<span class="citation">@NicholasStrayer</span>) <a href="https://twitter.com/NicholasStrayer/status/1026893778404225024?ref_src=twsrc%5Etfw">7 ao√ªt 2018</a>
</blockquote>
<script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>
</div>
<div id="boxplots" class="section level3">
<h3><span class="header-section-number">4.8.6</span> Boxplots</h3>
<p>Les boxplots sont une autre mani√®re de visualiser des distributions. L‚Äôastuce est de cr√©er une bo√Æte qui s‚Äô√©tant du premier quartile (valeur o√π l‚Äôon retrouve 25% de donn√©es dont la valeur est inf√©rieure) au troisi√®me quartile (valeur o√π l‚Äôon retrouve 75% de donn√©es dont la valeur est inf√©rieure). Une barre √† l‚Äôint√©rieur de cette bo√Æte est plac√©e √† la m√©diane (qui est en fait le second quartile). De part et d‚Äôautre de la bo√Æte, on retrouve des lignes sp√©cifiant l‚Äô√©tendue hors quartile. Cette √©tendue peut √™tre d√©termin√©e de plusieurs mani√®res, mais dans le cas de ggplot2, il s‚Äôagit de 1.5 fois l‚Äô√©tendue de la bo√Æte (l‚Äô<em>√©cart interquartile</em>). Au-del√† de ces lignes, on retrouve les points repr√©sentant les valeurs extr√™mes. Le marqueur √† utiliser est <code>geom_boxplot()</code>. L‚Äôencodage x est la variable cat√©gorielle et l‚Äôencodage y est la variable continue.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">ggplot</span>(<span class="dt">data =</span> abalone, <span class="dt">mapping =</span> <span class="kw">aes</span>(<span class="dt">x =</span> Type, <span class="dt">y =</span> LongestShell)) <span class="op">+</span>
<span class="st">  </span><span class="kw">geom_boxplot</span>()</code></pre>
<p><img src="_main_files/figure-html/unnamed-chunk-88-1.png" width="672" /></p>
<p><strong>Exercice</strong>. On sugg√®re parfois de pr√©senter les mesures sur les boxplots. Utiliser <code>geom_jitter</code> avec un bruit horizontal.</p>
</div>
<div id="les-diagrammes-en-barre" class="section level3">
<h3><span class="header-section-number">4.8.7</span> Les diagrammes en barre</h3>
<p>Les diagrammes en barre repr√©sente une variable continue associ√©e √† une cat√©gorie. Les barres sont g√©n√©ralement horizontales et ordonn√©es. Nous y reviendrons √† la fin de ce chapitre, mais retenez pour l‚Äôinstant que dans tous les cas, les diagrammes en barre doivent inclure le z√©ro pour √©viter les mauvaises interpr√©tations.</p>
<p>Pour les diagrammes en barre, nous allons utiliser les donn√©es de l‚Äôunion internationale pour la conservation de la nature <a href="https://stats.oecd.org/Index.aspx?DataSetCode=WILD_LIFE">distribu√©es par l‚ÄôOCDE</a>.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Certaines  colonnes de caract√®re sont consid√©r√©es comme bool√©ennes</span>
<span class="co"># mieux vaut d√©finir leur type pour s&#39;assurer que le bon type</span>
<span class="co"># soit attribu√©</span>
especes_menacees &lt;-<span class="st"> </span><span class="kw">read_csv</span>(<span class="st">&#39;data/WILD_LIFE_09012019174644084.csv&#39;</span>,
                             <span class="dt">col_types =</span> <span class="kw">list</span>(<span class="st">&quot;c&quot;</span>, <span class="st">&quot;c&quot;</span>, <span class="st">&quot;c&quot;</span>, <span class="st">&quot;c&quot;</span>,
                                              <span class="st">&quot;c&quot;</span>, <span class="st">&quot;c&quot;</span>, <span class="st">&quot;c&quot;</span>, <span class="st">&quot;c&quot;</span>,
                                              <span class="st">&quot;d&quot;</span>, <span class="st">&quot;c&quot;</span>, <span class="st">&quot;c&quot;</span>, <span class="st">&quot;c&quot;</span>,
                                              <span class="st">&quot;d&quot;</span>, <span class="st">&quot;c&quot;</span>, <span class="st">&quot;c&quot;</span>))
<span class="kw">head</span>(especes_menacees)</code></pre>
<pre><code>## # A tibble: 6 x 15
##   IUCN  `IUCN Category` SPEC  Species COU   Country `Unit Code` Unit 
##   &lt;chr&gt; &lt;chr&gt;           &lt;chr&gt; &lt;chr&gt;   &lt;chr&gt; &lt;chr&gt;   &lt;chr&gt;       &lt;chr&gt;
## 1 TOT_‚Ä¶ Total number o‚Ä¶ MAMM‚Ä¶ Mammals AUS   Austra‚Ä¶ NBR         Numb‚Ä¶
## 2 ENDA‚Ä¶ Number of enda‚Ä¶ MAMM‚Ä¶ Mammals AUS   Austra‚Ä¶ NBR         Numb‚Ä¶
## 3 CRIT‚Ä¶ Number of crit‚Ä¶ MAMM‚Ä¶ Mammals AUS   Austra‚Ä¶ NBR         Numb‚Ä¶
## 4 VULN‚Ä¶ Number of vuln‚Ä¶ MAMM‚Ä¶ Mammals AUS   Austra‚Ä¶ NBR         Numb‚Ä¶
## 5 THRE‚Ä¶ Total number o‚Ä¶ MAMM‚Ä¶ Mammals AUS   Austra‚Ä¶ NBR         Numb‚Ä¶
## 6 TOT_‚Ä¶ Total number o‚Ä¶ MAMM‚Ä¶ Mammals AUT   Austria NBR         Numb‚Ä¶
## # ‚Ä¶ with 7 more variables: `PowerCode Code` &lt;dbl&gt;, PowerCode &lt;chr&gt;,
## #   `Reference Period Code` &lt;chr&gt;, `Reference Period` &lt;chr&gt;, Value &lt;dbl&gt;,
## #   `Flag Codes` &lt;chr&gt;, Flags &lt;chr&gt;</code></pre>
<p>L‚Äôexercice consiste √† cr√©er un diagramme en barres horizontales du nombre d‚Äôesp√®ces menac√©es de mani√®re critique pour les 10 pays qui en contiennent le plus. Je vais effectuer quelques op√©rations sur ce tableau afin d‚Äôen arriver avec un tableau que nous pourrons convenablement mettre en graphique: n‚Äôy portez pas trop attention pour l‚Äôinstant: ces op√©rations sont un avant-go√ªt du prochain chapitre.</p>
<p>Nous allons filtrer le tableau pour obtenir les esp√®ces critiquement menac√©es, s√©lectionner seulement le pays et le nombre d‚Äôesp√®ces, les grouper par pays, additionner toutes les esp√®ces pour chaque pays, les placer en ordre descendant et enfin s√©lectionner les 10 premiers. Comme vous le voyez, la cr√©ation de graphique est li√©e de pr√®s avec la manipulation des tableaux!</p>
<pre class="sourceCode r"><code class="sourceCode r">especes_crit &lt;-<span class="st"> </span>especes_menacees <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">filter</span>(IUCN <span class="op">==</span><span class="st"> &#39;CRITICAL&#39;</span>) <span class="op">%&gt;%</span>
<span class="st">  </span>dplyr<span class="op">::</span><span class="kw">select</span>(Country, Value) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">group_by</span>(Country)  <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">summarise</span>(<span class="dt">n_critical_species =</span> <span class="kw">sum</span>(Value)) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">arrange</span>(<span class="kw">desc</span>(n_critical_species)) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">head</span>(<span class="dv">10</span>)
especes_crit</code></pre>
<pre><code>## # A tibble: 10 x 2
##    Country         n_critical_species
##    &lt;chr&gt;                        &lt;dbl&gt;
##  1 Czech Republic                2159
##  2 United States                 1409
##  3 Germany                        915
##  4 Japan                          628
##  5 Austria                        618
##  6 Slovak Republic                602
##  7 Canada                         522
##  8 Poland                         485
##  9 Switzerland                    483
## 10 Brazil                         453</code></pre>
<p>Le premier type de diagramme en barre que nous allons couvrir est obtenu par le marqueur <code>geom_col()</code>.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">ggplot</span>(<span class="dt">data =</span> especes_crit, <span class="dt">mapping =</span> <span class="kw">aes</span>(<span class="dt">x =</span> Country, <span class="dt">y =</span> n_critical_species)) <span class="op">+</span>
<span class="st">  </span><span class="kw">geom_col</span>()</code></pre>
<p><img src="_main_files/figure-html/unnamed-chunk-91-1.png" width="672" /></p>
<p>Ce graphique est perfectible. Les barres sont verticales et non ordonn√©es. Souvenons-nous que ggplot2 ordonne par ordre alphab√©tique si aucun autre ordre est sp√©cifi√©. Nous pouvons changer l‚Äôordre en changeant l‚Äôordre des niveaux de la variable <code>Country</code> selon le nombre d‚Äôesp√®ces gr√¢ce √† la fonction <code>fct_reorder</code>.</p>
<pre class="sourceCode r"><code class="sourceCode r">especes_crit &lt;-<span class="st"> </span>especes_crit <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">mutate</span>(<span class="dt">Country =</span> <span class="kw">fct_reorder</span>(Country, n_critical_species))</code></pre>
<p>Pour faire pivoter le graphique, nous ajoutons <code>coord_flip()</code> √† la s√©quence.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">ggplot</span>(<span class="dt">data =</span> especes_crit, <span class="dt">mapping =</span> <span class="kw">aes</span>(<span class="dt">x =</span> Country, <span class="dt">y =</span> n_critical_species)) <span class="op">+</span>
<span class="st">  </span><span class="kw">geom_col</span>() <span class="op">+</span>
<span class="st">  </span><span class="kw">coord_flip</span>()</code></pre>
<p><img src="_main_files/figure-html/unnamed-chunk-93-1.png" width="672" /></p>
<p>Une autre m√©thode, <code>geom_bar()</code>, est un raccourcis permettant de compter le nombre d‚Äôoccurrence d‚Äôune variable unique. Par exemple, dans le tableau abalone, le nombre de fois que chaque niveau de la variable Type</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">ggplot</span>(<span class="dt">data =</span> abalone, <span class="dt">mapping =</span> <span class="kw">aes</span>(<span class="dt">x =</span> Type)) <span class="op">+</span>
<span class="st">  </span><span class="kw">geom_bar</span>() <span class="op">+</span><span class="st"> </span>
<span class="st">  </span><span class="kw">coord_flip</span>()</code></pre>
<p><img src="_main_files/figure-html/unnamed-chunk-94-1.png" width="672" /></p>
<p>Personnellement, je pr√©f√®re passer par un diagramme en lignes avec le marqueur <code>geom_segment()</code>. Cela me donne la flexibilit√© pour d√©finir un largeur de trait et √©ventuellement d‚Äôajouter un point au bout pour en faire un <a href="https://www.r-graph-gallery.com/lollipop-plot/">diagramme en su√ßon</a>.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">ggplot</span>(<span class="dt">data =</span> especes_crit, <span class="dt">mapping =</span> <span class="kw">aes</span>(<span class="dt">x =</span> Country, <span class="dt">y =</span> n_critical_species)) <span class="op">+</span>
<span class="st">  </span><span class="kw">geom_segment</span>(<span class="dt">mapping =</span> <span class="kw">aes</span>(<span class="dt">xend=</span>Country, <span class="dt">yend =</span> <span class="dv">0</span>), <span class="dt">lwd =</span> <span class="dv">2</span>) <span class="op">+</span>
<span class="st">  </span><span class="kw">geom_point</span>(<span class="dt">size=</span><span class="dv">6</span>, <span class="dt">colour =</span> <span class="st">&quot;black&quot;</span>) <span class="op">+</span>
<span class="st">  </span><span class="kw">coord_flip</span>() <span class="op">+</span>
<span class="st">  </span><span class="kw">theme_bw</span>()</code></pre>
<p><img src="_main_files/figure-html/unnamed-chunk-95-1.png" width="672" /></p>
<p>Les diagrammes en barre peuvent √™tre plac√©s en relation avec d‚Äôautres. Reprenons notre manipulation de donn√©es pr√©c√©dente, mais en incluant tous les pays.</p>
<pre class="sourceCode r"><code class="sourceCode r">especes_pays_iucn &lt;-<span class="st"> </span>especes_menacees <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">filter</span>(IUCN <span class="op">%in%</span><span class="st"> </span><span class="kw">c</span>(<span class="st">&#39;ENDANGERED&#39;</span>, <span class="st">&#39;VULNERABLE&#39;</span>,<span class="st">&#39;CRITICAL&#39;</span>)) <span class="op">%&gt;%</span>
<span class="st">  </span>dplyr<span class="op">::</span><span class="kw">select</span>(IUCN, Country, Value) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">group_by</span>(Country, IUCN) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">summarise</span>(<span class="dt">n_species =</span> <span class="kw">sum</span>(Value)) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">group_by</span>(Country) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">mutate</span>(<span class="dt">n_tot =</span> <span class="kw">sum</span>(n_species)) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ungroup</span>() <span class="op">%&gt;%</span><span class="st"> </span><span class="co"># pour pouvoir modifier Country, non modifiable tant qu&#39;elle est une variable de regroupement (voir group_by)</span>
<span class="st">  </span><span class="kw">mutate</span>(<span class="dt">Country =</span> <span class="kw">fct_reorder</span>(Country, n_tot))
<span class="kw">head</span>(especes_pays_iucn)</code></pre>
<pre><code>## # A tibble: 6 x 4
##   Country   IUCN       n_species n_tot
##   &lt;fct&gt;     &lt;chr&gt;          &lt;dbl&gt; &lt;dbl&gt;
## 1 Australia CRITICAL         228  1752
## 2 Australia ENDANGERED       701  1752
## 3 Australia VULNERABLE       823  1752
## 4 Austria   CRITICAL         618  2826
## 5 Austria   ENDANGERED       924  2826
## 6 Austria   VULNERABLE      1284  2826</code></pre>
<p>Pour placer les barres les unes √† c√¥t√© des autres, nous sp√©cifions <code>position = &quot;dodge&quot;</code>.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">ggplot</span>(<span class="dt">data =</span> especes_pays_iucn, <span class="dt">mapping =</span> <span class="kw">aes</span>(<span class="dt">x =</span> Country, <span class="dt">y =</span> n_species)) <span class="op">+</span>
<span class="st">  </span><span class="kw">geom_col</span>(<span class="kw">aes</span>(<span class="dt">fill=</span>IUCN), <span class="dt">position =</span> <span class="st">&quot;dodge&quot;</span>) <span class="op">+</span>
<span class="st">  </span><span class="kw">coord_flip</span>()</code></pre>
<p><img src="_main_files/figure-html/unnamed-chunk-97-1.png" width="672" /></p>
<p>Il est parfois plus pratique d‚Äôutiliser les facettes.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">ggplot</span>(<span class="dt">data =</span> especes_pays_iucn, <span class="dt">mapping =</span> <span class="kw">aes</span>(<span class="dt">x =</span> Country, <span class="dt">y =</span> n_species)) <span class="op">+</span>
<span class="st">  </span><span class="kw">facet_grid</span>(IUCN <span class="op">~</span><span class="st"> </span>.) <span class="op">+</span>
<span class="st">  </span><span class="kw">geom_col</span>() <span class="op">+</span>
<span class="st">  </span><span class="kw">coord_flip</span>()</code></pre>
<p><img src="_main_files/figure-html/unnamed-chunk-98-1.png" width="672" /></p>
</div>
<div id="exporter-un-graphique" class="section level3">
<h3><span class="header-section-number">4.8.8</span> Exporter un graphique</h3>
<p>Plus besoin d‚Äôutiliser la fonction <code>png()</code> en mode ggplot2. Utilisons plut√¥t <code>ggsave()</code>.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">ggplot</span>(<span class="dt">data =</span> especes_pays_iucn, <span class="dt">mapping =</span> <span class="kw">aes</span>(<span class="dt">x =</span> Country, <span class="dt">y =</span> n_species)) <span class="op">+</span>
<span class="st">  </span><span class="kw">facet_grid</span>(IUCN <span class="op">~</span><span class="st"> </span>.) <span class="op">+</span>
<span class="st">  </span><span class="kw">geom_col</span>(<span class="kw">aes</span>(<span class="dt">fill=</span>IUCN)) <span class="op">+</span>
<span class="st">  </span><span class="kw">coord_flip</span>()</code></pre>
<p><img src="_main_files/figure-html/unnamed-chunk-99-1.png" width="672" /></p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">ggsave</span>(<span class="st">&quot;images/especes_pays_iucn.png&quot;</span>, <span class="dt">width =</span> <span class="dv">6</span>, <span class="dt">height =</span> <span class="dv">8</span>, <span class="dt">dpi =</span> <span class="dv">300</span>)</code></pre>
</div>
</div>
<div id="les-graphiques-comme-outil-dexploration-des-donnees" class="section level2">
<h2><span class="header-section-number">4.9</span> Les graphiques comme outil d‚Äôexploration des donn√©es</h2>
<p>La plupart des graphiques que vous cr√©erez ne seront pas destin√©s √† √™tre publi√©s, mais serviront d‚Äôoutil d‚Äôexploration des donn√©es. Le jeu de donn√©es datasaurus, pr√©sent√© en <a href="#Pourquoi-explorer-grapiquement%3F">d√©but de chapitre</a>, permet de saisir l‚Äôimportance des outils graphiques pour bien comprendre les donn√©es.</p>
<pre class="sourceCode r"><code class="sourceCode r">datasaurus &lt;-<span class="st"> </span><span class="kw">read_tsv</span>(<span class="st">&#39;data/DatasaurusDozen.tsv&#39;</span>)</code></pre>
<pre><code>## Parsed with column specification:
## cols(
##   dataset = col_character(),
##   x = col_double(),
##   y = col_double()
## )</code></pre>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">head</span>(datasaurus)</code></pre>
<pre><code>## # A tibble: 6 x 3
##   dataset     x     y
##   &lt;chr&gt;   &lt;dbl&gt; &lt;dbl&gt;
## 1 dino     55.4  97.2
## 2 dino     51.5  96.0
## 3 dino     46.2  94.5
## 4 dino     42.8  91.4
## 5 dino     40.8  88.3
## 6 dino     38.7  84.9</code></pre>
<p>Projetons d‚Äôabord les coordonn√©es x et y sur un graphique. J‚Äôutilise FacetGrid ici, sachant que ce sera utile pour l‚Äôexploration.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">ggplot</span>(<span class="dt">data =</span> datasaurus, <span class="dt">mapping =</span> <span class="kw">aes</span>(<span class="dt">x =</span> x, <span class="dt">y =</span> y)) <span class="op">+</span>
<span class="st">  </span><span class="kw">geom_point</span>()</code></pre>
<p><img src="_main_files/figure-html/unnamed-chunk-101-1.png" width="672" /></p>
<p>Ce graphique pourrait ressembler √† une distribution binormale, ou <em>un coup de 12 dans une porte de grange</em>. Mais on aper√ßoit des donn√©es align√©es, parfois de mani√®re rectiligne, parfois en forme d‚Äôellipse. Le tableau <code>datasaurus</code> a une colonne d‚Äôinformation suppl√©mentaire. Utilisons-la comme cat√©gorie pour g√©n√©rer des couleurs diff√©rente.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">ggplot</span>(<span class="dt">data =</span> datasaurus, <span class="dt">mapping =</span> <span class="kw">aes</span>(<span class="dt">x =</span> x, <span class="dt">y =</span> y)) <span class="op">+</span>
<span class="st">  </span><span class="kw">geom_point</span>(<span class="dt">mapping =</span> <span class="kw">aes</span>(<span class="dt">colour =</span> dataset))</code></pre>
<p><img src="_main_files/figure-html/unnamed-chunk-102-1.png" width="672" /></p>
<p>Ce n‚Äôest pas vraiment plus clair. Il y a toutefois des formes qui se d√©gage, comme des ellipse et des lignes. Et si je regarde bien, j‚Äôy vois une √©toile. La cat√©gorisation pourrait-elle √™tre mieux utilis√©e si on segmentait par facettes au lieu de des couleurs?</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">ggplot</span>(<span class="dt">data =</span> datasaurus, <span class="dt">mapping =</span> <span class="kw">aes</span>(<span class="dt">x =</span> x, <span class="dt">y =</span> y)) <span class="op">+</span>
<span class="st">  </span><span class="kw">facet_wrap</span>(<span class="op">~</span>dataset, <span class="dt">nrow=</span><span class="dv">2</span>) <span class="op">+</span>
<span class="st">  </span><span class="kw">geom_point</span>(<span class="dt">size =</span> <span class="fl">0.5</span>) <span class="op">+</span>
<span class="st">  </span><span class="kw">coord_equal</span>()</code></pre>
<p><img src="_main_files/figure-html/unnamed-chunk-103-1.png" width="672" /></p>
<p>Voil√†! Fait int√©ressant, ni les statistiques, ni les algorithmes de regroupement ne nous auraient √©t√© utiles pour diff√©rencier les groupes!</p>
<div id="des-graphiques-interactifs" class="section level3">
<h3><span class="header-section-number">4.9.1</span> Des graphiques interactifs!</h3>
<p>Les graphiques sont traditionnellement des images statiques. Toutefois, les graphiques n‚Äô√©tant pas d√©pendants de supports papiers peuvent √™tre utilis√©s de mani√®re diff√©rente, en ajoutant une couche d‚Äôinteraction. Con√ßue √† Montr√©al, plotly est un module graphique interactif en soi. Il peut √™tre utilis√© gr√¢ce √† son outil web, tout comme il peut √™tre interfac√© avec R, Python, javascript, etc. Mais ce qui retient notre attention ici est son interface avec ggplot2.</p>
<p>Les graphiques ggplot2 peuvent √™tre enregistr√©s en tant qu‚Äôobjets. Il peuvent cons√©quemment √™tre manipul√©s par des fonctions. La fonction ggplotly permet de rendre votre ggplot interactif.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(<span class="st">&quot;plotly&quot;</span>)</code></pre>
<pre><code>## 
## Attaching package: &#39;plotly&#39;</code></pre>
<pre><code>## The following object is masked from &#39;package:ggplot2&#39;:
## 
##     last_plot</code></pre>
<pre><code>## The following object is masked from &#39;package:stats&#39;:
## 
##     filter</code></pre>
<pre><code>## The following object is masked from &#39;package:graphics&#39;:
## 
##     layout</code></pre>
<pre class="sourceCode r"><code class="sourceCode r">especes_crit_bar &lt;-<span class="st"> </span><span class="kw">ggplot</span>(<span class="dt">data =</span> especes_crit, <span class="dt">mapping =</span> <span class="kw">aes</span>(<span class="dt">x =</span> Country, <span class="dt">y =</span> n_critical_species)) <span class="op">+</span>
<span class="st">  </span><span class="kw">geom_segment</span>(<span class="dt">mapping =</span> <span class="kw">aes</span>(<span class="dt">xend=</span>Country, <span class="dt">yend =</span> <span class="dv">0</span>), <span class="dt">lwd =</span> <span class="dv">2</span>) <span class="op">+</span>
<span class="st">  </span><span class="kw">geom_point</span>(<span class="dt">size=</span><span class="dv">6</span>) <span class="op">+</span>
<span class="st">  </span><span class="kw">coord_flip</span>()
<span class="co"># ggplotly(especes_crit_bar) # erreur en Rmd</span></code></pre>
</div>
<div id="des-extensions-de-ggplot2" class="section level3">
<h3><span class="header-section-number">4.9.2</span> Des extensions de ggplot2</h3>
<p>ggplot2 est un module graphique √©l√©gant et polyvalent. Il a pourtant bien des limitations. Justement, le module est con√ßu pour √™tre impl√©ment√© avec des extensions. Vous en trouverez plusieurs sur <a href="http://www.ggplot2-exts.org/gallery/">ggplot2-exts.org</a>, mais en trouverez de nombreuses autres en cherchant avec le terme ggplot2 sur <a href="https://github.com/search?q=ggplot2">github.com</a>, probablement la plate-forme (voire un r√©seau social) de d√©veloppement de logiciels la plus utilis√©e dans le monde. En voici quelques unes.</p>
<ul>
<li><a href="https://github.com/cttobin/ggthemr">ggthemr</a>: sp√©cifier un th√®me graphique une seule fois dans votre session, et tout le reste suit.</li>
<li><a href="https://github.com/wilkelab/cowplot">cowplot</a> permet de cr√©er des graphiques pr√™ts pour la publication, par exemple en cr√©ant des grilles de plusieurs ggplots, en les num√©rotant, etc.</li>
<li>Si les th√®mes de base ne vous conviennent pas, vous en trouverez d‚Äôautres en installant <a href="https://github.com/jrnold/ggthemes">ggthemes</a>.</li>
<li><a href="https://github.com/dkahle/ggmap">ggmap</a> et <a href="https://github.com/paleolimbot/ggspatial">ggspatial</a> sont deux extensions pour cr√©er des cartes. Un chapitre sur les donn√©es spatiales est en d√©veloppement.</li>
<li><a href="http://www.ggtern.com/">ggtern</a> permet de cr√©er des diagrammes ternaires, qui sont utiles pour la visualisation de proportions incluant trois composantes. Ce sujet est couvert au chapitre 6, en d√©veloppement.</li>
</ul>
</div>
<div id="aller-plus-loin-avec-ggplot2" class="section level3">
<h3><span class="header-section-number">4.9.3</span> Aller plus loin avec ggplot2</h3>
<ul>
<li><a href="@ClausWilke">Claus O. Wilke</a> est professeur en biologie int√©grative √† l‚ÄôUniversit√© du Texas √† Austin. Son livre <a href="https://serialmentor.com/dataviz/">Fundamentals of Data Visualization</a> est un guide th√©orique et pratique pour la visualisation de donn√©es avec ggplot2.</li>
<li>Le site <a href="https://www.data-to-viz.com/">data-to-viz.com</a> vous accompagne dans le choix du graphique √† cr√©er selon vos donn√©es.</li>
<li>Le site <a href="https://www.r-graph-gallery.com/">r-graph-gallery.com</a> offre des recettes pour cr√©er des graphiques avec ggplot2.</li>
</ul>
</div>
</div>
<div id="choisir-les-bonnes-couleurs" class="section level2">
<h2><span class="header-section-number">4.10</span> Choisir les bonnes couleurs</h2>
<p><em>La couleur est une information</em>. Les couleurs devraient √™tre s√©lectionn√©es d‚Äôabord pour √™tre lisibles par les personnes ne percevant pas les couleurs, selon le support (apte √† √™tre photocopi√©, lisible √† l‚Äô√©cran, lisible sur des documents imprim√©s en noir et blanc) et selon le type de donn√©es.
- Donn√©es continues ou cat√©gorielles ordinales: gradient (transition graduelle d‚Äôune couleur √† l‚Äôautre), s√©quence (transition saccad√©e selon des groupes de donn√©es continues) ou divergentes (transition saccad√©e d‚Äôune couleur √† l‚Äôautre vers des couleurs divergentes, par exemple orange vers blanc vers bleu).
- Donn√©es cat√©gorielles nominales: couleurs √©loign√©es d‚Äôune cat√©gorie √† une autre (plus il y a de cat√©gories, plus les couleurs sont susceptibles de se ressembler).</p>
<p><img src="images/03_colorbrewer2.png" width="200">
Capture d‚Äô√©cran de <a href="http://colorbrewer2.org">colorbrewer2.org</a>, qui propose des palettes de couleurs pour cr√©er des cartes, mais l‚Äôinformation est pertinente pour tout type de graphique.</p>
</div>
<div id="regles-particulieres" class="section level2">
<h2><span class="header-section-number">4.11</span> R√®gles particuli√®res</h2>
<blockquote>
<p>Les mauvais graphiques peuvent survenir √† cause de l‚Äôignorance, bien s√ªr, mais souvent ils existent pour la m√™me raison que la boeuferie [<em>bullhist</em>] verbale ou √©crite. Parfois, les gens ne se soucient pas de la fa√ßon dont ils pr√©sentent les donn√©es aussi longtemps que √ßa appuie leurs arguments et, parfois, ils ne se soucient pas que √ßa porte √† confusion tant qu‚Äôils ont l‚Äôair impressionnant. <span class="math inline">\(-\)</span> Carl Bergstorm et Jevin West, <a href="https://graphpaperdiaries.com/2017/04/09/calling-bs-read-along-week-6-data-visualization/">Calling Bullshit Read-Along Week 6: Data Visualization</a></p>
</blockquote>
<p>Une repr√©sentation visuelle est un outil tranchant qui peut autant pr√©senter un √©tat v√©ritable des donn√©es qu‚Äôune perspective trompeuse. Bien souvent, une ou plusieurs des 5 qualit√©s ne sont pas respect√©es. Les occasions d‚Äôerreur ne manquent pas - j‚Äôen ferai mention dans la section <em>Choisir le bon type de graphique</em>. Pour l‚Äôinstant, notons quelques r√®gles particuli√®res.</p>
<div id="ne-tronquez-pas-inutilement-laxe-des-y" class="section level3">
<h3><span class="header-section-number">4.11.1</span> Ne tronquez pas inutilement l‚Äôaxe des <span class="math inline">\(y\)</span></h3>
<p>Tronquer l‚Äôaxe vertical peut amener √† porter de fausses conclusions.</p>
<center>
<img src="https://i2.wp.com/flowingdata.com/wp-content/uploads/2015/08/bar-plots1.png?w=1800">
Effets sur la perception d‚Äôutiliser diff√©rentes r√©f√©rences. Source: Yau (2015), <a href="https://flowingdata.com/2015/08/11/real-chart-rules-to-follow/">Real Chart Rules to Follow</a>.
</center>
<p>La r√®gle semble simple: les diagrammes en barre (utilis√©s pour repr√©senter une grandeur) devraient toujours pr√©senter le 0 et les diagrammes en ligne (utilis√©s pour pr√©senter des tendances) ne requiert pas n√©cessairement le z√©ro ((Bergstrom et West, Calling bullshit: Misleading axes on graphs)[<a href="http://callingbullshit.org/tools/tools_misleading_axes.html" class="uri">http://callingbullshit.org/tools/tools_misleading_axes.html</a>]). Mais le z√©ro n‚Äôest pas toujours li√© √† une quantit√© particuli√®re, par exemple, la temp√©rature ou un log-ratio. De plus, avec un diagramme en ligne on pourra toujours magnifier des tendances en zoomant sur une variation somme toute mineure. On arrive donc moins √† une r√®gle qu‚Äôune qualit√© d‚Äôun bon graphique, en particulier la qualit√© no 1 de Cairo: offrir une repr√©sentation honn√™te des donn√©es. Par exemple, Nathan Yau, auteur du blogue Flowing Data, <a href="https://flowingdata.com/2015/08/31/bar-chart-baselines-start-at-zero/">propose</a> de pr√©senter des r√©sultats de mani√®re relative √† la mesure initiale. C‚Äôest d‚Äôailleurs ce qui a √©t√© fait pour g√©n√©rer le graphique de Michael Mann et al., ci-dessus, o√π le z√©ro correspond √† la moyenne des temp√©ratures enregistr√©es entre 1961 et 1990.</p>
<p>Il peut √™tre tentant de tronquer l‚Äôaxe des <span class="math inline">\(y\)</span> lorsque l‚Äôon d√©sire superposer deux axes verticaux. Souvent, l‚Äôutilisation de plusieurs axes verticaux am√®ne une perception de causalit√© dans des situations de <a href="http://www.tylervigen.com/spurious-correlations">fausses corr√©lations</a>. On ne devrait pas utiliser plusieurs axes verticaux.</p>
</div>
<div id="utilisez-un-encrage-proportionnel" class="section level3">
<h3><span class="header-section-number">4.11.2</span> Utilisez un encrage proportionnel</h3>
<p>Cette r√®gle a √©t√© propos√©e par Edward Tufte dans <a href="https://ariane25.bibl.ulaval.ca/ariane/wicket/detail?c=ariane&amp;m=S&amp;rq.ct=PE&amp;rq.fa=false&amp;rq.r.esc=false&amp;rq.r.l%5B0%5D.c=TI&amp;rq.r.l%5B0%5D.ex=false&amp;rq.r.l%5B0%5D.op=AND&amp;rq.r.l%5B0%5D.v=Visual+Display+of+Quantitative+Information&amp;rq.r.la=*&amp;rq.r.loc=*&amp;rq.r.pft=false&amp;rq.r.ta=*&amp;rq.r.td=*&amp;rq.rows=2&amp;rq.st=1">Visual Display of Quantitative Information</a>. Une des raisons pour lesquelles on √©vite de tronquer l‚Äôaxe des <span class="math inline">\(y\)</span> en particulier pour les diagrammes en barre est que l‚Äôaire repr√©sentant une mesure (la quantit√© d‚Äô‚Äúencre‚Äù n√©cessaire pour la dessiner) devrait √™tre proportionnelle √† sa magnitude. Les diagrammes en barre sont particuli√®rement sensibles √† cette r√®gle, √©tant donn√©e que la largeur des barres peuvent amplifier l‚Äôaire occup√©e. Deux solutions dans ce cas: (1) utiliser des barres minces ou (2) pr√©f√©rer des ‚Äúdiagrammes de points‚Äù (<em>dot charts</em>, √† ne pas confondre aux nuages de points).</p>
<p>L‚Äôencrage a beau √™tre proportionnel, la difficult√© que les humains √©prouvent √† comparer la dimension des cercles, et <em>a fortiori</em> la dimension de parties de cercle, donne peu d‚Äôavantage √† utiliser des diagrammes en pointe de tarte, souvent utilis√©s pour illustrer des proportions. Nathan Yau <a href="https://flowingdata.com/2015/08/11/real-chart-rules-to-follow/">sugg√®re</a> de les utiliser avec suspicions et d‚Äôexplorer d‚Äô<a href="https://flowingdata.com/2009/11/25/9-ways-to-visualize-proportions-a-guide/">autres options</a>.</p>
<p><img src="https://i0.wp.com/flowingdata.com/wp-content/uploads/2015/08/pies.png?w=1800&amp;ssl=1" /></p>
<p>Pour comparer deux proportions, une avenue int√©ressante est le diagramme en pente, sugg√©r√© notamment par <a href="http://annkemery.com/avoiding-diagonal-text/#">Ann K. Emery</a>.</p>
<p><img src="images/03_ann-emery-slope-chart.png" /></p>
<p>Par extension, le diagramme en pente devient un diagramme en ligne lorsque plusieurs types de proportions sont compar√©es, ou lorsque des proportions √©voluent selon des donn√©es continuent.</p>
<p>De la m√™me mani√®re, les <a href="https://datavizcatalogue.com/methods/bubble_chart.html">diagrammes en bulles</a> ne devraient pas √™tre repr√©sentatifs de la quantit√©, mais plut√¥t de contextualiser des donn√©es. Justement, le graphique tir√© des donn√©es de <em>Gap minder</em> pr√©sent√© plus haut est une contextualisation: l‚Äôaire d‚Äôun cercle ne permet pas de saisir la population d‚Äôun pays, mais de comparer grossi√®rement la population d‚Äôun pays par rapport aux autres.</p>
</div>
<div id="publiez-vos-donnees" class="section level3">
<h3><span class="header-section-number">4.11.3</span> Publiez vos donn√©es</h3>
<p>Vous avez peut-√™tre d√©j√† feuillet√© un article et voulu avoir acc√®s aux donn√©es incluses dans un graphique. Il existe des outils pour digitaliser des graphiques pour en extraire les donn√©es. Mais le processus est fastidieux, long, souvent peu pr√©cis. De plus en plus, les chercheurs sont encourag√©s √† publier leurs donn√©es et leurs calculs. Matplotlib et Seaborn sont des outils graphiques classiques qui devraient √™tre accompagn√©s des donn√©es et calculs ayant servi √† les g√©n√©rer. Mais ce n‚Äôest pas id√©al non plus. En revanche, les outils graphiques modernes comme Plotly et Altair peuvent √™tre export√©s en code javascipt, qui contient toutes les informations sur les donn√©es et la mani√®re de les repr√©senter graphiquement. Ce chapitre a pour objectif de vous familiariser avec les outils de base les plus commun√©ment utilis√©s en calcul scientifique avec Python, mais je vous encourage √† explorer la nouvelle g√©n√©ration d‚Äôoutils graphiques.</p>
</div>
<div id="visitez-www.junkcharts.typepad.com-de-temps-a-autre" class="section level3">
<h3><span class="header-section-number">4.11.4</span> Visitez www.junkcharts.typepad.com de temps √† autre</h3>
<p>Le statisticien et blogueur Kaiser Fung s‚Äôaffaire quotidiennement √† proposer des am√©liorations √† de mauvais graphiques sur son blogue <a href="www.junkcharts.typepad.com">Junk Charts</a>.</p>

</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="chapitre-tableaux.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="chapitre-biostats.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"google": false,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:" && /^https?:/.test(src))
      src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
